(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1076:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"ChevronRightMediumThick","aria-hidden":!0,focusable:!1,width:8*t,height:13*t,viewBox:"0 0 8 13",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("path",{fill:"none",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",d:"M2 2l4 4.5L2 11"}))},e.exports.displayName="Svg(ChevronRightMediumThick)"},1079:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.getBindingContextOptions=function(e){var t=e.DYN_CONTEXT,a=e.filterFieldSlugPath,n=e.listCollection,l=e.contextCollection;if(n){var i=l||{},o=i._id,r=void 0===o?null:o,s=i.singularName,d=void 0===s?"":s,c=l?l.fields.filter(function(e){return"ItemRef"===e.get("type")||"ItemRefSet"===e.get("type")}).reduce(function(e,t){var a=t.getIn(["validations","collectionId"]),n=t.get("name"),l=t.get("slug"),i=t.get("type");return e[a]=(e[a]||[]).concat({name:n,slug:l,type:i}),e},{}):{},f=n.fields,m=(0,u.isFieldOfItemRef)(a)?null:(0,u.getValueFieldSlug)(a),p=m&&f.find(function(e){return e.get("slug")===m}),h=p&&p.getIn(["validations","collectionId"]),v="string"==typeof h&&(0,g.get)(c,h)||[],S=v.map(function(e){var a="ItemRefSet"===e.type?"Any ":"";return{label:"".concat(a).concat(e.name," of Current ").concat(d),value:"".concat(t,".").concat(e.slug)}});if(h===r){var E={label:"Current "+d,value:t};return[E].concat(S)}return S}return[]},t.convertItemRefFilterOperatorForPersisting=function(e,t,a,n){if("ItemRef"!==e)return n;var l="string"==typeof t&&/^DYN_CONTEXT\..+/.test(t)&&t.replace(/^DYN_CONTEXT\./,"");return"ItemRefSet"===(l&&(0,s.getTypeBySlug)(l,a))?h(n):p(n)},t.convertItemRefFilterOperatorForRendering=convertItemRefFilterOperatorForRendering,t.getHumanText=function(e){var t=e.item,a=e.collection,n=e.field,l=e.collectionState,i=e.bindingContextState,o=t.operator,r=t.value,s=t.value2,u=t.value3,c=l.collections,f=i.contextCollectionId,m=f?c.get(f):null,g=getValueText({operator:o,value:r,value2:s,value3:u,collection:a,field:n,collectionState:l,contextCollection:m}),p=a.singularName,h=n.name,v=getNormalizedFieldType(n);switch(convertItemRefFilterOperatorForRendering(v,o)){case d.OPERATOR_EQ:return"Id"===v?p+" is "+g:h+" is "+g;case d.OPERATOR_NE:return"Id"===v?p+" is not "+g:h+" is not "+g;case d.OPERATOR_GT:return h+" is greater than "+g;case d.OPERATOR_LT:return h+" is less than "+g;case d.OPERATOR_GTE:var S="Date"===v?g:r,E="Date"===v?"after":"greater than";return"".concat(h," is ").concat(E," or equal to ").concat(S);case d.OPERATOR_LTE:var N="Date"===v?g:r,C="Date"===v?"before":"less than";return"".concat(h," is ").concat(C," or equal to ").concat(N);case d.OPERATOR_EXISTS:return h+" is set";case d.OPERATOR_NOT_EXISTS:return h+" is not set";case d.OPERATOR_IDIN:return h+" contains "+g;case d.OPERATOR_IDNIN:return h+" does not contain "+g;case d.OPERATOR_TRUE:return h+" is on";case d.OPERATOR_FALSE:return h+" is off";default:return""}},t.getValueText=getValueText,t.getAvailableOperatorsByFieldType=function(e){switch(e){case"PlainText":case"Option":case"Email":case"Phone":return[{name:"Equals",id:d.OPERATOR_EQ},{name:"Does Not Equal",id:d.OPERATOR_NE},{name:"Is Set",id:d.OPERATOR_EXISTS},{name:"Is Not Set",id:d.OPERATOR_NOT_EXISTS}];case"RichText":case"ImageRef":case"Video":case"Link":case"FileRef":return[{name:"Is Set",id:d.OPERATOR_EXISTS},{name:"Is Not Set",id:d.OPERATOR_NOT_EXISTS}];case"Number":case"CommercePrice":return[{name:"Equals",id:d.OPERATOR_EQ},{name:"Does Not Equal",id:d.OPERATOR_NE},{name:"Is Greater Than",id:d.OPERATOR_GT},{name:"Is Less Than",id:d.OPERATOR_LT},{name:"Is Set",id:d.OPERATOR_EXISTS},{name:"Is Not Set",id:d.OPERATOR_NOT_EXISTS}];case"Bool":return[{name:"is On",id:d.OPERATOR_TRUE},{name:"is Off",id:d.OPERATOR_FALSE}];case"Date":return[{name:"Is set",id:d.OPERATOR_EXISTS},{name:"Is not set",id:d.OPERATOR_NOT_EXISTS},{name:"Is after or equal to...",id:d.OPERATOR_GTE},{name:"Is before or equal to...",id:d.OPERATOR_LTE}];case"ItemRef":return[{name:"Equals",id:d.OPERATOR_EQ},{name:"Does Not Equal",id:d.OPERATOR_NE},{name:"Is Set",id:d.OPERATOR_EXISTS},{name:"Is Not Set",id:d.OPERATOR_NOT_EXISTS}];case"ItemRefSet":return[{name:"Contains",id:d.OPERATOR_IDIN},{name:"Does Not Contain",id:d.OPERATOR_IDNIN},{name:"Is Set",id:d.OPERATOR_EXISTS},{name:"Is Not Set",id:d.OPERATOR_NOT_EXISTS}];default:return[{name:"Equals",id:d.OPERATOR_EQ}]}},t.getReferencedCollection=t.getCollection=void 0;var i=l(a(373)),o=a(433),r=a(454),s=a(501),d=n(a(709)),u=a(496),c=a(400),f=a(390),m=a(427),g=a(451);var p=function(e){switch(e){case d.OPERATOR_IDIN:return d.OPERATOR_EQ;case d.OPERATOR_IDNIN:return d.OPERATOR_NE;default:return e}},h=function(e){switch(e){case d.OPERATOR_EQ:return d.OPERATOR_IDIN;case d.OPERATOR_NE:return d.OPERATOR_IDNIN;default:return e}};function convertItemRefFilterOperatorForRendering(e,t){return"ItemRef"===e?p(t):t}function getNormalizedFieldType(e){return"_id"!==e.get("name")?e.get("type"):"Id"}function getValueText(e){var t=e.operator,a=e.value,n=e.value2,l=e.value3,r=e.collection,s=e.field,u=e.collectionState,c=e.contextCollection,f=getNormalizedFieldType(s);if("Id"===f)return"Current "+r.singularName;var g="string"==typeof a?u.items.get(a):null;if(g)return(0,o.itemLabel)(g,u.scheduledItems);if(null==a)return"";if("Date"===f)return 0!==a&&n?"boolean"==typeof l||null===l?function(e){var t=e.operator,a=e.value,n=e.value2,l=e.value3,i=t===d.OPERATOR_GTE?"ago":"from now",o=l?" excluding today":"";return"".concat(a," ").concat(n," ").concat(i).concat(o)}({operator:t,value:a,value2:n,value3:l}):function(e){var t=e.value,a=e.value2,n=e.value3;return"".concat(t," ").concat(a," ").concat(m.TENSES_TO_HUMAN_PHRASES_MAP[n])}({value:a,value2:n,value3:l}):"today";if(a=String(a),"Bool"===f)return"true"===a?"on":"false";if("Option"===f){var p=s.getIn(["validations","options"]).find(function(e){return e.get("id")===a});return p?p.get("name"):"(Unknown)"}if("ItemRef"===f||"ItemRefSet"===f){var h=i.default.dynamicContextConstant;if(c&&0===a.indexOf(h+".")){var v=c.singularName,S=c.fields,E=a.replace(/^DYN_CONTEXT\./,""),N=S.find(function(e){return e.get("slug")===E}),C=N?N.get("name"):E;return(N&&"ItemRefSet"===N.get("type")?"Any ":"")+C+" of Current "+v}return 0===a.indexOf(h)?c?"Current "+c.singularName:"Different Context":"Deleted Item"}return a}var v=function(e,t,a){var n=t.collections,l=a.contextCollectionId;return(0,r.getAllCollections)({collections:n,contextCollectionId:l}).find(function(t){return t._id===e})};t.getCollection=v;t.getReferencedCollection=function(e,t,a,n){var l=v(t,a,n),i=e&&(0,c.getFieldBySlug)(l,e),o=i?(0,f.itemRefTargetCollectionId)(i):"";return o?v(o,a,n):null}},1399:function(e,t,a){"use strict";var n=a(322);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.children,a=e.items,n=a.filter(function(e){return!e.mint}).size>0;return l.createElement("div",{className:"kit-list-wrapper"},l.createElement("div",{className:"kit-list"},a.map(t)),n?null:l.createElement("div",{className:"kit-empty-list"},"None"))};var l=n(a(320));a(331)},1400:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(331),l=a(496),i=(0,n.Record)({fieldPath:(0,l.createFieldPath)(""),operator:"",value:"",value2:"",value3:"",open:!1,mint:!1});t.default=i},1401:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(426)),c=n(a(685)),f=[{value:"ease",label:"ease"},{value:"ease-in",label:"ease-in"},{value:"ease-out",label:"ease-out"},{value:"ease-in-out",label:"ease-in-out"},{value:"linear",label:"linear"},{value:"ease-in-quad",label:"ease-in-quad"},{value:"ease-in-cubic",label:"ease-in-cubic"},{value:"ease-in-quart",label:"ease-in-quart"},{value:"ease-in-quint",label:"ease-in-quint"},{value:"ease-in-sine",label:"ease-in-sine"},{value:"ease-in-expo",label:"ease-in-expo"},{value:"ease-in-circ",label:"ease-in-circ"},{value:"ease-in-back",label:"ease-in-back"},{value:"ease-out-quad",label:"ease-out-quad"},{value:"ease-out-cubic",label:"ease-out-cubic"},{value:"ease-out-quart",label:"ease-out-quart"},{value:"ease-out-quint",label:"ease-out-quint"},{value:"ease-out-sine",label:"ease-out-sine"},{value:"ease-out-expo",label:"ease-out-expo"},{value:"ease-out-circ",label:"ease-out-circ"},{value:"ease-out-back",label:"ease-out-back"},{value:"ease-in-out-quad",label:"ease-in-out-quad"},{value:"ease-in-out-cubic",label:"ease-in-out-cubic"},{value:"ease-in-out-quart",label:"ease-in-out-quart"},{value:"ease-in-out-quint",label:"ease-in-out-quint"},{value:"ease-in-out-sine",label:"ease-in-out-sine"},{value:"ease-in-out-expo",label:"ease-in-out-expo"},{value:"ease-in-out-circ",label:"ease-in-out-circ"},{value:"ease-in-out-back",label:"ease-in-out-back"}],m=function(e){function EasingMenu(){return(0,l.default)(this,EasingMenu),(0,o.default)(this,(0,r.default)(EasingMenu).apply(this,arguments))}return(0,s.default)(EasingMenu,e),(0,i.default)(EasingMenu,[{key:"render",value:function(){return d.default.createElement("div",{className:"kit-field easing"},d.default.createElement(u.default,{text:this.props.label}),d.default.createElement(c.default,{value:this.props.value,onCommit:this.props.onChange},f.map(function(e){return d.default.createElement("option",{value:e.value,key:e.value},e.label)})))}}]),EasingMenu}(d.default.Component);t.default=m},2369:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=n(a(320)),m=l(a(744)),g=l(a(5700)),p=l(a(594)),h=function(e){function ConditionParamPanel(){var e,t;(0,i.default)(this,ConditionParamPanel);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(ConditionParamPanel)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onClose",function(){t.props.onCommit(!1)}),(0,c.default)((0,d.default)(t),"getTitle",function(){var e=t.props.item.mint?"Add":"Edit";switch(t.props.type){case"query":return"".concat(e," Filter");case"condition":return"".concat(e," Condition");default:return e}}),t}return(0,u.default)(ConditionParamPanel,e),(0,o.default)(ConditionParamPanel,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.type,n=e.collectionId,l=e.allParams,i=e.dispatch,o=e.index,r=e.item,s=e.refreshPanel,d=e.open,u={type:a,collectionId:n,allParams:l,dispatch:i,index:o,item:r,refreshPanel:s,stores:e.stores,onCommit:e.onCommit},c=f.createElement(m.default,null,f.createElement("div",{className:"query-item-param-panel small-double-field-panel cond-vis-param-panel"},f.createElement(g.default,u)));return f.createElement(p.default,{title:this.getTitle(),content:c,open:d,arrowSize:0,handleOpen:this.onClose,showMask:!0},t)}}]),ConditionParamPanel}(f.Component);t.default=h},2370:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(320)),f=a(331),m=a(496),g=n(a(703)),p=a(1079),h=a(1316),v={condition:a(2371).condVisParamRemoved,query:h.dynQueryParamRemoved},S=function(e){function ConditionParamItem(){var e,t;(0,l.default)(this,ConditionParamItem);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(ConditionParamItem)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"onRemoveClick",function(e){e.preventDefault(),e.stopPropagation();var a=t.props,n=a.type,l=a.index,i=a.dispatch,o=a.stores.uiNode.selectedNodeNativeId,r=v[n];o&&r&&i(r({nodeId:o,index:l}))}),t}return(0,d.default)(ConditionParamItem,e),(0,i.default)(ConditionParamItem,[{key:"getCollection",value:function(){var e=this.props,t=e.collectionId,a=e.stores,n=a.collection,l=a.bindingContext;return(0,p.getCollection)(t,n,l)}},{key:"getField",value:function(){var e=this.props,t=e.collectionId,a=e.item.fieldPath,n=e.stores,l=n.collection,i=n.bindingContext;if((0,m.isFauxDynContextField)(a))return(0,g.default)({name:"_id"});var o=(0,m.isFieldOfItemRef)(a)?(0,p.getReferencedCollection)((0,m.getItemRefSlug)(a),t,l,i):this.getCollection();return(o?o.fields:(0,f.List)()).find(function(e){return e.get("slug")===(0,m.getValueFieldSlug)(a)})}},{key:"getHumanText",value:function(){var e=this.getField();if(!e)return null;var t=this.props,a=t.item,n=t.stores,l=n.collection,i=n.bindingContext,o=this.getCollection();return(0,p.getHumanText)({item:a,collection:o,field:e,collectionState:l,bindingContextState:i})}},{key:"render",value:function(){var e=this.props,t=e.item.mint,a=e.onClick;return t?c.default.createElement("div",{className:"button-group"},c.default.createElement("div",{className:"kit-button add-part"},c.default.createElement("i",{className:"icon-main common-add"}))):c.default.createElement("div",{className:"kit-list-item","data-automation-id":"condition-param-item",onClick:a},c.default.createElement("div",{className:"label one-line-text"},this.getHumanText()),c.default.createElement("a",{className:"trash sprite-mid","data-automation-id":"condition-param-item-remove-link",onClick:this.onRemoveClick},c.default.createElement("i",null)))}}]),ConditionParamItem}(c.default.Component);t.default=S},2371:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.condVisParamChanged=t.condVisParamRemoved=t.condVisParamAdded=void 0;var n=a(357),l=a(333),i=(0,n.createAction)(l.COND_VIS_PARAM_ADDED);t.condVisParamAdded=i;var o=(0,n.createAction)(l.COND_VIS_PARAM_REMOVED);t.condVisParamRemoved=o;var r=(0,n.createAction)(l.COND_VIS_PARAM_CHANGED);t.condVisParamChanged=r},2372:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,a(331).Record)({property:"",ascending:!0,open:!1,mint:!1});t.default=n},2373:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.parseSorts=t.parseQuery=void 0;var l=n(a(325)),i=n(a(367)),o=n(a(336)),r=a(331),s=n(a(1400)),d=n(a(2372)),u=a(353),c=a(709),f=a(390),m=a(496),g=a(427),p=a(334),h=function(e){return e?Array.isArray(e)?(0,r.List)(e):function(e){var t=(0,p.flatMap)(function(e){var t=(0,o.default)(e,2),a=t[0],n=t[1];if(!n)return[];if("object"!==(0,i.default)(n))return[{fieldPath:a,operatorName:v,value:n}];return Object.entries(n).map(function(e){var t=(0,o.default)(e,2),n=t[0],l=t[1];return{fieldPath:a,operatorName:n,value:l}})})(Object.entries(e));return(0,r.List)(t)}(e):(0,r.List)()},v="DEPRECATED_VALUE_NO_OPERATOR_NAME";var S=function(e,t){return function(e,t){var a=(0,c.getOperatorsByName)(e).find(function(e){return void 0!==e.value&&e.value===t});return a?a.id:null}(e,t)||(0,c.getOperatorsByName)(e)[0].id},E=function(e){var t=(0,c.getOperatorById)(e);return t?t.name:void 0},N={ago:g.PAST,future:g.FUTURE,"from now":g.FUTURE,past:g.PAST},C=function(e,t,a,n){var l=(n=String(n)).match(/^([0-9]+) (days|weeks|months|years)/);if(!l)return t;var i=n.match(/in the (past|future)$/),r=n.match(/(ago|from now)/),d=i?i[1]:r?r[1]:void 0,u=(0,o.default)(l,3),c=u[1],f=u[2];return(0,s.default)({fieldPath:a,operator:e,value:parseInt(c,10)||0,value2:f,value3:d?N[d]:g.PAST})},b=function(e,t,a){var n=e.fieldPath,i=e.operatorName,o=e.value;if(i===v)return function(e,t){(0,u.reportBug)("DynamoQueryOldFormat","During query parse",{query:t},{skipConsole:!0});var a=E(c.OPERATOR_EQ);return(0,s.default)({fieldPath:e,operator:a?S(a,t):void 0,value:t,value2:null,value3:null})}(n,o);var r=function(e){var t=e.fieldPath,a=e.operatorName,n=e.value;return(0,s.default)({fieldPath:t,operator:S(a,n),value:n,value2:null,value3:null})}(e);return"Date"===function getFieldType(e,t,a){var n=a.find(function(e){return e._id===t});if(!n)return null;var l=n.fields,i=(0,m.isFieldOfItemRef)(e)?(0,m.getItemRefSlug)(e):(0,m.getValueFieldSlug)(e),o=l.find(function(e){return e.get("slug")===i});if(!o)return null;var r=o.get("type");if("ItemRef"===r&&(0,m.isFieldOfItemRef)(e)){var s=(0,f.itemRefTargetCollectionId)(o);return getFieldType((0,m.getValueFieldSlug)(e),s,a)}return r}(n,t,a)?function(e,t,a){var n=E(c.OPERATOR_GTE),l=E(c.OPERATOR_LTE),i=e.operator;if(i===c.OPERATOR_GTE){var o=n?a[n]:void 0;return"today"===o?(0,s.default)({fieldPath:t,operator:c.OPERATOR_GTE,value:0,value2:"days",value3:g.PAST}):"tomorrow"===o?(0,s.default)({fieldPath:t,operator:c.OPERATOR_GTE,value:1,value2:"days",value3:g.FUTURE}):C(c.OPERATOR_GTE,e,t,o)}if(i===c.OPERATOR_LTE){var r=l?a[l]:void 0;return"today"===r||"end of today"===r?(0,s.default)({fieldPath:t,operator:c.OPERATOR_LTE,value:0,value2:"days",value3:g.PAST}):"end of yesterday"===r?(0,s.default)({fieldPath:t,operator:c.OPERATOR_LTE,value:1,value2:"days",value3:g.PAST}):C(c.OPERATOR_LTE,e,t,r)}return e}(r,n,(0,l.default)({},i,o)):r};t.parseQuery=function(e){var t=e.json,a=e.collectionId,n=e.allCollections;return h(t).map(function(e){return b(e,a,n)})};t.parseSorts=function(e){var t=e.map(function(e){var t=e.match(/^(\-?)(.*)$/);if(null===t)return null;var a=!t[1],n=t[2];return(0,d.default)({property:n,ascending:a})}).filter(Boolean);return(0,r.List)(t)}},2374:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=a(330),o=a(351),r=a(348),s=n(a(463)),d=a(337),u=(0,i.styled)(o.FlexRow)(function(e){var t=e.theme,a=t.colors,n=t.gutters,l=t.control;return{justifyContent:"space-between",background:a.backgroundDeepAlt,border:"".concat(l.borderWidth,"px solid ").concat(a.backgroundDeep),padding:n.normal,borderRadius:l.borderRadius}},{checked:function(e){var t=e.theme.control;return{borderRadius:"".concat(t.borderRadius,"px ").concat(t.borderRadius,"px 0 0")}}}),c=(0,i.styledDiv)(function(e){var t=e.theme,a=t.colors,n=t.gutters,l=t.control;return{background:a.backgroundDeepAlt,border:"".concat(l.borderWidth,"px solid ").concat(a.backgroundDeep),borderTop:"none",padding:n.normal,borderRadius:l.borderRadius}},{checked:function(e){var t=e.theme.control;return{borderRadius:"0 0 ".concat(t.borderRadius,"px ").concat(t.borderRadius,"px")}}}),f=(0,i.styled)("span")(function(e){var t=e.theme;return{lineHeight:"".concat(t.lineHeights.copy,"px")}}),m=(0,d.singleMemo)(function(e){return l.default.createElement(f,null,e)}),g=function(e){var t=e.checked,a=e.children,n=e.dataAutomationIdToggle,i=e.finePrint,o=e.label,d=e.onClick;return l.default.createElement(l.default.Fragment,null,l.default.createElement(u,{checked:t},l.default.createElement(s.default,{checked:t,dataAutomationId:n,label:m(o),onClick:d}),i?l.default.createElement(r.FinePrint,{"data-automation-id":"fine-print",checked:t,dim:!0},i):null),t?l.default.createElement(c,{checked:t},a):null)};t.default=g},5679:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(323)),r=l(a(324)),s=l(a(328)),d=l(a(327)),u=l(a(329)),c=a(331),f=n(a(320)),m=a(330),g=a(359),p=a(342),h=l(a(565)),v=a(377),S=a(347),E=a(568),N=a(369),C=n(a(2019)),b=l(a(2017)),y=l(a(1301)),I=l(a(5680)),k=l(a(5682)),T=l(a(5683)),A=l(a(5686)),_=l(a(5687)),x=l(a(5688)),P=l(a(5689)),R=l(a(5690)),D=l(a(5693)),O=l(a(5694)),F=l(a(5695)),w=l(a(5696)),M=l(a(5697)),L=l(a(5698)),U=l(a(5699)),B=l(a(5705)),V=l(a(5706)),G=l(a(2082)),H=l(a(5708)),q=l(a(5709)),W=l(a(5710)),Q=l(a(5713)),j=l(a(5714)),K=l(a(5715)),z=l(a(5717)),Y=l(a(5718)),X=l(a(5719)),Z=l(a(5720)),J=l(a(5726)),$=l(a(5727)),ee=l(a(5728)),te=l(a(5730)),ae=l(a(5731)),ne=l(a(5732)),le=l(a(5737)),ie=l(a(5739)),oe=l(a(5740)),re=l(a(5742)),se=l(a(5743)),de=l(a(2090)),ue=l(a(2091)),ce=l(a(5744)),fe=l(a(5745)),me=a(454),ge=a(904),pe=a(341),he=a(364),ve=a(509),Se=l(a(5747)),Ee=a(5749),Ne=a(417),Ce=a(2092),be=l(a(5750)),ye=a(489),Ie=a(604),ke=a(346),Te=a(350),Ae=a(815),_e=a(2102),xe=a(746),Pe=l(a(1035)),Re=a(394),De=a(1325),Oe=l(a(345)),Fe=a(335),we=function(e){var t=e.children,a=e.title,n=e.settingsSectionFlags,l=e.toggleSettingsSection,i=e.name;return f.createElement(ye.SectionContainer,{showBottomBorder:!0,expandable:!0,"data-automation-id":"symbol-instance-settings","aria-label":"Symbol Instance",expanded:void 0===n[i]||n[i],onHeadingClick:function(){l(i)},label:a},t)},Me=(0,m.styled)(De.SettingsPanelPropertyLabel)(function(e){var t=e.theme,a=t.gutters,n=t.colors;return{background:void 0,color:e.hover?n.foregroundVivid:n.foregroundDim,padding:a.x4}}),Le=function(e){e.stopPropagation()},Ue={display:"contents"},Be=function(e){var t=e.children;return f.createElement("div",{onClick:Le,style:Ue},t)},Ve=f.memo(function(e){var t=e.abstractNode,a=(0,Te.useDispatch)(),n=(0,m.useTheme)().gutters;if(!(0,pe.isSymbolInst)(t))return null;var l=t.data.getIn(["sym","overrides"],(0,c.Map)()).some(Boolean);return f.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:n.x4}},f.createElement("span",null,"Symbol Instance"),f.createElement(Be,null,f.createElement(Oe.default,null,f.createElement(Me,{style:{opacity:l?1:.2,pointerEvents:l?"auto":"none"},hasOverrides:l,origin:l?(0,Re.LocalOrigin)(null):(0,Re.DefaultOrigin)(),onResetValueClick:function(){return a((0,xe.overridesResetted)())},tooltip:"Reset all overrides.","data-automation-id":"symbol-instance-reset-overrides"},f.createElement(Pe.default,null)))))}),Ge=function(e){var t=e.abstractNodeState,a=e.abstractNode,n=e.flows,l=e.contextType,i=e.settingsSectionFlags,o=e.toggleSettingsSection,r=e.dispatch,s=e.plugins,d=e.currentComponent,u=e.liveComponentMap,c=a.type,m=a.id;if(!c)return null;var g=(0,Fe.getElementById)(d.render,m);if(!g)return null;var p=c,h=(0,pe.isSymbolInst)(a)?f.createElement(Ve,{abstractNode:a}):"".concat((0,Ne.getElementLabel)(g,d,u,s)," Settings");return f.createElement(we,{title:h,settingsSectionFlags:i,toggleSettingsSection:o,name:p,"data-automation-id":"symbol-instance-settings"},f.createElement(Ce.AtomSettings,{abstractNodeState:t,abstractNode:a,flows:n,contextType:l,dispatch:r}))},He=f.memo(function(e){var t=e.abstractNode,a=e.abstractNodeState,n=e.collectionState,l=e.flows,i=e.dispatch,o=e.settingsSectionFlags,r=e.toggleSettingsSection,s=e.plugins,d=e.currentComponent,u=e.liveComponentMap,c=s.getAtom(t),m=(0,E.getContextType)(n.collections),g=t&&c?(0,Ie.gatherRelatedNodes)(a.root,(0,ke.getParent)(a.root,t.id),t,s):[],p=[],h=!0,v=!1,S=void 0;try{for(var N,C=g[Symbol.iterator]();!(h=(N=C.next()).done);h=!0){var b=N.value;(0,Ae.showAtomDataTypeSettings)(b,a,s)&&p.push(f.createElement(Ge,{abstractNode:b,abstractNodeState:a,flows:l,contextType:m,dispatch:i,key:b.id,settingsSectionFlags:o,toggleSettingsSection:r,plugins:s,currentComponent:d,liveComponentMap:u}))}}catch(e){v=!0,S=e}finally{try{h||null==C.return||C.return()}finally{if(v)throw S}}if((0,he.isInsideSymbol)(a.root)(t)&&"RichText"!==t.type){var y=(0,ve.closestRichTextNode)(t,a.root);if(null!=y)return p.push(f.createElement(Ge,{abstractNode:y,abstractNodeState:a,flows:l,contextType:m,dispatch:i,key:y.id,settingsSectionFlags:o,toggleSettingsSection:r,plugins:s,currentComponent:d,liveComponentMap:u})),p}return(0,Ae.showAtomDataTypeSettings)(t,a,s)&&p.push(f.createElement(Ge,{abstractNode:t,abstractNodeState:a,flows:l,contextType:m,dispatch:i,key:t.id,settingsSectionFlags:o,toggleSettingsSection:r,plugins:s,currentComponent:d,liveComponentMap:u})),p}),qe=(0,p.container)(function(e){return{abstractNodeState:e.AbstractNodeStore,assetState:e.AssetStore,assetUiState:e.AssetManagerUIStore,betaFeatureState:e.BetaFeatureStore,bindingContextState:e.BindingContextStore,blockerFlags:(0,ge.compute)(e),collectionState:e.CollectionStore,commerceState:e.CommerceStore,dataManagerUIState:e.DataManagerUIStore,designerState:e.DesignerStore,externalState:e.ExternalStore,ix2State:e.IX2UiStore,notificationState:e.NotificationStore,pageManagerState:e.PageManagerUIStore,pageState:e.PageStore,searchState:e.SearchStore,settingsUIState:e.SettingsUIStore,siteDataState:e.SiteDataStore,styleBlockState:e.StyleBlockStore,tabState:e.TabStore,uiNodeState:e.UiNodeStore,uiState:e.UiStore,flows:e.FlowsStore,liveSelectedElement:(0,Ne.getLiveSelectedElement)(e),currentComponent:(0,Ne.getCurrentComponent)(e),liveComponentMap:(0,Ne.getLiveComponentMap)(e.DesignerStore)}})(function(e){function SettingsTab(){return(0,o.default)(this,SettingsTab),(0,s.default)(this,(0,d.default)(SettingsTab).apply(this,arguments))}return(0,u.default)(SettingsTab,e),(0,r.default)(SettingsTab,[{key:"render",value:function(){var e=this.props,t=e.flux,a=e.externalState,n=e.tabState,l=t.dispatch,o=this.props,r=o.abstractNodeState,s=o.uiNodeState.selectedNodeNativeId,d=o.designerState,u=d.currentPageId,c=d.permanentlyDismissedNotes,m=o.searchState,p=o.uiNodeState,ve=o.collectionState,Ce=o.assetState,ye=o.assetUiState,Ie=o.pageState,ke=o.settingsUIState,Te=o.pageManagerState,Ae=o.betaFeatureState,xe=o.siteDataState,Pe=o.uiState,Re=o.styleBlockState,De=o.designerState,Oe=o.commerceState,we=o.ix2State,Me=o.dataManagerUIState,Le=(0,Fe.getPluginsFromState)(t.state),Ue=this.props.liveSelectedElement?(0,Ne.getElementLabel)(this.props.liveSelectedElement,this.props.currentComponent,this.props.liveComponentMap,Le):"Element",Be=(0,S.getAbstractNode)(r,p.selectedNodeNativeId),Ve=t.__DEPRECATED__getCreators("ExternalActionCreators"),Ge=(0,me.cleanUpBindingContextForSymbols)(this.props.bindingContextState,r,p),qe=Boolean(m.lastSearchIndex),We=Ge.inCommerceProductOptionsContext,Qe=Ge.inCommerceCartContext,je=(0,E.getSettingsFlags)(s,r,Ge),Ke={stores:{abstractNode:r,collection:ve,bindingContext:Ge,external:a,uiNode:p,asset:Ce,betaFeatures:Ae},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l,permanentlyDismissedNotes:c},ze={stores:{abstractNode:r,external:a,uiNode:p},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},Ye={stores:{abstractNode:r,asset:Ce,assetUi:ye,page:Ie,pageManager:Te,collection:ve,bindingContext:Ge,settingsUI:ke,external:a,uiNode:p,betaFeatures:Ae,siteData:xe},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators"),ui:t.__DEPRECATED__getCreators("UiActionCreators"),confirm:t.__DEPRECATED__getCreators("__DEPRECATED__ConfirmActionCreators")},dispatch:l,permanentlyDismissedNotes:c},Xe={stores:{abstractNode:r,external:a,uiNode:p,ui:Pe,collection:ve,bindingContext:Ge,asset:Ce,assetUi:ye,betaFeatures:Ae},actions:{ui:t.__DEPRECATED__getCreators("UiActionCreators"),notification:t.__DEPRECATED__getCreators("NotificationActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l,permanentlyDismissedNotes:c},Ze={stores:{abstractNode:r,collection:ve,bindingContext:Ge,external:a,uiNode:p},actions:{bindingContext:t.__DEPRECATED__getCreators("BindingContextActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},Je={stores:{abstractNode:r,external:a,uiNode:p},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},$e={dispatch:l,stores:{abstractNode:r,asset:Ce,assetUI:ye,bindingContext:Ge,collection:ve,uiNode:p,betaFeatures:Ae},actions:{openAssetManagerTab:function(){return t.dispatch((0,g.panelOpened)(N.ASSETS_PANEL))}},settingsSectionFlags:a.settingsSectionFlags,toggleSettingsSection:Ve.toggleSettingsSection},et={stores:{abstractNode:r,external:a,uiNode:p},actions:{bindingContext:t.__DEPRECATED__getCreators("BindingContextActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},tt={stores:{external:a,page:Ie,uiNode:p},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators"),page:t.__DEPRECATED__getCreators("PageActionCreators"),ui:t.__DEPRECATED__getCreators("UiActionCreators"),pageManager:t.__DEPRECATED__getCreators("PageManagerActionCreators")},currentPageId:u,dispatch:l},at={stores:{abstractNode:r,external:a,uiNode:p,siteData:xe,ui:Pe,betaFeatures:Ae},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators"),ui:t.__DEPRECATED__getCreators("UiActionCreators")},isIndexed:qe,dispatch:l},nt={stores:{abstractNode:r,collection:ve,bindingContext:Ge,external:a,uiNode:p,betaFeatures:Ae},actions:{bindingContext:t.__DEPRECATED__getCreators("BindingContextActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l,permanentlyDismissedNotes:c},lt={stores:{abstractNode:r,external:a,uiNode:p},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators"),navigateToSiteIntegrations:t.__DEPRECATED__getCreators("WidgetBridgeActionCreators").navigateToSiteIntegrations},dispatch:l},it={stores:{abstractNode:r,external:a,uiNode:p},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},ot={stores:{abstractNode:r,uiNode:p,page:Ie,external:a,ui:Pe,bindingContextState:Ge,collectionState:ve},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators"),pageManager:t.__DEPRECATED__getCreators("PageManagerActionCreators"),ui:t.__DEPRECATED__getCreators("UiActionCreators")},label:Ue,dispatch:l,currentPageId:u,permanentlyDismissedNotes:c},rt={stores:{abstractNode:r,collection:ve,bindingContext:Ge,uiNode:p,siteData:xe,external:a,designer:De,page:Ie,commerceState:Oe,dataManagerUI:Me,styleBlock:Re,asset:Ce,betaFeatures:Ae},actions:{ui:t.__DEPRECATED__getCreators("UiActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},st={stores:{abstractNode:r,collection:ve,bindingContext:Ge,uiNode:p,external:a,betaFeatures:Ae},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},dt={stores:{abstractNode:r,collection:ve,bindingContext:Ge,external:a,uiNode:p,asset:Ce,betaFeatures:Ae},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l,permanentlyDismissedNotes:c},ut={stores:{abstractNode:r,uiNode:p,external:a,styleBlock:Re,designer:De,page:Ie,ix2:we,collection:ve},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},ct={stores:{abstractNode:r,uiNode:p,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},ft={stores:{abstractNode:r,uiNode:p,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},mt={stores:{abstractNode:r,styleBlock:Re,uiNode:p,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},gt={stores:{abstractNode:r,styleBlock:Re,uiNode:p,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},pt={stores:{abstractNode:r,uiNode:p,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},ht={stores:{abstractNode:r,uiNode:p,external:a},actions:{uiNode:t.__DEPRECATED__getCreators("UiNodeActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},vt={stores:{abstractNode:r,external:a,uiNode:p},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},St={abstractNode:Be,stores:{external:a},actions:{embedEditor:t.__DEPRECATED__getCreators("EmbedEditorActionCreators"),external:t.__DEPRECATED__getCreators("ExternalActionCreators")}},Et={stores:{abstractNode:r,asset:Ce,external:a,uiNode:p},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},Nt={stores:{abstractNode:r,uiNodeState:p,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l},Ct={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,collectionState:ve,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l},bt={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,commerceState:Oe,uiState:Pe,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l,betaFeatures:Ae},yt={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,collectionState:ve,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l},It={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l},kt={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l},Tt=Be&&(0,pe.isCommerceOptionListOrItem)(Be),At=Qe?"Cart List Settings":"Order Items Settings",_t={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l,title:Tt?"Option List Settings":At,collectionName:Tt?"Product Options":"Products"},xt={abstractNodeState:this.props.abstractNodeState,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,settingsSectionFlags:this.props.externalState.settingsSectionFlags,selectedNodeNativeId:s,dispatch:l},Pt={abstractNodeState:this.props.abstractNodeState,uiNodeState:this.props.uiNodeState,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l},Rt={abstractNodeState:this.props.abstractNodeState,selectedNodeNativeId:s,collectionState:this.props.collectionState,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection,dispatch:l},Dt=je.pagination&&Be?(0,Ee.buildPaginationSettingsProps)({selectedNode:Be,abstractNodeState:this.props.abstractNodeState,dispatch:l,settingsSectionFlags:this.props.externalState.settingsSectionFlags,toggleSettingsSection:t.__DEPRECATED__getCreators("ExternalActionCreators").toggleSettingsSection}):null,Ot=Ge.inCommerceOrderContext,Ft=Ge.inCommerceShippingMethodsContext,wt=(0,ge.has)(this.props.blockerFlags,ge.NoNodeSelected),Mt=Be&&(0,he.isInsideRepeaterListItem)(Be)(r.root),Lt=(0,Ne.getLiveAbstractNodeState)(De),Ut=Be?(0,S.getAbstractNode)(Lt,Be.id):null,Bt=Ut&&(0,he.isInsideSymbol)(r.root)(Ut),Vt=(0,_e.showLegacyMiniSettings)(Ut,r);return f.createElement("div",{className:"settings-tab kit-sidebar-tab",key:s,"data-automation-id":"right-sidebar-settings-tab"},n.showHighlight?f.createElement("div",{className:"panel-highlight"}):null,f.createElement("div",{className:"kit-sidebar-top-section"},Be?f.createElement(C.default,{icon:f.createElement(h.default,{abstractNodeState:r,abstractNode:Be}),label:"".concat(Ue," Settings")}):f.createElement(C.NoneSelectedNodeTitle,null),je.general&&Be?f.createElement(I.default,{abstractNode:Be,selectedNodeGuid:(0,v.getGuid)(p.selectedNodeNativeId),abstractNodeState:r,dispatch:l,settingsFlags:je,permanentlyDismissedNotes:c}):null),wt?f.createElement(b.default,{abstractNode:Be,abstractNodeState:this.props.abstractNodeState,flags:this.props.blockerFlags,designerState:this.props.designerState}):null,Be?f.createElement(y.default,null,Ut&&Bt&&s&&u&&(0,pe.isSymbolRoot)(Ut)&&f.createElement(be.default,null),Ut&&f.createElement(He,{abstractNode:Ut,abstractNodeState:Lt,collectionState:ve,flows:this.props.flows,dispatch:l,settingsSectionFlags:a.settingsSectionFlags,toggleSettingsSection:Ve.toggleSettingsSection,plugins:Le,currentComponent:this.props.currentComponent,liveComponentMap:this.props.liveComponentMap}),je.image&&Vt?f.createElement(_.default,(0,i.default)({},Xe,{plugins:Le})):null,je.heading&&Vt?f.createElement(k.default,(0,i.default)({},Ke,{plugins:Le})):null,je.innerText?f.createElement(O.default,nt):null,je.grid?f.createElement(G.default,ut):null,je.video&&Vt?f.createElement(x.default,Ze):null,je.youTubeVideo?f.createElement(P.default,Je):null,je.map?f.createElement(L.default,lt):null,je.gplus?f.createElement(z.default,vt):null,je.slider?f.createElement(K.default,ht):null,je.link&&Vt?f.createElement(A.default,(0,i.default)({},Ye,{plugins:Le})):null,je.dropdown?f.createElement(j.default,pt):null,je.lightbox?f.createElement(R.default,$e):null,je.navbar?f.createElement(Q.default,gt):null,je.tabs?f.createElement(W.default,mt):null,je.embed?f.createElement(Y.default,St):null,je.backgroundVideo?f.createElement(J.default,Et):null,!je.input||je.passwordPageFormInput||je.searchInput?null:f.createElement(D.default,et),je.passwordPageFormInput&&p.selectedNodeNativeId?f.createElement(ae.default,{stores:{abstractNode:r,uiNodeState:p,external:a},actions:{external:t.__DEPRECATED__getCreators("ExternalActionCreators")},dispatch:l}):null,je.checkbox?f.createElement(q.default,ct):null,je.radio?f.createElement(H.default,ft):null,je.form&&!je.passwordPageForm?f.createElement(F.default,{abstractNode:Be,abstractNodeState:r,dispatch:l,toggleSettingsSection:Ve.toggleSettingsSection,settingsSectionFlags:a.settingsSectionFlags}):null,je.formFileUpload&&s?f.createElement(w.default,{externalActions:t.__DEPRECATED__getCreators("ExternalActionCreators"),externalState:a,abstractNodeState:r,dispatch:l,selectedNodeNativeId:s}):null,je.formFileUploadError&&s?f.createElement(M.default,{externalActions:t.__DEPRECATED__getCreators("ExternalActionCreators"),externalState:a,abstractNodeState:r,dispatch:l,selectedNodeNativeId:s}):null,je.passwordPageForm?f.createElement(te.default,Nt):null,je.insideSearchForm?f.createElement(X.default,tt):null,je.insideSearchResultWrapper?f.createElement(Z.default,at):null,je.commerceCartCheckoutButton?f.createElement(de.default,xt):null,je.commerceCheckoutPlaceOrderButton?f.createElement(ue.default,xt):null,je.commerceCartButtonSettings?f.createElement(oe.default,It):null,je.commerceCartButtonItemCountSettings?f.createElement(ie.default,kt):null,je.commerceLockedDynlistSettings?f.createElement(re.default,_t):null,je.commerceQuickCheckoutActions?f.createElement(fe.default,bt):null,je.commerceCartWrapper?f.createElement(ne.default,Ct):null,je.commerceCheckoutShippingMethodsWrapper?f.createElement(le.default,yt):null,je.commerceCheckoutPaymentInfoWrapper?f.createElement(se.default,Pt):null,je.commerceOrderItems?f.createElement(ce.default,Rt):null,je.pagination&&Dt?f.createElement(Se.default,Dt):null,je.dynList?f.createElement(U.default,rt):null,!je.dynStyle||Ot||Ft||We?null:f.createElement(V.default,dt),je.condVis&&!Mt?f.createElement(B.default,st):null,f.createElement(T.default,ze),je.searchIndexableNode?f.createElement(ee.default,ot):null,je.contributor?f.createElement($.default,it):null):null)}}]),SettingsTab}(f.Component));t.default=qe},5680:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=a(331),g=l(a(376)),p=l(a(326)),h=l(a(449)),v=l(a(685)),S=l(a(410)),E=a(372),N=a(402),C=a(657),b=a(366),y=n(a(341)),I=a(422),k=n(a(462)),T=a(467),A=a(5681),_=a(423),x=["div","header","footer","nav","main","section","article","aside","address","figure"],P="DISMISS_PHASE_OUT_VISABILITY_UI_NOTE",R=function(e){return e.abstractNode?e.abstractNode.data.getIn(["attr","id"],""):""},D=function(e){var t=e&&e.data.get("vis")||(0,m.Map)();return I.DEFAULT_BREAKPOINT_IDS.some(function(e){return!1===t.get(e)})},O={color:"#F8D64A"},F=function(e){function GeneralSettings(){var e,t;(0,i.default)(this,GeneralSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(GeneralSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"state",{_abstractNode:t.props.abstractNode,id:R(t.props),idTaken:!1,idReserved:!1,idInvalid:!1,isVisibilitySetInitially:D(t.props.abstractNode)}),(0,c.default)((0,d.default)(t),"onIdChange",function(e){var a=k.toStringId(e),n=t.props.abstractNodeState,l=t.props.selectedNodeGuid;t.setState({id:e,idTaken:!!a&&(0,T.isIdTaken)(n,a,l),idReserved:!!a&&k.isReservedId(a),idInvalid:""!==e&&null===a})}),(0,c.default)((0,d.default)(t),"onIdCommit",function(){var e=t.state.id,a=k.toStringId(e);a!==R(t.props)&&t.props.dispatch((0,A.generalIdChanged)({id:a})),null===a&&t.setState({id:"",idInvalid:!1})}),(0,c.default)((0,d.default)(t),"onTagChange",function(e){t.props.dispatch((0,A.generalTagChanged)({tag:e}))}),(0,c.default)((0,d.default)(t),"onDismissVisabilityNote",function(){t.props.dispatch((0,_.dismissNote)({id:P}))}),(0,c.default)((0,d.default)(t),"renderVisibility",function(){var e=t.props.permanentlyDismissedNotes,a=t.state.isVisibilitySetInitially,n=t.getVisibility(),l=!a,i=!e.has(P);return a||i?f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:"kit-field visibility"},f.default.createElement("div",{className:"kit-label"},f.default.createElement("a",{className:"link"},f.default.createElement("i",{className:"icon-main common-eye-visible"}))),f.default.createElement("div",{className:"kit-radio-buttons kit-input-control clearfix"},f.default.createElement(S.default,{content:"Desktop",placement:"bottom",hideOn:"click"},f.default.createElement("div",{className:(0,g.default)("kit-button kit-radio-button vis-main",{active:n.get(I.BREAKPOINT_ID_MAIN),disabled:l}),onClick:l?p.default.noop:t.onToggleVisibility(I.BREAKPOINT_ID_MAIN)},f.default.createElement("i",{className:"icon-main device-laptop-small-white"}))),f.default.createElement(S.default,{content:"Tablet",placement:"bottom",hideOn:"click"},f.default.createElement("div",{className:(0,g.default)("kit-button kit-radio-button vis-medium",{active:n.get(I.BREAKPOINT_ID_MEDIUM),disabled:l}),onClick:l?p.default.noop:t.onToggleVisibility(I.BREAKPOINT_ID_MEDIUM)},f.default.createElement("i",{className:"icon-main device-tablet-small-p-white"}))),f.default.createElement(S.default,{content:"Mobile Landscape",placement:"bottom",hideOn:"click"},f.default.createElement("div",{className:(0,g.default)("kit-button kit-radio-button vis-small",{active:n.get(I.BREAKPOINT_ID_SMALL),disabled:l}),onClick:l?p.default.noop:t.onToggleVisibility(I.BREAKPOINT_ID_SMALL)},f.default.createElement("i",{className:"icon-main device-phone-small-l-white"}))),f.default.createElement(S.default,{content:"Mobile Portrait",placement:"bottom",hideOn:"click"},f.default.createElement("div",{className:(0,g.default)("kit-button kit-radio-button vis-tiny",{active:n.get(I.BREAKPOINT_ID_TINY),disabled:l}),onClick:l?p.default.noop:t.onToggleVisibility(I.BREAKPOINT_ID_TINY)},f.default.createElement("i",{className:"icon-main device-phone-small-p-white"}))))),f.default.createElement("div",{className:"kit-title visibility"},f.default.createElement("span",null,t.getVisibilityPreText()),f.default.createElement("span",{className:"info"},t.getVisibilityText())),i&&f.default.createElement(E.__DEPRECATED__SigmaNote,{marginTop:1,intent:"warning",callToActionText:"OK, hide this control",onCallToActionClick:t.onDismissVisabilityNote,control:f.default.createElement(N.Link,{style:O,onClick:t.onDismissVisabilityNote},"Ok, got it"),content:f.default.createElement(f.default.Fragment,null,"We’re removing this visibility control. But don’t worry! You can"," ",f.default.createElement("a",{href:"https://university.webflow.com/article/display-visibility",target:"_blank",rel:"noopener noreferrer"},"use the ",f.default.createElement("strong",null,"display")," property"," ",f.default.createElement("strong",null,"none"))," ","in the Style panel to hide elements.")})):null}),t}return(0,u.default)(GeneralSettings,e),(0,o.default)(GeneralSettings,[{key:"getVisibility",value:function(){var e=this.props.abstractNode,t=e&&e.data.get("vis")||(0,m.Map)();return I.DEFAULT_BREAKPOINT_IDS.forEach(function(e){p.default.isBoolean(t.get(e))||(t=t.set(e,!0))}),t}},{key:"getVisibilityPreText",value:function(){var e=this.getVisibility();return I.DEFAULT_BREAKPOINT_IDS.filter(function(t){return e.get(t)}).length>0?"Visible on: ":"Visible in: "}},{key:"getVisibilityText",value:function(){var e=this.getVisibility(),t=I.DEFAULT_BREAKPOINT_IDS.filter(function(t){return e.get(t)});return 4===t.length?"All Devices":0===t.length?"Your imagination : )":p.default.isEqual(t,[I.BREAKPOINT_ID_MAIN])?"Desktop only":p.default.isEqual(t,[I.BREAKPOINT_ID_MAIN,I.BREAKPOINT_ID_MEDIUM])?"Desktop & Tablet only":p.default.isEqual(t,[I.BREAKPOINT_ID_MAIN,I.BREAKPOINT_ID_SMALL,I.BREAKPOINT_ID_TINY])?"Desktop & Phone only":p.default.isEqual(t,[I.BREAKPOINT_ID_MEDIUM,I.BREAKPOINT_ID_SMALL,I.BREAKPOINT_ID_TINY])?"Tablet & Phone only":p.default.isEqual(t,[I.BREAKPOINT_ID_MEDIUM])?"Tablet only":p.default.isEqual(t,[I.BREAKPOINT_ID_SMALL,I.BREAKPOINT_ID_TINY])?"Phone only":p.default.isEqual(t,[I.BREAKPOINT_ID_SMALL])?"Phone Landscape only":p.default.isEqual(t,[I.BREAKPOINT_ID_TINY])?"Phone Portrait only":p.default.isEqual(t,[I.BREAKPOINT_ID_MAIN,I.BREAKPOINT_ID_MEDIUM,I.BREAKPOINT_ID_SMALL])?"Hide on Phone Portrait":p.default.isEqual(t,[I.BREAKPOINT_ID_MAIN,I.BREAKPOINT_ID_MEDIUM,I.BREAKPOINT_ID_TINY])?"Hide on Phone Landscape":"Custom"}},{key:"getTagDescription",value:function(e){switch(e){case"address":return"Defines contact information for a person or people, or for an organization";case"article":return"Defines an article";case"aside":return"Defines content aside from the page content, such as a sidebar";case"details":return"Defines additional details that the user can view or hide";case"div":return"The default, non-semantic tag";case"figcaption":return"Defines a caption for a <figure> element, such as a photo, illustration, graph, or code listing";case"figure":return"Specifies self-contained content, like illustrations, diagrams, photos, code listings, etc.";case"footer":return"Defines a footer for a document or section";case"header":return"Specifies a header for a document or section";case"main":return"Specifies the main content of a document";case"mark":return"Defines marked/highlighted text";case"nav":return"Defines a set of navigation links, such as those in your main site nav";case"section":return"Defines a section of a document";case"summary":return"Defines a visible heading for a <details> element";case"time":return"Defines a date/time";default:return null}}},{key:"onToggleVisibility",value:function(e){var t=this;return function(){t.props.dispatch((0,A.generalVisibilityToggled)({breakpointId:e}))}}},{key:"render",value:function(){var e=this.props.settingsFlags,t=this.state.id,a=this.props.abstractNode,n=y.isSymbolInst(a),l=y.isDynamoItem(a),i=y.isAnyCommerceDynListItem(a),o=(0,b.isRichTextContentNode)(this.props.abstractNodeState,this.props.selectedNodeGuid),r=!(n||l||i||o),s={float:"left",width:"192px"};return f.default.createElement("div",{className:"general-settings clearfix"},f.default.createElement("div",{className:"kit-divider top"}),f.default.createElement("div",{className:"kit-panel"},r?f.default.createElement("div",{className:"kit-field element-id"},f.default.createElement("div",{className:"kit-label"},"ID"),f.default.createElement(h.default,{className:"text-box","aria-label":"ID attribute input",placeholder:"For in-page linking",value:t,maxLength:200,onChange:this.onIdChange,onEnter:this.onIdCommit,onBlur:this.onIdCommit}),this.state.idTaken&&f.default.createElement(E.__DEPRECATED__SigmaNote,{style:s,marginLeft:7,marginTop:2,intent:"warning",content:f.default.createElement(C.Text,null,"This ID is already taken.")}),this.state.idReserved&&f.default.createElement(E.__DEPRECATED__SigmaNote,{style:s,marginLeft:7,marginTop:2,intent:"warning",content:f.default.createElement(C.Text,null,"This ID is reserved for Webflow features.")}),this.state.idInvalid&&f.default.createElement(E.__DEPRECATED__SigmaNote,{style:s,marginLeft:7,marginTop:2,intent:"warning",content:f.default.createElement(C.Text,null,"This ID is not valid.")})):null,r&&e.block?f.default.createElement("div",{className:"block-settings kit-field"},f.default.createElement("div",{className:"kit-label"},"Tag"),f.default.createElement(v.default,{value:a.data.get("tag","div"),onCommit:this.onTagChange,footerDescriptionFunction:this.getTagDescription,title:"These tags help both browsers and developers understand an element's content."},x.map(function(e){return f.default.createElement("option",{value:e,key:e},p.default.capitalize(e))}))):null,r&&this.renderVisibility(),n?f.default.createElement("div",{className:"disabled-message"},f.default.createElement("span",null,"Editing ID and Visibility settings is disabled for symbol instances. You can either place this instance in a Div Block, or double-click the symbol to edit settings for all instances.")):null,l||i?f.default.createElement("div",{className:"disabled-message"},f.default.createElement("span",null,"Editing ID and Visibility settings is disabled for individual\n                ".concat(l?"Collection":"Ecommerce"," Items. You can select the parent ").concat(l?"Collection":"Ecommerce"," List to\n                edit these settings."))):null,o?f.default.createElement("div",{className:"disabled-message"},f.default.createElement("span",null,"Editing ID and Visibility settings is disabled for Rich Text children. You can select the parent Rich Text node to edit these settings.")):null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.abstractNode!==t._abstractNode?{_abstractNode:e.abstractNode,id:R(e),idTaken:!1,idReserved:!1,idInvalid:!1,isVisibilitySetInitially:e.abstractNode.id===t._abstractNode.id?t.isVisibilitySetInitially:D(e.abstractNode)}:null}}]),GeneralSettings}(f.default.Component);t.default=F},5681:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generalVisibilityToggled=t.generalTagChanged=t.generalIdChanged=void 0;var n=a(357),l=a(333),i=(0,n.createAction)(l.GENERAL_SETTINGS_ID_CHANGED);t.generalIdChanged=i;var o=(0,n.createAction)(l.GENERAL_SETTINGS_TAG_CHANGED);t.generalTagChanged=o;var r=(0,n.createAction)(l.GENERAL_SETTINGS_VISIBILITY_TOGGLED);t.generalVisibilityToggled=r},5682:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(2063)),f=a(684),m=a(815),g=a(347),p=function(e){function HeadingSettings(){return(0,l.default)(this,HeadingSettings),(0,o.default)(this,(0,r.default)(HeadingSettings).apply(this,arguments))}return(0,s.default)(HeadingSettings,e),(0,i.default)(HeadingSettings,[{key:"render",value:function(){var e=this.props,t=e.actions,a=e.dispatch,n=e.permanentlyDismissedNotes,l=e.plugins,i=e.stores,o=i.abstractNode,r=i.uiNode.selectedNodeNativeId,s=(0,g.getAbstractNode)(o,r),p={prop:"innerHTML",checkboxLabel:"Get text from",stores:i,dividerAbove:!1,node:s,dispatch:a};return(0,m.showAtomDataTypeSettings)(s,o,l)&&!(0,f.isDynFieldSelectVisible)(p)?null:d.default.createElement(u.default,{className:"heading-settings custom",name:"heading",title:"Heading Type",settingsSectionFlags:i.external.settingsSectionFlags,toggleSettingsSection:t.external.toggleSettingsSection},d.default.createElement(c.default,{stores:i,actions:t,dispatch:a,permanentlyDismissedNotes:n,plugins:l}))}}]),HeadingSettings}(d.default.Component);t.default=p},5683:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=l(a(331)),g=l(a(326)),p=l(a(395)),h=l(a(1399)),v=l(a(818)),S=l(a(5684)),E=n(a(355)),N=n(a(347)),C=n(a(5685)),b=a(701),y=m.default.Record({name:"",value:"",open:!1,mint:!1,oldName:void 0,oldValue:void 0}),I=function(e){function AttributeSettings(){var e,t;(0,i.default)(this,AttributeSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(AttributeSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onAddClick",t.onAddClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onOpen",t.onOpen.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onClose",t.onClose.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onCommit",t.onCommit.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onChange",t.onChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"removeAttribute",t.removeAttribute.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{attributes:m.default.List()}),t}return(0,u.default)(AttributeSettings,e),(0,o.default)(AttributeSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getNode(e);if(t){var a=this.state.attributes,n=a.filter(function(e){return e.get("mint")}),l=t.getIn(["data","xattr"],m.default.List()).map(function(e,t){var n=a.getIn([t,"open"],!1);return y({name:e.get("name"),value:e.get("value"),open:n})}).concat(n);this.setState({attributes:l})}}},{key:"getNode",value:function(e){return e=e||this.props,N.getAbstractNode(e.stores.abstractNode,e.stores.uiNode.selectedNodeNativeId)}},{key:"getTag",value:function(){var e=this.getNode();return e&&(0,b.__DEPRECATED__getTag)(e)}},{key:"onAddClick",value:function(){var e=this.state.attributes,t=T(E.increment(e.map(function(e){return e.name}).toArray(),"attr")),a=T(E.increment(e.map(function(e){return e.value}).toArray(),"value")),n=y({name:t,value:a,mint:!0,open:!0}),l=e.push(n);this.setState({attributes:l})}},{key:"onOpen",value:function(e){var t=this.state.attributes.update(e,function(e){return e.set("open",!0)});this.setState({attributes:t})}},{key:"onClose",value:function(){var e=this.state.attributes.filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)});this.setState({attributes:e})}},{key:"onCommit",value:function(e){var t=this.props,a=t.stores,n=t.dispatch,l=a.uiNode.selectedNodeNativeId,i=this.state.attributes;e&&i.forEach(function(e){if(e.open){var t=T(e.name),a=g.default.trim(e.value);n(C.customAttributeChanged({nodeId:l,oldName:e.mint?void 0:e.oldName,newName:t,newValue:a}))}});var o=e?i.map(function(e){return e.set("open",!1).set("mint",!1)}):i.filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)});this.setState({attributes:o})}},{key:"onChange",value:function(e,t,a){var n=t.name,l=t.value,i=this.state.attributes.update(e,function(e){return e.mint||(e=e.set("oldName",e.name).set("oldValue",e.value)),e=e.set("name",n).set("value",l)});this.setState({attributes:i},a)}},{key:"removeAttribute",value:function(e){var t=this.props,a=t.stores,n=t.dispatch,l=a.uiNode.selectedNodeNativeId;n(C.customAttributeRemoved({nodeId:l,name:e}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.stores,n=t.actions,l=this.getTag(),i=this.state.attributes,o=this.onChange,r=this.removeAttribute;return f.default.createElement(p.default,{className:"attribute-settings",name:"attribute",title:"Custom Attributes",settingsSectionFlags:a.external.settingsSectionFlags,toggleSettingsSection:n.external.toggleSettingsSection,"data-automation-id":"custom-attributes-settings","aria-label":"Custom Attributes"},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:"kit-field attributes"},f.default.createElement("div",{className:"kit-label"},"Custom <"+l+"> attributes"),f.default.createElement("div",{className:"button-group"},f.default.createElement("div",{className:"kit-button add-part add-attribute",title:"Add Custom Attribute",onClick:this.onAddClick},f.default.createElement("i",null)))),f.default.createElement(h.default,{items:i},function(t,l){return f.default.createElement(v.default,{key:l,itemData:t,index:l,open:t.open,onOpen:e.onOpen,onClose:e.onClose,onCommit:e.onCommit,childProps:{stores:a,actions:n,onChange:o,removeAttribute:r},Item:k,Panel:S.default})})))}}]),AttributeSettings}(f.default.Component);t.default=I;var k=function(e){function AttributeItem(){var e,t;(0,i.default)(this,AttributeItem);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(AttributeItem)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onRemove",t.onRemove.bind((0,d.default)(t))),t}return(0,u.default)(AttributeItem,e),(0,o.default)(AttributeItem,[{key:"onRemove",value:function(e){var t=this.props.item;(0,this.props.removeAttribute)(t.name),e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this.props.item,t=e.name,a=e.value;return e.mint?f.default.createElement("div",{className:"button-group"},f.default.createElement("div",{className:"kit-button add-part add-attribute"},f.default.createElement("i",null))):f.default.createElement("div",{className:"kit-list-item attribute clearfix",onClick:this.props.onClick},f.default.createElement("a",{className:"edit sprite-mid"},f.default.createElement("i",null)),f.default.createElement("a",{className:"trash sprite-mid",onClick:this.onRemove},f.default.createElement("i",null)),f.default.createElement("div",{className:"label one-line-text"},f.default.createElement("span",{className:"name"},t),f.default.createElement("span",null,'="'),f.default.createElement("span",{className:"value"},a),f.default.createElement("span",null,'"')))}}]),AttributeItem}(f.default.Component),T=function(e){return e.replace(/\s/g,"")}},5684:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=l(a(360)),g=l(a(379)),p=l(a(376)),h=l(a(326)),v=a(331),S=l(a(407)),E=l(a(426)),N=l(a(449)),C=l(a(744)),b=n(a(355)),y=n(a(462)),I=a(347),k=l(a(594)),T=function(e){function AttributePanel(){var e,t;(0,i.default)(this,AttributePanel);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(AttributePanel)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onNameChange",t.onNameChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onValueChange",t.onValueChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onSave",t.onSave.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onCancel",t.onCancel.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{name:"",value:"",nameInvalid:!1,nameReserved:!1,nameTaken:!1,valueInvalid:!1}),t}return(0,u.default)(AttributePanel,e),(0,o.default)(AttributePanel,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttribute()}},{key:"componentDidMount",value:function(){this.focusInput()}},{key:"componentDidUpdate",value:function(e,t){h.default.isEqual(t,this.state)||this.props.refreshPanel()}},{key:"refreshAttribute",value:function(e){var t=(e=e||this.props).item;if(!t.mint){var a=t.name,n=t.value,l={};a!==this.state.name&&(l.name=a),n!==this.state.value&&(l.value=n),Object.keys(l).length>0&&(this.setState(l),this.refreshStates(l))}}},{key:"refreshStates",value:function(e){e=e||this.state,this.refreshNameStates(e),this.refreshValueStates(e)}},{key:"refreshNameStates",value:function(e){var t=(e=e||this.state).name,a=this.props,n=a.index,l=a.stores,i=l.uiNode,o=l.abstractNode,r=i.selectedNodeNativeId,s=(0,I.getAbstractNode)(o,r),d=!b.hasValue(t)||!y.isValidAttrName(t),u=y.isInternalAttr(t)||y.isReservedAttr(t),c=s.data.get("xattr",(0,v.List)()),f=Boolean(c.find(function(e){return b.weakEqual(e.get("name"),t)&&n!==c.indexOf(e)}));this.setState({nameInvalid:d,nameReserved:u,nameTaken:f})}},{key:"refreshValueStates",value:function(e){var t=(e=e||this.state).value,a=!b.hasValue(t);this.setState({valueInvalid:a})}},{key:"focusInput",value:function(){(0,S.default)(g.default.findDOMNode(this.refs.name)).find("input").trigger("focus").trigger("select")}},{key:"getNameInputClasses",value:function(){var e=this.state,t=e.nameInvalid,a=e.nameReserved,n=e.nameTaken;return(0,p.default)({invalid:t||a||n})}},{key:"getValueInputClasses",value:function(){var e=this.state.valueInvalid;return(0,p.default)({invalid:e})}},{key:"getSaveButtonClasses",value:function(){var e=this.isValid();return(0,p.default)(["kit-button","has-text save"],{disabled:!e})}},{key:"isValid",value:function(){var e=this.state,t=e.name,a=e.value,n=e.nameInvalid,l=e.valueInvalid,i=e.nameReserved,o=e.nameTaken;return Boolean(t)&&Boolean(a)&&!n&&!l&&!i&&!o}},{key:"onNameChange",value:function(e){var t={name:e};this.setState(t),this.refreshNameStates(t)}},{key:"onValueChange",value:function(e){var t={value:e};this.setState(t),this.refreshValueStates(t)}},{key:"onSave",value:function(){if(this.isValid()){var e=this.state,t=e.name,a=e.value,n=this.props,l=n.index,i=n.onChange,o=n.onCommit;i(l,{name:t,value:a},function(){o(!0)})}}},{key:"onCancel",value:function(){(0,this.props.onCommit)(!1)}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.value,n=e.nameReserved,l=e.nameTaken,i=this.props,o=i.open,r=i.handleOpen,s=f.default.createElement(C.default,null,f.default.createElement("div",{className:"attribute-panel settings-panel"},f.default.createElement("div",{className:"inner"},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:"kit-field name"},f.default.createElement(E.default,{text:"Name"}),f.default.createElement(N.default,{className:this.getNameInputClasses(),value:t,placeholder:"data-custom",tabIndex:100,onChange:this.onNameChange,onEnter:this.onSave,ref:"name",autofocus:!0}),n?f.default.createElement("div",{className:"reserved"},"This is a reserved name."):null,l?f.default.createElement("div",{className:"taken"},"This attribute already exists."):null),f.default.createElement("div",{className:"kit-field value"},f.default.createElement(E.default,{text:"Value"}),f.default.createElement(N.default,{className:this.getValueInputClasses(),value:a,placeholder:"Custom Value",tabIndex:100,maxLength:512,onChange:this.onValueChange,onEnter:this.onSave})),f.default.createElement("div",{className:this.getSaveButtonClasses(),tabIndex:3,onClick:this.onSave},"Save"),f.default.createElement("div",{className:"kit-button has-text cancel",tabIndex:4,onClick:this.onCancel},"Cancel")))));return f.default.createElement(k.default,{title:"Add Attribute",content:s,open:o,arrowSize:0,handleOpen:r,showMask:!0},this.props.children)}}]),AttributePanel}(f.default.Component);t.default=T,(0,c.default)(T,"propTypes",{item:m.default.object.isRequired,index:m.default.number.isRequired,stores:m.default.object.isRequired,onChange:m.default.func.isRequired,onCommit:m.default.func.isRequired,open:m.default.bool.isRequired,handleOpen:m.default.func.isRequired})},5685:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customAttributeRemoved=t.customAttributeChanged=void 0;var n=a(357),l=a(333),i=(0,n.createAction)(l.ABSTRACT_NODE_CUSTOM_ATTRIBUTE_CHANGED);t.customAttributeChanged=i;var o=(0,n.createAction)(l.ABSTRACT_NODE_CUSTOM_ATTRIBUTE_REMOVED);t.customAttributeRemoved=o},5686:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(2065)),f=function(e){function LinkSettings(){return(0,l.default)(this,LinkSettings),(0,o.default)(this,(0,r.default)(LinkSettings).apply(this,arguments))}return(0,s.default)(LinkSettings,e),(0,i.default)(LinkSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch,l=e.permanentlyDismissedNotes,i=e.plugins;return d.default.createElement(u.default,{className:"link-settings",name:"link",title:"Link Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n,permanentlyDismissedNotes:l,plugins:i}))}}]),LinkSettings}(d.default.Component);t.default=f},5687:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=n(a(331)),g=l(a(326)),p=l(a(395)),h=l(a(1051)),v=a(373),S=l(a(1314)),E=l(a(426)),N=l(a(686)),C=l(a(449)),b=n(a(684)),y=l(a(506)),I=l(a(1050)),k=a(512),T=n(a(341)),A=a(347),_=a(401),x=a(387),P=n(a(816)),R=l(a(2066)),D=a(364),O=a(335),F=a(815),w=m.default.Record({id:null,src:"",fileName:"",sourceWidth:0,sourceHeight:0,sourceSize:0,width:0,height:0,useSrcset:!0}),M=function(e){function ImageSettings(){var e,t;(0,i.default)(this,ImageSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(ImageSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onWidthChange",t.onWidthChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onWidthReset",t.onWidthReset.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onHeightChange",t.onHeightChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onHeightReset",t.onHeightReset.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAltTextChange",t.onAltTextChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAltTextCommit",t.onAltTextCommit.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"toggleSrcset",t.toggleSrcset.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{imageSettingsState:w(),altText:""}),t}return(0,u.default)(ImageSettings,e),(0,o.default)(ImageSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&m.default.is(e.stores.abstractNode,t.stores.abstractNode)&&e.stores.betaFeatures===t.stores.betaFeatures||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){var t=(e=e||this.props).stores.asset,a=this.getImageNode(e);if(a){var n=this.state.imageSettingsState.set("src",a.getIn(["data","attr","src"],"")).set("width",a.getIn(["data","attr","width"])).set("height",a.getIn(["data","attr","height"])).set("useSrcset",!a.getIn(["data","img","srcsetDisabled"])),l=(0,x.getImageModel)(a,t);if(l){var i=l._id,o=l.origFileName,r=l.width,s=l.height,d=l.fileSize;n=n.set("id",i).set("fileName",o).set("sourceWidth",r).set("sourceHeight",s).set("sourceSize",d)}var u=a.getIn(["data","attr","alt"],"");this.setState({imageSettingsState:n,altText:u})}}},{key:"getImageNode",value:function(e){var t=(e=e||this.props).stores,a=t.abstractNode,n=t.uiNode.selectedNodeNativeId,l=(0,A.getAbstractNode)(a,n);return l&&T.isImage(l)?l:null}},{key:"isSrcBound",value:function(){var e=this.getImageNode();return!!e&&(function(e){return e&&(0,O.getExpressionAt)(e.bind,[{in:"Record",at:"img"}])}(e)||T.isBound(e,"src"))}},{key:"isAltBound",value:function(){var e=this.getImageNode();return Boolean(e&&T.isBound(e,"alt"))}},{key:"onWidthChange",value:function(e){this.props.dispatch(P.imageWidthChanged({width:e}))}},{key:"onWidthReset",value:function(){this.props.dispatch(P.imageWidthChanged({width:""}))}},{key:"onHeightChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(P.imageHeightChanged({nodeId:t,height:e}))}},{key:"onHeightReset",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(P.imageHeightChanged({nodeId:e,height:""}))}},{key:"onAltTextChange",value:function(e){this.setState({altText:e})}},{key:"onAltTextCommit",value:function(){var e=this.getImageNode(),t=e?e.getIn(["data","attr","alt"],""):"",a=this.state.altText;if(t!==a){var n=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(P.imageAltTextChanged({nodeId:n,altText:a}))}}},{key:"toggleSrcset",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(P.srcsetToggled({nodeId:e}))}},{key:"render",value:function(){var e=this.props,t=e.actions,a=e.dispatch,n=e.permanentlyDismissedNotes,l=e.plugins,i=e.stores,o=i.ui,r=i.abstractNode,s=i.asset.assets,d=this.state.imageSettingsState,u=d.src,c=d.fileName,m=d.sourceWidth,T=d.sourceHeight,A=d.sourceSize,x=d.width,P=d.height,O=d.useSrcset,w=d.id,M=this.state.altText,L=o.srcsetOptions,U=this.isSrcBound(),B=null!==w&&!(0,_.isPluginAsset)(w)&&w!==v.paths.EXAMPLE_IMG_ID&&w!==v.paths.EXAMPLE_THUMB_ID,V=this.getImageNode();if(!V)return null;var G={prop:"src",checkboxLabel:"Get Image from",stores:i,dispatch:a,node:V},H=(0,F.showAtomDataTypeSettings)(V,r,l);if(H&&!(0,b.isDynFieldSelectVisible)(G))return null;var q=V&&"image"===V.getIn(["data","search","bind","src",0,"slug"]),W=V&&"title"===V.getIn(["data","search","bind","alt",0,"slug"]),Q=Boolean(V&&(0,D.isInsideRepeaterWithImageRefSet)(V)(r.root)),j=s.get(V.getIn(["data","img","id"])),K=j&&(0,k.isFigmaAsset)(j)?j.cdnUrl:u;return f.default.createElement(p.default,{className:"image-settings replace back",name:"image",title:"Image Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},f.default.createElement("div",{className:"kit-panel"},U||H?null:f.default.createElement(h.default,{dispatch:this.props.dispatch,replace:B,type:"imageSettings",filter:"image",label:"Image",openAssetManagerTab:t.ui.openAssetManagerTab,disabled:i.assetUi.hotSelecting,style:{marginBottom:"8px"}}),f.default.createElement(b.default,G),!H&&f.default.createElement(f.default.Fragment,null,q?f.default.createElement(I.default,{type:"image",dispatch:a,permanentlyDismissedNotes:n}):null,U?null:f.default.createElement("div",{className:"details clearfix"},f.default.createElement("div",{className:"preview"},f.default.createElement("img",{className:"image",src:K})),f.default.createElement(S.default,{fileName:c,sourceWidth:m,sourceHeight:T,sourceSize:A,width:x,stores:i,actions:t,dispatch:a})),f.default.createElement("div",{className:"kit-divider"}),f.default.createElement("div",{className:"column-2"},f.default.createElement("div",{className:"kit-field width"},f.default.createElement(E.default,{text:"Width"}),f.default.createElement(N.default,{value:x,unit:"px",units:["px"],minValue:0,placeholder:"Auto",selectedNodeNativeId:i.uiNode.selectedNodeNativeId,onChange:this.onWidthChange,onUnitChange:g.default.noop,onValueUnitChange:g.default.noop,onReset:this.onWidthReset})),f.default.createElement("div",{className:"kit-field height"},f.default.createElement(E.default,{text:"Height"}),f.default.createElement(N.default,{value:P,unit:"px",units:["px"],minValue:0,placeholder:"Auto",stores:i,onChange:this.onHeightChange,onUnitChange:g.default.noop,onValueUnitChange:g.default.noop,onReset:this.onHeightReset}))),L?f.default.createElement("div",{className:"kit-panel srcset"},f.default.createElement("div",{className:"kit-divider"}),f.default.createElement("div",{className:"kit-checkbox-group kit-inset-box srcset-sizes"},f.default.createElement(y.default,{className:"hi-dpi",checked:O,onClick:this.toggleSrcset},"Responsive Image"))):null,f.default.createElement("div",{className:"kit-divider"}),Q&&U?f.default.createElement(R.default,null):null,this.isAltBound()||Q&&U?null:f.default.createElement("div",{className:"alt-text-section"},f.default.createElement("div",{className:"kit-field alt-text"},f.default.createElement(E.default,{text:"Alt"}),f.default.createElement(C.default,{value:M,placeholder:"A porcupine",onChange:this.onAltTextChange,onEnter:this.onAltTextCommit,onBlur:this.onAltTextCommit,"data-automation-id":"image-settings-alt-input"})))),Q?null:f.default.createElement("div",{className:"alt-binding"},f.default.createElement(b.default,{prop:"alt",checkboxLabel:"Get Alt Text from",stores:i,dispatch:a,node:V}),W?f.default.createElement(I.default,{type:"title",dispatch:a,permanentlyDismissedNotes:n}):null)))}}]),ImageSettings}(f.default.Component);t.default=M},5688:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(2069)),f=function(e){function VideoSettings(){return(0,l.default)(this,VideoSettings),(0,o.default)(this,(0,r.default)(VideoSettings).apply(this,arguments))}return(0,s.default)(VideoSettings,e),(0,i.default)(VideoSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return d.default.createElement(u.default,{className:"video-settings custom",name:"video",title:"Video Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n}))}}]),VideoSettings}(d.default.Component);t.default=f},5689:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(2070)),f=a(347),m=function(e){function YouTubeVideoSettings(){return(0,l.default)(this,YouTubeVideoSettings),(0,o.default)(this,(0,r.default)(YouTubeVideoSettings).apply(this,arguments))}return(0,s.default)(YouTubeVideoSettings,e),(0,i.default)(YouTubeVideoSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch,l=t.abstractNode,i=t.uiNode;return d.default.createElement(u.default,{className:"youtube-video-settings custom",name:"youtubevideo",title:"YouTube Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{abstractNode:(0,f.getAbstractNode)(l,i.selectedNodeNativeId),dispatch:n}))}}]),YouTubeVideoSettings}(d.default.Component);t.default=m},5690:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(339)),o=l(a(323)),r=l(a(324)),s=l(a(328)),d=l(a(327)),u=l(a(332)),c=l(a(329)),f=l(a(325)),m=l(a(320)),g=a(331),p=l(a(376)),h=a(349),v=l(a(395)),S=l(a(449)),E=l(a(506)),N=l(a(633)),C=l(a(818)),b=l(a(684)),y=l(a(5691)),I=l(a(5692)),k=a(353),T=l(a(373)),A=a(1348),_=a(341),x=n(a(364)),P=a(347),R=function(e){var t=function(e){return(0,P.getAbstractNode)(e.stores.abstractNode,e.stores.uiNode.selectedNodeNativeId)}(e);return t?x.closestLightboxNode(t,e.stores.abstractNode.root):null},D=(0,g.Record)({id:"",url:"",cdnUrl:"",fileName:"",origFileName:"",width:0,height:0,fileSize:0,caption:"",mint:!1,open:!1}),O=(0,g.Record)({id:"",originalUrl:"",url:"",html:"",thumbnailUrl:"",width:0,height:0,mint:!1,open:!1}),F={},w=[],M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F,a=R(e),n="",l="",i=w;if(a){var o=e.stores.asset;n=a.getIn(["data","json","group"]),l=a.get("id"),i=a.getIn(["data","json","items"],(0,g.List)()).map(function(e,n){e=e.toJS?e.toJS():e;var l=t.lastLightboxNodeId===a.get("id")?t.items[n]:null,i=Boolean(l&&l.open),r=Boolean(l&&l.mint),s=e._id||e.id,d=e.type,u=e.url,c=e.html,f=e.thumbnailUrl,m=e.originalUrl,g=e.caption||"";switch(d){case"image":var p=o.getByUrl(u);if(p){var h=p.cdnUrl,v=p.fileName,S=p.origFileName,E=p.width,N=p.height,C=p.fileSize;return D({id:s,url:u,cdnUrl:h,fileName:v,origFileName:S,width:E,height:N,fileSize:C,caption:g,open:i,mint:r})}return(0,k.reportBug)("LightboxAssetMissing","Missing lightbox asset when loading items",{id:s,url:u,item:e}),null;case"video":var b=e.width,y=e.height;return O({id:s,url:u,html:c,thumbnailUrl:f,originalUrl:m,width:b,height:y,open:i,mint:r});default:return null}}).filter(Boolean).toArray()}return{prevLightboxNode:a,items:i,group:n,lastLightboxNodeId:l}},L=function(e){function LightboxSettings(){var e,t;(0,o.default)(this,LightboxSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(LightboxSettings)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"state",M(t.props)),(0,f.default)((0,u.default)(t),"isMediaBound",function(){var e=R(t.props);return Boolean(e&&(0,_.isBound)(e,"media"))}),(0,f.default)((0,u.default)(t),"onAddVideoClick",function(){var e=t.state.items,a=O({id:T.default.paths.EXAMPLE_IMG_ID,mint:!0,open:!0});t.setState({items:[a].concat((0,i.default)(e))})}),(0,f.default)((0,u.default)(t),"onAddImageClick",function(){t.props.dispatch((0,A.lightboxItemAdded)({data:{_id:T.default.paths.EXAMPLE_IMG_ID,type:"image",url:T.default.paths.EXAMPLE_IMG_URL,cdnUrl:T.default.paths.EXAMPLE_IMG_URL,fileName:T.default.paths.EXAMPLE_IMG_NAME,origFileName:T.default.paths.EXAMPLE_IMG_NAME,width:150,height:150,fileSize:2063}})),h.window.requestAnimationFrame(function(){var e=t.state.items,a=e[0];a&&t.setState({items:[a.set("open",!0)].concat((0,i.default)(e.slice(1)))})})}),(0,f.default)((0,u.default)(t),"onGroupChange",function(e){t.setState({group:e})}),(0,f.default)((0,u.default)(t),"onGroupCommit",function(){var e=t.state.group;t.props.dispatch((0,A.lightboxGroupChanged)({group:e}))}),(0,f.default)((0,u.default)(t),"onToggleLinked",function(){t.props.dispatch((0,A.lightboxLinkToggled)())}),(0,f.default)((0,u.default)(t),"onSortEnd",function(e){var a=e.startIndex,n=e.endIndex;e.commit&&t.props.dispatch((0,A.lightboxItemMoved)({startIndex:a,endIndex:n}))}),(0,f.default)((0,u.default)(t),"onOpen",function(e){var a=t.state.items;t.setState({items:a.map(function(t,a){return a===e?t.set("open",!0):t})})}),(0,f.default)((0,u.default)(t),"onClose",function(){var e=t.state.items;t.setState({items:e.filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)})})}),(0,f.default)((0,u.default)(t),"onCommit",function(e){if(e){var a=e.type,n=e.index,l=t.state.items[n].mint,i="image"===a?{_id:e.id,type:"image",url:e.url,cdnUrl:e.cdnUrl,width:e.width,height:e.height,fileName:e.fileName,origFileName:e.origFileName,fileSize:e.fileSize,caption:e.caption}:"video"===a?{type:"video",originalUrl:e.originalUrl,url:e.url,html:e.html,thumbnailUrl:e.thumbnailUrl,width:e.width,height:e.height}:null;t.props.dispatch((0,A.lightboxItemChanged)({index:n,data:i,isMint:l}))}var o=t.state.items;t.setState({items:o.filter(function(t){return Boolean(e||!t.mint)}).map(function(e){return e.set("open",!1).set("mint",!1)})})}),(0,f.default)((0,u.default)(t),"renderItem",function(e){var a=e.item,n=e.index,l=e.Item,i=e.Item_Handle,o=t.props,r=o.dispatch,s=o.stores.assetUI,d=o.actions.openAssetManagerTab;return m.default.createElement(C.default,{itemData:a,index:n,open:a.open,onOpen:t.onOpen,onClose:t.onClose,onCommit:t.onCommit,childProps:{assetUiState:s,openAssetManagerTab:d,Item:l,Item_Handle:i,dispatch:r},Item:B,Panel:a instanceof D?y.default:I.default,key:n})}),t}return(0,c.default)(LightboxSettings,e),(0,r.default)(LightboxSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.dispatch,n=e.settingsSectionFlags,l=e.toggleSettingsSection,i=this.state,o=i.group,r=i.items,s="string"==typeof o,d=this.isMediaBound(),u=R(this.props);return u?m.default.createElement(v.default,{className:"lightbox-settings",name:"lightbox",title:"Lightbox Settings",settingsSectionFlags:n,toggleSettingsSection:l,"data-automation-id":"lightbox-settings","aria-label":"Lightbox"},m.default.createElement("div",{className:"kit-panel"},d?null:m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:"kit-field media-field"},m.default.createElement("div",{className:"kit-button add-list lightbox-add-video relative pull-right",title:"Add Video",onClick:this.onAddVideoClick},m.default.createElement("i",null)),m.default.createElement("div",{className:"kit-button add-list lightbox-add-image relative pull-right",title:"Add Image",onClick:this.onAddImageClick},m.default.createElement("i",null)),m.default.createElement("div",{className:"kit-label kit-list-label"},"Media")),r.length>0?m.default.createElement(N.default,{"data-automation-id":"lightbox-settings-sortable-list",className:"kit-list2",styleDragOffset:!0,onSortEnd:this.onSortEnd,items:r,getItemKey:U,renderItem:this.renderItem}):m.default.createElement("div",{"data-automation-id":"lightbox-settings-sortable-list-empty",className:"kit-list-wrapper tab-list-none"},m.default.createElement("div",{className:"kit-empty-list"},"None"))),m.default.createElement(b.default,{prop:"media",className:(0,p.default)("lightbox-media-binding",{enabled:d}),checkboxLabel:"Get Media from",stores:t,dispatch:a,node:u}),m.default.createElement(E.default,{className:"link-checkbox",checked:s,onClick:this.onToggleLinked},"Link with other lightboxes"),s?m.default.createElement("div",{className:"kit-field group-field"},m.default.createElement("div",{className:"kit-label"},"Group name"),m.default.createElement(S.default,{className:"group",value:o,placeholder:"e.g. Sunset Collection",onChange:this.onGroupChange,onEnter:this.onGroupCommit,onBlur:this.onGroupCommit})):null)):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevLightboxNode!==R(e)?M(e,t):null}}]),LightboxSettings}(m.default.Component);t.default=L;var U=function(e,t){return t},B=function(e){function ImageItem(){var e,t;(0,o.default)(this,ImageItem);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(ImageItem)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"onRemoveClick",t.onRemoveClick.bind((0,u.default)(t))),t}return(0,c.default)(ImageItem,e),(0,r.default)(ImageItem,[{key:"getTitle",value:function(){var e=this.props.item,t=e.origFileName,a=e.fileName,n=e.originalUrl,l=t||a||n;return l||(e instanceof D?"image-placeholder.png":"video-placeholder.png")}},{key:"getImageStyles",value:function(){var e=this.props.item,t=e instanceof D?e.cdnUrl:e.thumbnailUrl;return t?{backgroundImage:'url("'+t+'")'}:null}},{key:"onRemoveClick",value:function(e){var t=this.props.index;this.props.dispatch((0,A.lightboxItemRemoved)({index:t})),e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.Item,n=e.Item_Handle,l=t.loading,i=this.getTitle();return a({className:(0,p.default)("kit-list2-item","flat"),onClick:this.props.onClick,children:[m.default.createElement("div",{className:"kit-list2-item-wrap",key:"wrap"},n({className:"kit-drag-handle"}),m.default.createElement("a",{className:"trash sprite-mid",title:"Remove Item",onClick:this.onRemoveClick},m.default.createElement("i",null)),l?null:m.default.createElement("div",{className:"image-preview checkerboard-3px"},m.default.createElement("div",{className:"image cover",style:this.getImageStyles()})),l?m.default.createElement("div",{className:"indicator animate-blink"}):null,m.default.createElement("div",{className:"label one-line-text"},m.default.createElement("span",{className:"name"},i)))]})}}]),ImageItem}(m.default.Component)},5691:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(320)),f=n(a(744)),m=n(a(449)),g=n(a(1314)),p=n(a(1051)),h=a(373),v=n(a(594)),S=a(1348),E=function(e){function LightboxImagePanel(){var e,t;(0,l.default)(this,LightboxImagePanel);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(LightboxImagePanel)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"state",{caption:t.props.item.caption||""}),(0,u.default)((0,s.default)(t),"onCaptionChange",function(e){t.setState({caption:e})}),(0,u.default)((0,s.default)(t),"onCaptionSubmit",function(){var e=t.props.onCommit;t.commitCaption(),e()}),(0,u.default)((0,s.default)(t),"onCancel",function(){(0,t.props.onCommit)()}),t}return(0,d.default)(LightboxImagePanel,e),(0,i.default)(LightboxImagePanel,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.item!==t.item&&this.setState({caption:e.item.caption})}},{key:"commitCaption",value:function(){var e=this.state.caption,t=this.props.index;this.props.dispatch((0,S.lightboxImageCaptionChanged)({index:t,caption:e}))}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.index,n=e.assetUiState,l=e.dispatch,i=e.openAssetManagerTab,o=t.fileName,r=t.width,s=t.height,d=t.fileSize,u=t.cdnUrl,S=this.state.caption,E=t.id!==h.paths.EXAMPLE_IMG_ID,N=c.default.createElement(f.default,null,c.default.createElement("div",{className:"attribute-panel lightbox-image-panel wf-control replace visible"},c.default.createElement("div",{className:"kit-field image"},c.default.createElement("div",{className:"kit-group kit-inset-box"},c.default.createElement(p.default,{dispatch:this.props.dispatch,type:"lightbox",filter:"image",label:"Image",openAssetManagerTab:i,disabled:n.hotSelecting,replace:E,hotSelectSpec:{lightboxImage:{index:a}}}),c.default.createElement("div",{className:"details clearfix"},c.default.createElement("div",{className:"preview checkerboard-5px kit-inset-box"},c.default.createElement("img",{src:u})),c.default.createElement(g.default,{dispatch:l,fileName:o,sourceWidth:r,sourceHeight:s,sourceSize:d,hideRetina:!0})))),c.default.createElement("div",{className:"kit-field lightbox-caption-field"},c.default.createElement(m.default,{value:S,placeholder:"Caption",onChange:this.onCaptionChange,onEnter:this.onCaptionSubmit})),c.default.createElement("div",{className:"kit-button has-text save",onClick:this.onCaptionSubmit},"Save")));return c.default.createElement(v.default,{dataAutomationId:"lightbox-image",content:N,open:this.props.open,arrowSize:0,title:"Add Image",handleOpen:this.onCancel,showMask:!0},this.props.children)}}]),LightboxImagePanel}(c.default.Component);t.default=E},5692:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(125)),i=n(a(126)),o=n(a(323)),r=n(a(324)),s=n(a(328)),d=n(a(327)),u=n(a(332)),c=n(a(329)),f=n(a(325)),m=n(a(320)),g=a(326),p=n(a(744)),h=n(a(1052)),v=n(a(594)),S=a(801),E=a(677),N=450,C=function(e){function LightboxEmbedPanel(){var e,t;(0,o.default)(this,LightboxEmbedPanel);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return t=(0,s.default)(this,(e=(0,d.default)(LightboxEmbedPanel)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"isMounted",!1),(0,f.default)((0,u.default)(t),"state",{originalUrl:t.props.item&&t.props.item.originalUrl,metadata:null,changed:!1,loading:!1,error:null}),(0,f.default)((0,u.default)(t),"request",null),(0,f.default)((0,u.default)(t),"onOriginalUrlChange",function(e){t.setState({originalUrl:e,changed:!0}),t.delayValidate(e)}),(0,f.default)((0,u.default)(t),"delayValidate",(0,g.debounce)(function(e){return t.validateLinkUrl(e)},N)),(0,f.default)((0,u.default)(t),"validateLinkUrl",function(){var e=(0,i.default)(l.default.mark(function _callee(e){return l.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.request&&(t.request.cancel(),t.request=null),t.request=(0,E.makeCancelable)((0,S.request)(e)),t.setState({loading:!0,error:!1}),a.next=5,t.request.then(function(a){if(t.isMounted){var n=a.metadata;t.setState({changed:t.state.originalUrl!==e,loading:!1,metadata:n})}}).catch(function(a){t.isMounted&&(console.warn(a),t.setState({changed:t.state.originalUrl!==e,loading:!1,error:a}))});case 5:case"end":return a.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}()),(0,f.default)((0,u.default)(t),"onSave",function(){var e=t.state,a=e.changed,n=e.loading,l=e.error;if(!a&&!n&&!l&&null!==t.state.metadata){var i=t.props,o=i.index,r=i.onCommit,s=t.state,d=s.originalUrl,u=s.metadata,c=u.url,f=u.html,m=u.thumb,g=u.width,p=u.height;r({index:o,type:"video",originalUrl:d,url:c,html:f,thumbnailUrl:m.url,width:g,height:p})}}),(0,f.default)((0,u.default)(t),"onCancel",function(){t.props.onCommit(null)}),t}return(0,c.default)(LightboxEmbedPanel,e),(0,r.default)(LightboxEmbedPanel,[{key:"componentDidMount",value:function(){this.isMounted=!0}},{key:"componentWillUnmount",value:function(){this.isMounted=!1,this.request&&this.request.cancel()}},{key:"componentDidUpdate",value:function(e,t){(0,g.isEqual)(t,this.state)||this.props.refreshPanel()}},{key:"getSaveButtonClasses",value:function(){var e=this.state,t=e.changed,a=e.loading,n=e.error;return"kit-button has-text save"+(!t&&!a&&!n?"":" disabled")}},{key:"render",value:function(){var e=this.state,t=e.originalUrl,a=e.loading,n=e.error,l=m.default.createElement(p.default,null,m.default.createElement("div",{className:"attribute-panel lightbox-embed-panel-wrap settings-panel"},m.default.createElement("div",{className:"kit-panel"},m.default.createElement("div",{className:"kit-field lightbox-embed-url-field"},m.default.createElement("div",{className:"kit-label"},"URL:"),m.default.createElement(h.default,{value:t,placeholder:"e.g. https://vimeo.com/69534373",maxLength:100,loading:a,error:n,onChange:this.onOriginalUrlChange}))),m.default.createElement("div",{className:this.getSaveButtonClasses(),onClick:this.onSave},"Save")),m.default.createElement("div",{className:"panel-mask lightbox-embed-panel wf-control"},m.default.createElement("canvas",{className:"mask"})));return m.default.createElement(v.default,{content:l,open:this.props.open,arrowSize:0,title:"Add Video",handleOpen:this.onCancel,showMask:!0},this.props.children)}}]),LightboxEmbedPanel}(m.default.Component);t.default=C},5693:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(2067)),f=function(e){function InputSettings(){return(0,l.default)(this,InputSettings),(0,o.default)(this,(0,r.default)(InputSettings).apply(this,arguments))}return(0,s.default)(InputSettings,e),(0,i.default)(InputSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return d.default.createElement(u.default,{className:"input-settings",name:"input",title:"Input Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n}))}}]),InputSettings}(d.default.Component);t.default=f},5694:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(1049)),f=function(e){function InnerTextSettings(){return(0,l.default)(this,InnerTextSettings),(0,o.default)(this,(0,r.default)(InnerTextSettings).apply(this,arguments))}return(0,s.default)(InnerTextSettings,e),(0,i.default)(InnerTextSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch,l=e.permanentlyDismissedNotes;return d.default.createElement(u.default,{className:"innertext-settings custom",name:"innertext",title:"Inner Text Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n,permanentlyDismissedNotes:l}))}}]),InnerTextSettings}(d.default.Component);t.default=f},5695:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=l(a(395)),g=l(a(426)),p=l(a(449)),h=l(a(685)),v=l(a(2071)),S=n(a(364)),E=a(1315),N=function(e,t){var a=S.getFormProxyNode(e,t.root);return a?{_abstractNode:e,method:a.getIn(["data","attr","method"],""),redirectUrl:a.getIn(["data","form","redirect"],""),actionUrl:a.getIn(["data","attr","action"],"")}:{_abstractNode:e,method:"",redirectUrl:"",actionUrl:""}},C=function(e){function FormSettings(){var e,t;(0,i.default)(this,FormSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(FormSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"state",N(t.props.abstractNode,t.props.abstractNodeState)),(0,c.default)((0,d.default)(t),"onRedirectUrlChange",function(e){t.setState({redirectUrl:e})}),(0,c.default)((0,d.default)(t),"onRedirectUrlCommit",function(){var e=t.state.redirectUrl;t.props.dispatch((0,E.formSettingsRedirectUrlChanged)({redirectUrl:e}))}),(0,c.default)((0,d.default)(t),"onActionUrlChange",function(e){t.setState({actionUrl:e})}),(0,c.default)((0,d.default)(t),"onActionUrlCommit",function(){var e=t.state.actionUrl;t.props.dispatch((0,E.formSettingsActionUrlChanged)({actionUrl:e}))}),(0,c.default)((0,d.default)(t),"onMethodChange",function(e){t.props.dispatch((0,E.formSettingsMethodChanged)({method:e}))}),t}return(0,u.default)(FormSettings,e),(0,o.default)(FormSettings,[{key:"render",value:function(){var e=this.props,t=e.abstractNode,a=e.abstractNodeState,n=e.dispatch,l=e.settingsSectionFlags,i=e.toggleSettingsSection,o=this.state,r=o.method,s=o.redirectUrl,d=o.actionUrl;return f.default.createElement(m.default,{className:"form-settings",name:"form",title:"Form Settings",settingsSectionFlags:l,toggleSettingsSection:i},f.default.createElement("div",{className:"kit-panel"},f.default.createElement(v.default,{abstractNode:t,abstractNodeState:a,dispatch:n}),f.default.createElement("div",{className:"kit-divider"}),f.default.createElement("div",{className:"kit-field redirect"},f.default.createElement(g.default,{text:"Redirect URL",title:"Redirect to a URL on success"}),f.default.createElement(p.default,{value:s,placeholder:"e.g. /success",maxLength:1024,onChange:this.onRedirectUrlChange,onEnter:this.onRedirectUrlCommit,onBlur:this.onRedirectUrlCommit})),f.default.createElement("div",{className:"kit-field action"},f.default.createElement(g.default,{text:"Action",title:"Custom form action URL"}),f.default.createElement(p.default,{value:d,placeholder:"(webflow default)",maxLength:1024,onChange:this.onActionUrlChange,onEnter:this.onActionUrlCommit,onBlur:this.onActionUrlCommit})),f.default.createElement("div",{className:"kit-field method"},f.default.createElement(g.default,{text:"Method",title:"Form method"}),f.default.createElement(h.default,{value:r,placeholder:"Auto (default)",onCommit:this.onMethodChange},f.default.createElement("option",{value:"get"},"GET"),f.default.createElement("option",{value:"post"},"POST")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t._abstractNode!==e.abstractNode?N(e.abstractNode,e.abstractNodeState):null}}]),FormSettings}(f.default.Component);t.default=C},5696:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(2072)),f=function(e){function FormFileUploadSettings(){return(0,l.default)(this,FormFileUploadSettings),(0,o.default)(this,(0,r.default)(FormFileUploadSettings).apply(this,arguments))}return(0,s.default)(FormFileUploadSettings,e),(0,i.default)(FormFileUploadSettings,[{key:"render",value:function(){var e=this.props,t=e.abstractNodeState,a=e.externalState,n=e.externalActions,l=e.dispatch,i=e.selectedNodeNativeId;return d.default.createElement(u.default,{className:"form-file-upload-settings",name:"form",title:"File Upload Settings",settingsSectionFlags:a.settingsSectionFlags,toggleSettingsSection:n.toggleSettingsSection,"data-automation-id":"form-file-upload-settings-panel"},d.default.createElement("div",{className:"kit-panel"},d.default.createElement(c.default,{dispatch:l,abstractNodeState:t,selectedNodeNativeId:i})))}}]),FormFileUploadSettings}(d.default.Component);t.default=f},5697:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(2074)),f=function(e){function FormFileUploadErrorSettings(){return(0,l.default)(this,FormFileUploadErrorSettings),(0,o.default)(this,(0,r.default)(FormFileUploadErrorSettings).apply(this,arguments))}return(0,s.default)(FormFileUploadErrorSettings,e),(0,i.default)(FormFileUploadErrorSettings,[{key:"render",value:function(){var e=this.props,t=e.abstractNodeState,a=e.externalState,n=e.externalActions,l=e.dispatch,i=e.selectedNodeNativeId;return d.default.createElement(u.default,{className:"form-file-upload-error-settings",name:"form",title:"Error Message Settings",settingsSectionFlags:a.settingsSectionFlags,toggleSettingsSection:n.toggleSettingsSection},d.default.createElement(c.default,{dispatch:l,abstractNodeState:t,selectedNodeNativeId:i}))}}]),FormFileUploadErrorSettings}(d.default.Component);t.default=f},5698:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(323)),r=l(a(324)),s=l(a(328)),d=l(a(327)),u=l(a(332)),c=l(a(329)),f=l(a(325)),m=l(a(320)),g=l(a(331)),p=l(a(395)),h=l(a(426)),v=l(a(449)),S=l(a(694)),E=l(a(632)),N=l(a(506)),C=l(a(2075)),b=a(542),y=n(a(341)),I=a(347),k=l(a(586)),T=l(a(670)),A=n(a(2076)),_=function(e){function MapSettings(){var e,t;(0,o.default)(this,MapSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(MapSettings)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"onTooltipChange",t.onTooltipChange.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onTooltipCommit",t.onTooltipCommit.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onMapZoomSliderChange",t.onMapZoomSliderChange.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onMapZoomTextChange",t.onMapZoomTextChange.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onMapZoomTextCommit",t.onMapZoomTextCommit.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onStyleChange",t.onStyleChange.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onToggleScrollwheel",t.onToggleScrollwheel.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onToggleEnableTouch",t.onToggleEnableTouch.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"onAPIKeyClick",t.onAPIKeyClick.bind((0,u.default)(t))),(0,f.default)((0,u.default)(t),"state",{tooltip:"",zoomText:String(12)}),t}return(0,c.default)(MapSettings,e),(0,r.default)(MapSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.request=null,this.refreshAttributes()}},{key:"componentWillUnmount",value:function(){this.request&&this.request.cancel()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&g.default.is(e.stores.abstractNode,t.stores.abstractNode)||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getMapNode(e);if(t){var a=t.getIn(["data","widget","tooltip"],""),n=t.getIn(["data","widget","zoom"],12),l=(0,b.hasValidGoogleMapsApiKey)(),i=!l,o=l,r=String(n);this.setState({tooltip:a,zoomText:r,withoutAPIKey:i,validAPIKey:o})}}},{key:"getMapNode",value:function(e){e=e||this.props;var t=(0,I.getAbstractNode)(e.stores.abstractNode,e.stores.uiNode.selectedNodeNativeId);return y.isMapWidget(t)?t:null}},{key:"onTooltipChange",value:function(e){this.setState({tooltip:e})}},{key:"onAPIKeyClick",value:function(e){(0,this.props.actions.navigateToSiteIntegrations)(e)}},{key:"onTooltipCommit",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId,t=this.state.tooltip;this.props.dispatch(A.mapWidgetTooltipChanged({nodeId:e,tooltip:t}))}},{key:"onMapZoomSliderChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId,a=String(e);this.setState({zoomText:a}),this.props.dispatch(A.mapWidgetZoomChanged({nodeId:t,zoom:e}))}},{key:"onMapZoomTextChange",value:function(e){this.setState({zoomText:e})}},{key:"onMapZoomTextCommit",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId,t=this.state.zoomText,a=parseFloat(t);isNaN(a)?this.props.dispatch(A.mapWidgetZoomChanged({nodeId:e,zoom:12})):this.props.dispatch(A.mapWidgetZoomChanged({nodeId:e,zoom:a}))}},{key:"onStyleChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.mapWidgetStyleChanged({nodeId:t,style:e}))}},{key:"onToggleScrollwheel",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId,t=!this.getMapNode().getIn(["data","widget","scrollwheel"],!0);this.props.dispatch(A.mapWidgetScrollwheelToggled({nodeId:e,scrollwheel:t}))}},{key:"onToggleEnableTouch",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId,t=!this.getMapNode().getIn(["data","widget","enableTouch"],!0);this.props.dispatch(A.mapWidgetEnableTouchToggled({nodeId:e,enableTouch:t}))}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=this.state,l=n.tooltip,o=n.zoomText,r=n.withoutAPIKey,s=n.validAPIKey,d=this.getMapNode();if(!d)return null;var u=d.getIn(["data","widget","style"],"roadmap"),c=d.getIn(["data","widget","zoom"],12),f=d.getIn(["data","widget","scrollwheel"],!0),g=d.getIn(["data","widget","enableTouch"],!0),b="map-settings custom";b+=r?" wf-missing-api-key":"",b+=r||s?"":" wf-invalid-api-key";var y=r||!s;return m.default.createElement(p.default,{className:b,name:"map",title:"Map Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},m.default.createElement("div",{className:"kit-panel"},r?m.default.createElement("div",{className:"kit-field apikey"},m.default.createElement("div",{className:"kit-title"},"Google Maps API Key Required"),m.default.createElement("div",{className:"kit-label apikey"},"An API key is required to display Google Maps."),m.default.createElement("div",{className:"kit-button kit-button-replace kit-input-control has-text",onClick:this.onAPIKeyClick},m.default.createElement("span",{className:"text"},"Add API Key ",m.default.createElement(k.default,null)))):null,r||s?null:m.default.createElement("div",{className:"kit-field apikey"},m.default.createElement("div",{className:"kit-title"},"Invalid API Key ",m.default.createElement(T.default,null)),m.default.createElement("div",{className:"kit-label apikey"},"The API key provided has been revoked or is invalid."),m.default.createElement("div",{className:"kit-button kit-button-replace kit-input-control has-text",onClick:this.onAPIKeyClick},m.default.createElement("span",{className:"text"},"Update API Key ",m.default.createElement(k.default,null)))),r||!s?m.default.createElement("div",{className:"kit-divider"}):null,m.default.createElement(C.default,(0,i.default)({disabled:y},this.props)),m.default.createElement("div",{className:"kit-field tooltip"},m.default.createElement(h.default,{text:"Tooltip"}),m.default.createElement(v.default,{className:"tooltip",value:l,placeholder:"e.g. Headquarters",maxLength:1024,onChange:this.onTooltipChange,onEnter:this.onTooltipCommit,onBlur:this.onTooltipCommit,disabled:y})),m.default.createElement("div",{className:"kit-field zoom"},m.default.createElement(h.default,{text:"Zoom"}),m.default.createElement(S.default,{value:c,minValue:0,maxValue:18,step:1,onChange:this.onMapZoomSliderChange,disabled:y}),m.default.createElement(v.default,{value:o,maxLength:2,onChange:this.onMapZoomTextChange,onEnter:this.onMapZoomTextCommit,onBlur:this.onMapZoomTextCommit,disabled:y})),m.default.createElement("div",{className:"kit-divider"}),m.default.createElement("div",{className:"kit-field style"},m.default.createElement("div",{className:"kit-title"},"Map Type"),m.default.createElement(E.default,{buttonClass:"has-text",value:u,onChange:this.onStyleChange,choices:[{value:"roadmap",label:"Road"},{value:"terrain",label:"Terrain"},{value:"satellite",label:"Satellite"},{value:"hybrid",label:"Hybrid"}],disabled:y})),m.default.createElement("div",{className:"kit-checkbox-group kit-insert-box"},m.default.createElement(N.default,{checked:f,onClick:this.onToggleScrollwheel,disabled:y},"Scrollwheel"),m.default.createElement(N.default,{checked:g,onClick:this.onToggleEnableTouch,disabled:y},"Touch drag")),r?null:m.default.createElement("div",{className:"kit-divider"}),r?null:m.default.createElement("div",{className:"kit-field apikey update"},m.default.createElement("div",{className:"kit-button kit-button-replace kit-input-control has-text",onClick:this.onAPIKeyClick},m.default.createElement("span",{className:"text"},"Update API Key ",m.default.createElement(k.default,null))))))}}]),MapSettings}(m.default.Component);t.default=_},5699:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(321)),o=l(a(323)),r=l(a(324)),s=l(a(328)),d=l(a(327)),u=l(a(332)),c=l(a(329)),f=l(a(325)),m=n(a(320)),g=a(331),p=l(a(376)),h=l(a(326)),v=a(372),S=l(a(395)),E=l(a(2077)),N=l(a(426)),C=l(a(1399)),b=l(a(818)),y=a(482),I=l(a(633)),k=l(a(2369)),T=l(a(2370)),A=l(a(5701)),_=l(a(1400)),x=l(a(2372)),P=a(364),R=a(347),D=n(a(501)),O=a(454),F=n(a(2373)),w=n(a(709)),M=n(a(1316)),L=l(a(373)),U=a(1079),B=a(496),V=a(341),G=l(a(5702)),H=a(333),q=a(773),W=a(476),Q=a(375),j=a(652),K=a(745),z=a(330),Y=l(a(487)),X=l(a(2374)),Z=a(351),J=a(348),$=a(427),ee=(0,Q.getElse)(["data","dyn","query","filterFor"],$.QUERY_FILTER_FOR_STATES.ALL),te=(0,Q.getElse)(["data","dyn","query","fields"],(0,g.Map)()),ae=(0,Q.getElse)(["data","dyn","query","sort"],(0,g.List)()),ne=(0,Q.get)(["data","dyn","query","offset"]),le=(0,Q.getElse)(["data","dyn","query","limit"],null),ie=(0,z.styledDiv)({display:"flex",flexBasis:"100px",alignItems:"center"},{second:function(e){return{marginLeft:e.theme.gutters.wide}}}),oe=(0,z.styled)(J.FinePrint)(function(e){return{whiteSpace:"nowrap",marginRight:e.theme.gutters.narrow}}),re={collectionId:null,isConnectectedToSetField:!1,queryParams:(0,g.List)(),queryParamsFilterForValue:$.QUERY_FILTER_FOR_STATES.ALL,querySorts:(0,g.List)(),offset:null,limit:null},se=function(e){function DynListSettings(){var e,t;(0,o.default)(this,DynListSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(DynListSettings)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"state",re),(0,f.default)((0,u.default)(t),"onQueryParamAdd",function(){t.setState(function(e){return{queryParams:e.queryParams.push((0,_.default)({fieldPath:(0,B.createFieldPath)("name"),operator:w.OPERATOR_EQ,value:"value",value2:null,value3:null,open:!0,mint:!0}))}})}),(0,f.default)((0,u.default)(t),"onQuerySortAdd",function(){var e=t.getSortableProperties(),a=function(t){var a=null;return e.some(function(e){return!t.querySorts.some(function(t){return t.property===e})&&(a=e,!0)}),a||"name"};t.setState(function(e){return{querySorts:e.querySorts.push((0,x.default)({property:a(e),ascending:!0,open:!0,mint:!0}))}})}),(0,f.default)((0,u.default)(t),"onToggleLimited",function(){t.props.dispatch(M.dynListOffsetLimitChanged({uiNodeState:t.props.stores.uiNode}))}),(0,f.default)((0,u.default)(t),"onOffsetChange",function(e){var a=t.props.stores.uiNode.selectedNodeNativeId;a&&t.props.dispatch(M.dynListOffsetChanged({nodeId:a,offset:e}))}),(0,f.default)((0,u.default)(t),"onLimitChange",function(e){var a=t.props.stores.uiNode.selectedNodeNativeId;a&&t.props.dispatch(M.dynListLimitChanged({nodeId:a,limit:e}))}),(0,f.default)((0,u.default)(t),"onLimitReset",function(){t.onLimitChange(null)}),(0,f.default)((0,u.default)(t),"onSortEnd",function(e){var a=e.startIndex,n=e.endIndex;if(e.commit){var l=t.props.stores.uiNode.selectedNodeNativeId;if(!l)return;t.props.dispatch(M.dynQuerySortMoved({nodeId:l,startIndex:a,endIndex:n}))}}),(0,f.default)((0,u.default)(t),"onQueryParamOpen",function(e){t.setState(function(t){return{queryParams:t.queryParams.setIn([e,"open"],!0)}})}),(0,f.default)((0,u.default)(t),"onQueryParamClose",function(){t.setState(function(e){return{queryParams:e.queryParams.filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)})}})}),(0,f.default)((0,u.default)(t),"onQueryParamCommit",function(e){var a=e.fieldPath,n=e.fieldType,l=e.index,o=e.operator,r=e.value,s=e.value2,d=e.value3,u=e.commit,c=t.state.queryParams,f=c.getIn([l,"mint"],!1),m=c.update(l,function(e){return void 0!==a&&(e=e.set("fieldPath",a)),void 0!==o&&(e=e.set("operator",o)),void 0!==r&&(e=e.set("value",r)),void 0!==s&&(e=e.set("value2",s)),void 0!==d&&(e=e.set("value3",d)),u&&(e=e.set("mint",!1)),e}).filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)});if(t.setState({queryParams:m}),u){var g=t.props.stores.uiNode.selectedNodeNativeId;if(!g)return;var p=(0,i.default)({},f?{}:{index:l},{nodeId:g,fieldPath:a,operator:o,value:r,value2:s,value3:d,fieldType:n}),h=f?M.dynQueryParamAdded:M.dynQueryParamChanged;t.props.dispatch(h(p))}}),(0,f.default)((0,u.default)(t),"handleQueryParamsFilterForSwitch",function(e){var a=t.props.stores.uiNode.selectedNodeNativeId;a&&(t.setState({queryParamsFilterForValue:e}),t.props.dispatch(M.dynQueryFilterForChanged({nodeId:a,value:e})))}),(0,f.default)((0,u.default)(t),"onQuerySortOpen",function(e){t.setState(function(t){return{querySorts:t.querySorts.setIn([e,"open"],!0)}})}),(0,f.default)((0,u.default)(t),"onQuerySortClose",function(){t.setState(function(e){return{querySorts:e.querySorts.filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)})}})}),(0,f.default)((0,u.default)(t),"onQuerySortCommit",function(e){var a=e.index,n=e.property,l=e.ascending,o=e.commit,r=t.state.querySorts,s=r.getIn([a,"mint"]),d=r.update(a,function(e){return void 0!==n&&(e=e.set("property",n)),void 0!==l&&(e=e.set("ascending",l)),o&&(e=e.set("mint",!1)),e}).filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)});if(t.setState({querySorts:d}),o){var u=t.props.stores.uiNode.selectedNodeNativeId;if(!u)return;var c=(0,i.default)({},s?{}:{index:a},{nodeId:u,property:n,ascending:l}),f=s?M.dynQuerySortAdded:M.dynQuerySortChanged;t.props.dispatch(f(c))}}),(0,f.default)((0,u.default)(t),"renderItem",function(e){var a=e.item,n=e.index,l=e.Item,i=e.Item_Handle,o=t.props,r=o.stores,s=o.actions,d=o.dispatch,u=t.state,c=u.collectionId,f=u.querySorts;return m.createElement(b.default,{key:"query-sort-panel-".concat(de(a,n)),itemData:a,index:n,open:a.open,onOpen:t.onQuerySortOpen,onClose:t.onQuerySortClose,onCommit:t.onQuerySortCommit,childProps:{stores:r,actions:s,collectionId:c,querySorts:f,dispatch:d,type:"sort",Item:l,Item_Handle:i},Item:ue,Panel:A.default})}),(0,f.default)((0,u.default)(t),"togglePaginationEnabled",function(){var e=t.getDynamoWrapperNode(t.props);if(e){var a=(0,V.isPaginatedList)(e)?H.PAGINATION_DISABLED:H.PAGINATION_ENABLED;t.props.dispatch({type:a})}}),(0,f.default)((0,u.default)(t),"updatePaginationLimit",function(e){var a={limit:e};t.props.dispatch({type:H.PAGINATION_LIMIT_UPDATED,payload:a})}),(0,f.default)((0,u.default)(t),"selectPaginationPage",function(e){var a=t.getDynamoWrapperNode(t.props);if(a){var n={wrapperId:a.id,pageNumber:e};t.props.dispatch({type:H.PAGINATION_PAGE_SWITCHED,payload:n})}}),(0,f.default)((0,u.default)(t),"getTotalItems",function(){var e=t.getDynamoWrapperNode(t.props),a=t.props.stores,n=a.collection,l=a.bindingContext,i=a.dataManagerUI;return e?(0,q.numberOfNonNestedDynamicListItems)(e)(n)(l)(i):0}),t}return(0,c.default)(DynListSettings,e),(0,r.default)(DynListSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&(0,g.is)(e.stores.abstractNode,t.stores.abstractNode)&&(0,g.is)(e.stores.bindingContext,t.stores.bindingContext)||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getDynamoWrapperNode(e);if(t){var a=e.stores,n=a.bindingContext.pageCollectionId,l=a.collection.collections,i=(0,W.getListItemCollectionId)(t),o=(0,W.getListContextCollectionId)(t),r=(0,W.getListContextItemRefSetSlug)(t),s=o&&r?(0,O.buildFauxItemRefSetCollectionId)(o,r):i||null,d=(0,W.getBoundRepeaterFieldIds)(t).length>0,u=(0,O.getAllCollections)({collections:l,contextCollectionId:n}),c=te(t),f=i&&c.size>0?F.parseQuery({json:c.toJS(),collectionId:i,allCollections:u}):(0,g.List)(),m=ae(t),p=m.size>0&&F.parseSorts(m.toJS())||(0,g.List)(),h=ne(t);this.setState({collectionId:s,isConnectectedToSetField:d,queryParams:f,queryParamsFilterForValue:ee(t),querySorts:p,offset:"number"==typeof h?h+1:null,limit:le(t)})}}},{key:"getSelectedNode",value:function(e){var t=(e=e||this.props).stores,a=t.abstractNode,n=t.uiNode.selectedNodeNativeId;return(0,R.getAbstractNode)(a,n)}},{key:"getDynamoWrapperNode",value:function(e){var t=(e=e||this.props).stores.abstractNode,a=this.getSelectedNode(e);return a?(0,P.closestDynamoWrapper)(a,t.root):null}},{key:"getParentDynamoWrapperNode",value:function(e){var t=(e=e||this.props).stores.abstractNode,a=this.getSelectedNode(e);return a?(0,P.closestParentDynamoWrapper)(a,t.root):null}},{key:"hasLimitOrOffset",value:function(){return null!==this.state.offset||null!==this.state.limit}},{key:"getAddSortClasses",value:function(){return(0,p.default)(["kit-button","add-part"],{disabled:this.hasRandomSort()})}},{key:"getSortableProperties",value:function(){var e=this.props.stores,t=e.bindingContext,a=e.collection,n=this.state,l=n.collectionId,i=n.querySorts,o=(0,U.getCollection)(l,a,t).get("fields").filter(function(e){var t=e.get("type"),a=e.get("slug");return h.default.includes(L.default.sortableFieldTypes,t)&&!h.default.includes(w.HIDDEN_FIELDS,a)}).map(function(e){return e.get("slug")}).toArray(),r=["_random"];return 1===i.size?o.concat(r):this.hasRandomSort()?r:o}},{key:"hasRandomSort",value:function(){return this.state.querySorts.some(function(e){return"_random"===e.get("property")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.stores,n=t.actions,l=t.dispatch,i=this.state,o=i.collectionId,r=i.isConnectectedToSetField,s=i.queryParams,d=i.queryParamsFilterForValue,u=i.querySorts,c=i.offset,f=i.limit,g=Boolean(o),p=Boolean(o&&(0,O.isFauxItemRefSetCollectionId)(o)),h=p||r,y=g&&!p,A=this.hasLimitOrOffset(),_=u.some(function(e){return!e.mint}),x=this.getDynamoWrapperNode(this.props),P=Boolean(x&&(0,V.isPaginatedList)(x)),R=x?(0,K.getPaginationLimit)(x):K.PAGINATION_MAX_LIMIT,D=x&&a.designer.paginationPageNumbers[(0,j.getPaginationKeyFromNodeId)(x.id)]||1,F=P||h,w=Boolean(this.getParentDynamoWrapperNode(this.props)),M=(0,j.capDynamoWrapperLimit)(F)(w);return m.createElement(S.default,{className:"dynlist-settings custom","data-automation-id":"DynListSettings",name:"dynlist",title:"Collection List Settings",settingsSectionFlags:a.external.settingsSectionFlags,toggleSettingsSection:n.external.toggleSettingsSection},m.createElement("div",{className:"kit-panel"},m.createElement(E.default,{stores:a,actions:n,dispatch:l}),y&&m.createElement(m.Fragment,null,m.createElement("div",{className:"kit-divider"}),m.createElement("div",{"data-automation-id":"collection-list-settings-filters-group"},m.createElement("div",{className:"kit-field query"},m.createElement(N.default,{text:"Filters"}),m.createElement("div",{className:"button-group"},m.createElement("div",{className:"kit-button add-part","data-automation-id":"add-filter-button",onClick:this.onQueryParamAdd},m.createElement("i",{className:"icon-main common-add"})))),m.createElement("div",{id:"query-parameter-list","data-automation-id":"filter-query-param-list",className:"query-param kit-list-wrapper kit-field"},m.createElement(C.default,{items:s,hasItems:!1},function(t,i){return m.createElement(b.default,{key:i,itemData:t,index:i,open:t.open,onOpen:e.onQueryParamOpen,onClose:e.onQueryParamClose,onCommit:e.onQueryParamCommit,childProps:{stores:a,actions:n,collectionId:o,allParams:s,dispatch:l,type:"query"},Item:T.default,Panel:k.default})})),s.size>1?m.createElement(QueryFilterForDropdown,{onChange:this.handleQueryParamsFilterForSwitch,value:d}):null)),y&&m.createElement(m.Fragment,null,m.createElement("div",{className:"kit-divider"}),m.createElement("div",{"data-automation-id":"collection-list-settings-sorts-group"},m.createElement("div",{className:"kit-field query"},m.createElement(N.default,{text:"Sort Order"}),m.createElement("div",{className:"button-group"},m.createElement("div",{className:this.getAddSortClasses(),"data-automation-id":"collection-list-settings-add-sorting",onClick:this.onQuerySortAdd},m.createElement("i",{className:"icon-main common-add"})))),m.createElement("div",{id:"query-sort-list",className:"query-sort kit-list-wrapper kit-field","data-automation-id":"collection-list-settings-sorting-list"},u.size>0?m.createElement(I.default,{className:"kit-list2",styleDragOffset:!0,onSortEnd:this.onSortEnd,items:u,getItemKey:de,renderItem:this.renderItem}):null,_?null:m.createElement("div",{className:"kit-list"},m.createElement("div",{className:"kit-empty-list"},"None"))))),y&&m.createElement(m.Fragment,null,m.createElement("div",{className:"kit-divider"}),m.createElement(G.default,{itemsPerPage:R,paginationEnabled:P,togglePaginationEnabled:this.togglePaginationEnabled,totalItems:this.getTotalItems(),updatePaginationLimit:this.updatePaginationLimit,pageNumber:D,selectPage:this.selectPaginationPage})),(y||h)&&m.createElement(m.Fragment,null,m.createElement("div",{className:"kit-divider"}),m.createElement(X.default,{checked:A,label:"Limit items",dataAutomationIdToggle:"limit-settings-toggle",onClick:this.onToggleLimited},m.createElement(Z.FlexRow,null,m.createElement(ie,null,m.createElement(oe,null,"Show:"),m.createElement(Y.default,{value:F?null==f?void 0:f:M(f),placeholder:F?"All":void 0,min:1,max:M(99999),step:1,onChange:this.onLimitChange,onReset:this.onLimitReset,optional:P,"data-automation-id":"limit-settings-item-count-field"})),h?null:m.createElement(ie,{second:!0},m.createElement(oe,null,"Start at:"),m.createElement(Y.default,{value:null==c?void 0:c,min:1,max:99999,step:1,onChange:this.onOffsetChange,"data-automation-id":"limit-settings-starting-index-field"})))),!h&&!P&&A&&M(f)>=100?m.createElement(v.__DEPRECATED__SigmaNote,{marginTop:2,content:"To list more than 100 Collection items, turn on pagination."}):null,w&&A&&M(f)>=5?m.createElement(v.__DEPRECATED__SigmaNote,{marginTop:2,content:"Nested collection lists may only display up to 5 items."}):null)))}}]),DynListSettings}(m.Component);t.default=se;var de=function(e,t){return"".concat(e.property,"-").concat(t)},ue=function(e){function QuerySortItem(){var e,t;(0,o.default)(this,QuerySortItem);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(QuerySortItem)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"onRemoveClick",function(e){var a=t.props,n=a.dispatch,l=a.index,i=a.stores.uiNode.selectedNodeNativeId;i&&(n(M.dynQuerySortRemoved({nodeId:i,index:l})),e.preventDefault(),e.stopPropagation())}),t}return(0,c.default)(QuerySortItem,e),(0,r.default)(QuerySortItem,[{key:"getField",value:function(){var e=this.props,t=e.item.property,a=e.collectionId,n=e.stores,l=n.collection,i=n.bindingContext;return(0,U.getCollection)(a,l,i).fields.find(function(e){return e.get("slug")===t})}},{key:"getPropertyText",value:function(){return"_random"===this.props.item.property?"Random":this.getField().get("name")}},{key:"getOrderText",value:function(){var e=this.props,t=e.item,a=t.ascending,n=t.property,l=e.collectionId,i=e.stores,o=i.collection,r=i.bindingContext,s=(0,U.getCollection)(l,o,r);return D.textForSort({ascending:a,collection:s,property:n})}},{key:"render",value:function(){var e=this.props,t=e.item.mint,a=e.Item,n=e.Item_Handle,l=e.onClick;return t?m.createElement(AddPartButton,null):a({className:(0,p.default)("kit-list2-item","flat"),onClick:l,children:[m.createElement("div",{className:"kit-list2-item-wrap",key:"wrap"},n({className:"kit-drag-handle"}),m.createElement("div",{className:"label one-line-text"},m.createElement("span",{className:"prop"},this.getPropertyText()),m.createElement("span",{className:"comma"},", "),m.createElement("span",{className:"order"},this.getOrderText())),m.createElement("a",{className:"trash sprite-mid",onClick:this.onRemoveClick},m.createElement("i",null)))]})}}]),QuerySortItem}(m.Component);function AddPartButton(){return m.createElement("div",{className:"button-group"},m.createElement("div",{className:"kit-button add-part"},m.createElement("i",{className:"icon-main common-add"})))}var ce=[{text:"All Filters",value:$.QUERY_FILTER_FOR_STATES.ALL},{text:"Any Filters",value:$.QUERY_FILTER_FOR_STATES.ANY}],fe=(0,z.styledDiv)(function(e){return{alignItems:"center",display:"flex",marginTop:e.theme.gutters.x4}}),me=(0,z.styledDiv)(function(e){return{flexShrink:0,marginRight:e.theme.gutters.x8}}),ge={flexGrow:1};function QueryFilterForDropdown(e){var t=e.onChange,a=e.value;return m.createElement(fe,{"data-automation-id":"query-filter-for-dropdown-wrap"},m.createElement(me,null,"Show items matching:"),m.createElement(y.Select,{"data-automation-id":"query-filter-for-select",handleChange:t,value:a,style:ge},ce.map(function(e){return m.createElement(y.Option,{key:e.value,label:e.text,value:e.value})})))}},5700:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(339)),o=l(a(336)),r=l(a(321)),s=l(a(323)),d=l(a(324)),u=l(a(328)),c=l(a(327)),f=l(a(332)),m=l(a(329)),g=l(a(325)),p=n(a(320)),h=a(331),v=l(a(326)),S=a(355),E=a(334),N=l(a(449)),C=l(a(686)),b=l(a(487)),y=n(a(919)),I=a(347),k=a(364),T=a(390),A=a(433),_=a(501),x=a(454),P=a(1079),R=n(a(709)),D=a(333),O=a(496),F=a(400),w=a(381),M=a(353),L=a(427),U=["PlainText","RichText","Date","Email","Phone","Number","ImageRef","Video","Bool","ItemRef","ItemRefSet","Link","Option","CommercePrice","FileRef","Set"],B=[R.OPERATOR_EQ,R.OPERATOR_NE,R.OPERATOR_LT,R.OPERATOR_GT,R.OPERATOR_LTE,R.OPERATOR_GTE],V=function(e){return B.includes(e)},G=function(e){function ParamPanel(){var e,t;(0,s.default)(this,ParamPanel);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,u.default)(this,(e=(0,c.default)(ParamPanel)).call.apply(e,[this].concat(n))),(0,g.default)((0,f.default)(t),"state",{fieldPath:(0,O.createFieldPath)(""),operator:"",value:"",value2:"",value3:""}),(0,g.default)((0,f.default)(t),"getReferencedCollection",function(e,a){var n=t.getAllCollections(),l=(0,F.getFieldBySlug)(e,a),i=l&&l.getIn(["validations","collectionId"]);return i?n.find(function(e){return e._id===i}):null}),(0,g.default)((0,f.default)(t),"onFieldChange",function(e){var a=(0,r.default)({},t.state,{fieldPath:e}),n=t.state.operator,l=t.getAvailableOperators(a);l.some(function(e){return e.id===n})||(a.operator=l[0].id);var i=t.getInitialValues(a);a.value=i.value,a.value2=i.value2,a.value3=i.value3,t.setState(a)}),(0,g.default)((0,f.default)(t),"onOperatorChange",function(e){var a=t.state.operator,n=(0,r.default)({},t.state,{operator:e});if(!(V(a)&&V(e))){var l=t.getInitialValues(n),i=l.value,o=l.value2,s=l.value3;n.value=i,n.value2=o,n.value3=s}t.setState(n)}),(0,g.default)((0,f.default)(t),"onValueChange",function(e){t.setState({value:e})}),(0,g.default)((0,f.default)(t),"onValue2Change",function(e){t.setState({value2:e})}),(0,g.default)((0,f.default)(t),"onValue3Change",function(e){t.setState({value3:e})}),(0,g.default)((0,f.default)(t),"onSave",function(){if(t.validParameters()){var e=t.props,a=e.index,n=e.onCommit,l=t.state,i=l.fieldPath,o=l.operator,r=l.value,s=l.value2,d=l.value3,u=t.getFieldType(),c=t.getDynContextCollection();n({index:a,fieldPath:i,fieldType:u,operator:c?(0,P.convertItemRefFilterOperatorForPersisting)(u,r,c,o):o,value:r,value2:s,value3:d,commit:!0})}}),(0,g.default)((0,f.default)(t),"onClose",function(){var e=t.props,a=e.index;(0,e.onCommit)({index:a,commit:!1})}),t}return(0,m.default)(ParamPanel,e),(0,d.default)(ParamPanel,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshState()}},{key:"componentDidUpdate",value:function(e,t){v.default.isEqual(t,this.state)||this.props.refreshPanel()}},{key:"refreshState",value:function(e){var t=(e=e||this.props).item,a=t.fieldPath,n=t.operator,l=t.value,i=t.value2,o=t.value3,s={fieldPath:a,operator:n};t.mint||(s=(0,r.default)({},s,{value:l,value2:i,value3:o})),this.setState(s)}},{key:"getAllCollections",value:function(){var e=this.props.stores,t=e.collection,a=e.bindingContext,n=t.collections,l=a.contextCollectionId;return(0,x.getAllCollections)({collections:n,contextCollectionId:l})}},{key:"getCollection",value:function(){var e=this.props.collectionId;return this.getAllCollections().find(function(t){return t._id===e})}},{key:"getFieldContextCollection",value:function(e,t){return t?this.getReferencedCollection(e,t):e}},{key:"getDynListCollection",value:function(){var e=this.props.stores,t=e.abstractNode,a=e.uiNode,n=(0,I.getAbstractNode)(t,a.selectedNodeNativeId),l=this.getAllCollections();return n?(0,_.getNodeRelativeContextListCollection)({node:n,abstractNodeState:t,allCollections:l}):null}},{key:"getDynContextCollection",value:function(){var e=this.props.stores.bindingContext.contextCollectionId;return this.getAllCollections().find(function(t){return t._id===e})}},{key:"getField",value:function(e){var t=(e=e||this.state).fieldPath,a=(0,O.getItemRefSlug)(t),n=this.getCollection(),l=this.getFieldContextCollection(n,a);return l?(0,O.isFauxDynContextField)(t)?(0,h.Map)({name:l.singularName,type:""}):(0,F.getFieldBySlug)(l,(0,O.getValueFieldSlug)(t)):((0,M.reportBug)("ParamPanelUnreachableCodeError","No collection for selected node found",{metaData:{fieldPath:t}}),null)}},{key:"getContextField",value:function(){var e=this.state.fieldPath,t=(0,O.getItemRefSlug)(e);return t?(0,F.getFieldBySlug)(this.getCollection(),t):null}},{key:"getTargetName",value:function(){switch(this.props.type){case"query":return"filter";case"condition":return"condition";default:return null}}},{key:"getFieldType",value:function(e){var t=(e=e||this.state).fieldPath;if((0,O.isFauxDynContextField)(t))return"Id";var a=this.getField(e);return a?a.get("type",""):""}},{key:"getFieldInnerType",value:function(e){var t=this.getField(e);return t&&t.get("innerType")||""}},{key:"getFieldLabel",value:function(){var e=this.getField(),t=this.getContextField(),a=e?e.get("name"):"",n=t?t.get("name"):null;return String(a)+(n?" ("+n+")":"")}},{key:"getCollectionName",value:function(){return this.getCollection().singularName}},{key:"getFieldOptions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=this.props,n=a.stores,l=a.type,i=n.abstractNode,o=n.uiNode,r=(0,I.getAbstractNode)(i,o.selectedNodeNativeId),s=Boolean(r&&(0,k.isInsideCommerceCheckoutFormContainer)(r,i.root)),d="condition"===l,u=this.getCollection(),c=function(a){if(!a)return[];var n=d&&(0,w.isProductsCollection)(a)&&(0,w.isOrderItemsCollection)(u),l=function(e){return"ItemRef"===e.type?2:"ItemRefSet"===e.type?1:"Set"===e.type?0:3},i=a.fields.filter(function(e){var l=e.get("slug"),i=function(e){var a=e.get("type"),l=t&&/^(?:ItemRef|ItemRefSet)$/.test(a);return U.includes(a)&&(!l||n)}(e)&&!function(e){return-1!==R.HIDDEN_FIELDS.indexOf(e.get("slug"))}(e);if(i){if((0,w.isSkusCollection)(a))return(0,T.isCustomField)(e)&&"download-files"!==l;if((0,w.isCommerceOrderCollection)(a))return!(d&&(w.COMMERCE_ORDER_COND_VIS_HIDDEN_FIELD_SLUGS.includes(l)||s&&w.COMMERCE_ORDER_CARD_FIELD_SLUGS.includes(l)));if((0,w.isOrderItemsCollection)(a))return"price"!==l}return i}),o=!t,r=i.sort(function(e,t){return l(t)-l(e)}).map(function(l){var i=l.get("name"),r=l.get("slug"),s=l.get("type"),u=l.get("innerType"),c={name:i,type:s,humanizedType:(0,T.asFieldDisplayType)(s,u),value:t?(0,O.createFieldPath)(t,r):(0,O.createFieldPath)(r),nested:Boolean(t)&&!(0,w.isSkusCollection)(a)&&!n};return"ItemRef"===s&&d&&o?(function(e){var t=e.get("slug");return d&&(0,w.isOrderItemsCollection)(a)&&"ItemRef"===e.get("type")&&("product"===t||"sku"===t)||(0,w.isProductsCollection)(a)&&"default-sku"===t}(l)?[]:[c]).concat(e.getFieldOptions(r)):c}).toArray();return v.default.flatten(r)}(this.getFieldContextCollection(u,t)),f=this.getDynListCollection(),m=f?f._id:null,g=this.getDynContextCollection(),p=g?g._id:null;return!t&&f&&null!==m&&m===p&&c.unshift(H(f)),c}},{key:"getAvailableOperators",value:function(e){var t=(e=e||this.state).fieldPath,a=this.getFieldType(e),n=this.getFieldInnerType(e);return(0,O.isFauxDynContextField)(t)?[{name:"is",id:R.OPERATOR_EQ},{name:"is not",id:R.OPERATOR_NE}]:"name"===(0,O.getValueFieldSlug)(t)||"ec-product-type"===(0,O.getValueFieldSlug)(t)?[{name:"Equals",id:R.OPERATOR_EQ},{name:"Does Not Equal",id:R.OPERATOR_NE}]:"ImageRef"===n?[{name:"Is Set",id:R.OPERATOR_EXISTS},{name:"Is Not Set",id:R.OPERATOR_NOT_EXISTS}]:(0,P.getAvailableOperatorsByFieldType)(a)}},{key:"getAvailableDateTimeTenses",value:function(){return Object.entries(L.TENSES_TO_HUMAN_PHRASES_MAP).map(function(e){var t=(0,o.default)(e,2);return{id:t[0],name:t[1]}})}},{key:"getAvailableDateUnitOptions",value:function(){return Object.values(L.TIME_INTERVALS_ENUM).map(function(e){return{value:e}})}},{key:"getAvailableItemRefOptions",value:function(e,t){var a,n,l,i=this,o=(a=(t||i.state).fieldPath,n=i.getDynListCollection(),l=i.getDynContextCollection(),(0,P.getBindingContextOptions)({DYN_CONTEXT:"DYN_CONTEXT",filterFieldSlugPath:a,listCollection:n,contextCollection:l})),r=function(){var a=(t||i.state).fieldPath,n=i.getCollection(),l=(0,w.isOrderItemsCollection)(n),o=(0,O.getItemRefSlug)(a),r=Boolean(o),s=i.getFieldContextCollection(n,o),d=l&&(0,w.isProductsCollection)(s);if(r&&!d)return[];var u=s?i.getReferencedCollection(s,(0,O.getValueFieldSlug)(a)):null;if(u){var c=(e||i.props).stores.collection,f=c.items,m=c.scheduledItems;return f.filter(function(e){return e.get("_cid")===u._id}).toArray().sort(function(e,t){return e.get("name")-t.get("name")}).map(function(e){return{label:(0,A.itemLabel)(e,m),value:e.get("_id")}})}return[]}(),s=o.concat(r).map(function(e){return e.value&&0===e.value.indexOf("DYN_CONTEXT")?v.default.extend({},e,{lightning:!0}):e});return s.length>0?s:[{label:"No items to select",isReadOnly:!0}]}},{key:"getAvailableOptionOptions",value:function(e){e=e||this.state;var t=this.getField(e);return t&&"Option"===this.getFieldType(e)?t.getIn(["validations","options"]).toJS():[]}},{key:"getFieldTemplate",value:function(){var e=this.getFieldType();return e?(0,S.dasherize)(e).replace(/^\-/,""):"plain-text"}},{key:"needsValue",value:function(){var e=this.getFieldType(),t=this.state.operator,a=t&&R.getOperatorById(t);return"Date"===e&&R.isComparisonOperator(t)||"Id"!==e&&a&&!a.hasOwnProperty("value")}},{key:"needsValue2",value:function(){var e=this.getFieldType(),t=this.state.operator;return"Date"===e&&R.isComparisonOperator(t)}},{key:"needsValue3",value:function(){var e=this.getFieldType(),t=this.state.operator;return"Date"===e&&R.isComparisonOperator(t)}},{key:"invalidParam",value:function(e){this.props.dispatch({type:D.INVALID_PARAMETER_DEFINITION_ATTEMPTED,errorMessage:e})}},{key:"validParameters",value:function(){var e=this.state,t=e.fieldPath,a=e.operator,n=e.value,l=e.value2,i=e.value3,o=this.needsValue(),r=this.needsValue2(),s=this.needsValue3(),d=function(e){return"string"==typeof e?Boolean(e):null!=e};return(0,O.isEmptyFieldPath)(t)?(this.invalidParam("Specify a field for this criteria"),!1):a?!(!d(n)&&o||!d(l)&&r||!d(i)&&s)||(this.invalidParam("Specify a valid value"),!1):(this.invalidParam("Specify an operator for criteria"),!1)}},{key:"hasFieldConflict",value:function(){var e=this.props,t=e.index,a=e.allParams,n=e.type,l=this.state,i=l.fieldPath,o=l.operator;return"condition"===n&&(a||(0,h.List)()).filter(function(e,a){return!e.mint&&a!==t}).filter(function(e){return e.fieldPath===i&&e.operator===o}).size>0}},{key:"fieldConflictText",value:function(){var e=this.getTargetName();return"You already have a ".concat(String(e)," for this field. Saving will override the previous ").concat(String(e),".")}},{key:"getHelpText",value:function(){return"condition"===this.props.type?"Element is visible when...":""}},{key:"getInitialValues",value:function(e){e=e||this.state;var t=this.getFieldType(e);if("Date"===t)return{value:1,value2:this.getAvailableDateUnitOptions()[0].value,value3:L.PAST};if("Option"===t){var a=this.getAvailableOptionOptions(e);return{value:a.length>0?a[0].id:null,value2:null,value3:null}}return"ItemRef"===t||"ItemRefSet"===t?{value:this.getAvailableItemRefOptions(this.props,e)[0].value,value2:null,value3:null}:{value:null,value2:null,value3:null}}},{key:"renderFields",value:function(){var e=this.props.stores,t=this.state,a=t.operator,n=t.value,l=t.value2,i=t.value3,o=this.getFieldTemplate(),r=this.needsValue(),s=this.getCollectionName(),d=this.getAvailableOperators(),u=this.getAvailableDateUnitOptions(),c=this.getAvailableItemRefOptions(),f=this.getAvailableOptionOptions(),m=this.getFieldType(),g=m?(0,P.convertItemRefFilterOperatorForRendering)(m,a):a;return p.createElement("div",{className:"fields"},"date"!==o?p.createElement("div",{className:"operator","data-automation-id":"filter-operator-select-wrap"},p.createElement(y.default,{value:g,onChange:this.onOperatorChange},d.map(function(e){return p.createElement("option",{value:e.id,label:e.name,key:e.id},e.name)}))):null,p.createElement("div",{className:"field-value"},"plain-text"===o?p.createElement("div",{className:"input-plain-text","data-automation-id":"filter-value-input-wrap"},r?p.createElement("div",null,p.createElement(N.default,{placeholder:"Value",value:n,onChange:this.onValueChange})):null):null,"id"===o?p.createElement("div",{className:"input-id"},p.createElement("div",{className:"fake-input"},p.createElement("i",{className:"icon-main lightning-icon"}),p.createElement("span",null,"Current ",s))):null,"email"===o?p.createElement("div",{className:"input-email"},r?p.createElement("div",null,p.createElement(N.default,{placeholder:"Value",value:n,onChange:this.onValueChange})):null):null,"phone"===o?p.createElement("div",{className:"input-phone"},r?p.createElement("div",null,p.createElement(N.default,{placeholder:"Value",value:n,onChange:this.onValueChange})):null):null,"rich-text"===o?p.createElement("div",{className:"input-rich-text"},r?p.createElement("div",null,p.createElement(N.default,{placeholder:"Value",value:n,onChange:this.onValueChange})):null):null,"number"!==o&&"commerce-price"!==o||!r?null:p.createElement("div",{className:"input-number","data-automation-id":"filter-value-input-wrap"},p.createElement("div",null,p.createElement(b.default,{value:n,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,onChange:this.onValueChange,step:1,precision:8}))),"date"===o?p.createElement("div",{className:"input-date"},p.createElement("div",{className:"field-value clearfix","data-automation-id":"filter-operator-select-wrap"},p.createElement(y.default,{value:a,onChange:this.onOperatorChange},d.map(function(e){return p.createElement("option",{value:e.id,label:e.name,key:e.id},e.name)}))),a===R.OPERATOR_GTE||a===R.OPERATOR_LTE?p.createElement("div",{className:"field-value clearfix"},p.createElement("div",{className:"triple"},p.createElement("div",{className:"kit-field value-field","data-automation-id":"filter-date-time-length-input-wrap"},p.createElement(C.default,{value:n,minValue:0,onChange:this.onValueChange,stores:e})),p.createElement("div",{"data-automation-id":"filter-date-time-interval-select-wrap"},p.createElement(y.default,{onChange:this.onValue2Change,value:l},u.map(function(e){return p.createElement("option",{value:e.value,label:e.value,key:e.value},e.value)})))),p.createElement("div",{"data-automation-id":"filter-date-time-tense-select-wrap"},p.createElement(y.default,{onChange:this.onValue3Change,value:i},this.getAvailableDateTimeTenses().map(function(e){return p.createElement("option",{value:e.id,label:e.name,key:e.id},e.name)}))),0===n?p.createElement("div",{className:"warning shift clearfix"},p.createElement("span",{className:"warning-icon"},p.createElement("i",{className:"icon-main common-warncircle-white-small"})),p.createElement("span",{className:"warning-text"},p.createElement("span",null,'Will set this filter to "today"'))):null):null):null,"item-ref"===o||"item-ref-set"===o?p.createElement("div",{className:"input-item-ref"},r?p.createElement("div",null,c.length>0?p.createElement("div",{"data-automation-id":"filter-itemref-input-wrap"},p.createElement(y.default,{value:n,onChange:this.onValueChange},c.map(function(e){return p.createElement("option",{value:e.value,label:e.label,key:e.value},e.lightning?p.createElement("i",{className:"icon-main lightning"}):null,p.createElement("span",null,e.label))}))):null):null):null,"option"===o?p.createElement("div",{className:"input-option"},r?p.createElement("div",null,f.length>0?p.createElement("div",null,p.createElement(y.default,{value:n,onChange:this.onValueChange},f.map(function(e){return p.createElement("option",{value:e.id,label:e.name,key:e.id},e.name)}))):null):null):null))}},{key:"createFieldOptions",value:function(){var e=this.state.fieldPath,t=(0,O.getItemRefSlug)(e),a=this.getCollection(),n=this.getFieldContextCollection(a,t),l=function(e){return e.map(function(e){return p.createElement(y.FancyOption,{value:e.value,label:e.name,readOnly:e.readOnly,key:e.readOnly?e.name:e.value,nested:e.nested},e.nested?p.createElement("i",{className:"sprite-main"}):null,p.createElement("span",{className:"label"},e.name),e.humanizedType?p.createElement("span",{className:"type"},e.humanizedType):null)})},r=function(e){return p.createElement(y.FancyOption,{key:e,label:e,readOnly:!0},e)},s=this.getFieldOptions(),d=(0,w.isProductsCollection)(n)||(0,w.isSkusCollection)(n)||(0,w.isOrderItemsCollection)(a),u=this.props.stores.betaFeatures.ecProductTypes;return d?(0,E.entries)(function(e){return(0,T.sortByProductSection)(e,function(e){var t=(e.value||"").split(":");return{slug:t[t.length-1],fromCustomReferenceField:t.length>1&&!["default-sku","product","sku"].includes(t[0])}})}(s.filter(function(e){return!!u||"ec-product-type"!==e.value}))).map(function(e){var t=(0,o.default)(e,2),a=t[0],n=t[1];return[r(a)].concat((0,i.default)(l(n)))}):l(s)}},{key:"render",value:function(){var e=this.state.fieldPath,t=this.getHelpText();return p.createElement("div",{className:"param-panel settings-panel"},p.createElement("div",{className:"inner"},p.createElement("div",{className:"kit-panel"},t&&p.createElement("div",{className:"help-text"},t),p.createElement("div",{className:"query-param"},p.createElement("div",{className:"field","data-automation-id":"filter-field-select-wrap"},p.createElement(y.default,{value:e,label:this.getFieldLabel(),onChange:this.onFieldChange},this.createFieldOptions())),this.renderFields(),this.hasFieldConflict()?p.createElement("div",{className:"field-value warning clearfix","data-automation-id":"filter-already-used-warning"},p.createElement("span",{className:"warning-icon"},p.createElement("i",{className:"icon-main common-warning-yellow-small"})),p.createElement("span",{className:"warning-text"},this.fieldConflictText())):null),p.createElement("div",{className:"kit-field add"},p.createElement("div",{className:"kit-button has-text","data-automation-id":"filter-save-button",onClick:this.onSave},"Save")))))}}]),ParamPanel}(p.Component);t.default=G;var H=function(e){return{humanizedType:null,name:e?e.singularName:"Collection",type:"Id",value:(0,O.createFieldPath)("_id"),isId:!0}}},5701:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=l(a(326)),g=l(a(744)),p=l(a(919)),h=l(a(594)),v=l(a(373)),S=a(643),E=n(a(501)),N=a(454),C=n(a(709)),b=a(390),y=l(a(886)),I=function(e){function QuerySortPanel(){var e,t;(0,i.default)(this,QuerySortPanel);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(QuerySortPanel)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onPropertyChange",t.onPropertyChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAscendingChange",t.onAscendingChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onSave",t.onSave.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onClose",t.onClose.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{property:"",ascending:!0}),t}return(0,u.default)(QuerySortPanel,e),(0,o.default)(QuerySortPanel,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshState()}},{key:"componentDidUpdate",value:function(e,t){m.default.isEqual(t,this.state)||this.props.refreshPanel()}},{key:"refreshState",value:function(e){var t=(e=e||this.props).item,a=t.property,n=t.ascending;this.setState({property:a,ascending:n})}},{key:"getAllCollections",value:function(){var e=this.props.stores,t=e.collection,a=e.bindingContext,n=t.collections,l=a.pageCollectionId;return(0,N.getAllCollections)({collections:n,contextCollectionId:l})}},{key:"getCollection",value:function(){var e=this.props.collectionId;return this.getAllCollections().find(function(t){return t._id===e})}},{key:"getSortableProperties",value:function(){var e=this.getCollection().get("fields").toArray().filter(function(e){var t=e.type,a=e.slug;return m.default.includes(v.default.sortableFieldTypes,t)&&!m.default.includes(C.HIDDEN_FIELDS,a)}),t=(0,S.reifyField)({id:"random",name:"Random order",slug:"_random",type:"Random"});return 1===this.props.querySorts.size?e.concat([t]):this.hasRandomSort()?[t]:e}},{key:"isRandomSort",value:function(){return"_random"===this.state.property}},{key:"hasRandomSort",value:function(){return this.props.querySorts.some(function(e){return"_random"===e.property})}},{key:"getSortOrders",value:function(){var e=this.state.property,t=this.getCollection();return[{value:!0,text:E.textForSort({property:e,ascending:!0,collection:t})},{value:!1,text:E.textForSort({property:e,ascending:!1,collection:t})}]}},{key:"onPropertyChange",value:function(e){this.setState({property:e})}},{key:"onAscendingChange",value:function(e){this.setState({ascending:e})}},{key:"onSave",value:function(){var e=this.props,t=e.index,a=e.onCommit,n=this.state;a({index:t,property:n.property,ascending:n.ascending,commit:!0})}},{key:"onClose",value:function(){var e=this.props,t=e.index;(0,e.onCommit)({index:t,commit:!1})}},{key:"render",value:function(){var e=this.state,t=e.property,a=e.ascending,n=this.getSortableProperties(),l=this.getSortOrders(),i=this.isRandomSort(),o=this.hasRandomSort(),r=f.default.createElement(g.default,null,f.default.createElement("div",{className:"query-item-sort-panel settings-panel small-double-field-panel"},f.default.createElement("div",{className:"sort"},f.default.createElement("div",{className:"field property","data-automation-id":"sort-panel-property-field"},f.default.createElement(p.default,{value:t,onChange:this.onPropertyChange},n.map(function(e){var t=(0,b.getFieldDisplayType)(e),a=t?e.name+" ("+t+")":e.name;return f.default.createElement("option",{value:e.slug,label:a,key:e.slug},f.default.createElement("span",{className:"label"},e.name),t&&f.default.createElement("span",{className:"type"},t))}))),i?null:f.default.createElement("div",{className:"field order","data-automation-id":"sort-panel-order-field"},f.default.createElement(p.default,{value:a,onChange:this.onAscendingChange},l.map(function(e){return f.default.createElement("option",{value:e.value,label:e.text,key:e.text+":"+e.value},e.text)}))),o?f.default.createElement("div",{className:"info"},f.default.createElement("div",{className:"icon"},f.default.createElement(y.default,null)),f.default.createElement("div",{className:"text"},f.default.createElement("span",null,"Remove the random sort to sort by a field."))):null),f.default.createElement("div",{className:"add"},f.default.createElement("div",{className:"kit-button has-text","data-automation-id":"sort-panel-save-button",onClick:this.onSave},"Save"))));return f.default.createElement(h.default,{title:"Sort Order",content:r,open:this.props.open,arrowSize:0,handleOpen:this.onClose,showMask:!0},this.props.children)}}]),QuerySortPanel}(f.default.Component);t.default=I},5702:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=a(326),o=a(330),r=a(348),s=n(a(912)),d=n(a(487)),u=a(337),c=a(408),f=a(745),m=n(a(2374)),g=a(351),p=n(a(5703)),h=(0,o.styled)(p.default)(function(e){return{marginTop:e.theme.gutters.normal}}),v=(0,u.weakMemo)(function(e){return(0,i.throttle)(function(t){return e((0,c.clamp)(1,f.PAGINATION_MAX_LIMIT,Math.ceil(t)))},16)}),S=(0,o.styled)(d.default)({width:40}),E=(0,o.styled)(s.default)(function(e){var t=e.theme.gutters;return{flexGrow:1,marginLeft:t.normal,marginRight:t.normal}}),N=function(e){var t=e.paginationEnabled,a=e.togglePaginationEnabled,n=e.itemsPerPage,i=e.totalItems,o=e.updatePaginationLimit,s=e.pageNumber,d=e.selectPage,u=i>0?Math.ceil(i/n):1,c=v(o),p=l.default.createElement(l.default.Fragment,null,l.default.createElement(g.FlexRow,{align:"center"},l.default.createElement(r.FinePrint,null,"Items/page:"),l.default.createElement(E,{disabled:!1,onChange:c,value:n,step:1,min:1,max:f.PAGINATION_MAX_LIMIT}),l.default.createElement(S,{onChange:c,value:n,step:1,min:1,max:f.PAGINATION_MAX_LIMIT,"data-automation-id":"pagination-settings-ipp-input"})),l.default.createElement(h,{pageNumber:s,itemsPerPage:n,totalItems:i,selectPage:d}));return l.default.createElement(m.default,{checked:t,label:"Paginate items",onClick:function(){return a(!t)},finePrint:t?"".concat(u," page").concat(1===u?"":"s"):null,dataAutomationIdToggle:"pagination-settings-toggle"},p)};t.default=N},5703:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(320)),f=a(326),m=a(330),g=a(351),p=a(348),h=a(482),v=a(371),S=n(a(626)),E=n(a(5704)),N=n(a(1076)),C=a(337),b=a(408),y=(0,m.styled)(g.FlexRow)({alignItems:"center",justifyContent:"between"}),I=(0,m.styled)(p.FinePrint)(function(e){return{width:44,marginRight:e.theme.gutters.normal}}),k=(0,m.styled)(h.Select)(function(e){return{marginRight:e.theme.gutters.normal,flexGrow:1}}),T=(0,m.styled)(S.default)({flexBasis:"auto",width:"49px"}),A=(0,C.singleMemo)(function(e){return(0,f.range)(1,e+1).map(function(t){return c.default.createElement(h.Option,{key:t,value:t,label:_(t,e)})})}),_=function(e,t){return"".concat(e," of ").concat(t)},x=function(e){function PaginationPreviewSettings(){var e,t;(0,l.default)(this,PaginationPreviewSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(PaginationPreviewSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"selectPreviousPage",function(){var e=t.props,a=e.pageNumber,n=e.itemsPerPage,l=e.totalItems,i=l>0?Math.ceil(l/n):1,o=a-1,r=(0,b.wrap)(i,o-1);t.props.selectPage(r+1)}),(0,u.default)((0,s.default)(t),"selectNextPage",function(){var e=t.props,a=e.pageNumber,n=e.itemsPerPage,l=e.totalItems,i=l>0?Math.ceil(l/n):1,o=a-1,r=(0,b.wrap)(i,o+1);t.props.selectPage(r+1)}),t}return(0,d.default)(PaginationPreviewSettings,e),(0,i.default)(PaginationPreviewSettings,[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.pageNumber,a=e.itemsPerPage,n=e.totalItems,l=e.selectPage,i=n>0?Math.ceil(n/a):1;t>i&&l(i)}},{key:"render",value:function(){var e=this.props,t=e.pageNumber,a=e.itemsPerPage,n=e.totalItems,l=e.selectPage,i=e.style,o=n>0?Math.ceil(n/a):1,r=(0,b.clamp)(1,o,t);return c.default.createElement(y,{style:i},c.default.createElement(I,null,"Preview:"),c.default.createElement(k,{animated:!1,handleChange:l,value:r,placeholder:_(r,o),"data-automation-id":"pagination-preview-settings-select-page"},A(o)),c.default.createElement(T,null,c.default.createElement(v.ButtonWithHitarea,{"data-automation-id":"pagination-preview-settings-prev-page",onClick:this.selectPreviousPage},c.default.createElement(E.default,null)),c.default.createElement(v.ButtonWithHitarea,{"data-automation-id":"pagination-preview-settings-next-page",onClick:this.selectNextPage},c.default.createElement(N.default,null))))}}]),PaginationPreviewSettings}(c.default.PureComponent);t.default=x},5704:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"ChevronLeftMediumThick","aria-hidden":!0,focusable:!1,width:8*t,height:13*t,viewBox:"0 0 8 13",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("path",{fill:"none",stroke:"currentColor",strokeWidth:"2",strokeMiterlimit:"10",d:"M6 11L2 6.5 6 2"}))},e.exports.displayName="Svg(ChevronLeftMediumThick)"},5705:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=a(331),g=l(a(395)),p=l(a(1399)),h=l(a(818)),v=l(a(2369)),S=l(a(2370)),E=n(a(2373)),N=n(a(347)),C=n(a(709)),b=n(a(2371)),y=l(a(1400)),I=a(1079),k=a(496),T=a(454),A=a(400),_=a(427),x=function(e){function CondVisSettings(){var e,t;(0,i.default)(this,CondVisSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(CondVisSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"state",{collectionId:null,condVisParams:(0,m.List)()}),(0,c.default)((0,d.default)(t),"onAddClick",function(){t.setState(function(e){return{condVisParams:e.condVisParams.update(function(e){var a=t.getPrimaryFieldOptionSlug();return e.push((0,y.default)({fieldPath:a?(0,k.createFieldPath)(a):"",operator:C.OPERATOR_EQ,value:"value",value2:null,value3:null,open:!0,mint:!0}))})}})}),(0,c.default)((0,d.default)(t),"onOpen",function(e){t.setState(function(t){return{condVisParams:t.condVisParams.setIn([e,"open"],!0)}})}),(0,c.default)((0,d.default)(t),"onClose",function(){t.setState(function(e){return{condVisParams:e.condVisParams.update(function(e){return e.filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)})})}})}),(0,c.default)((0,d.default)(t),"onCommit",function(e){var a=e.index,n=e.fieldPath,l=e.fieldType,i=e.operator,o=e.value,r=e.value2,s=e.value3,d=e.commit,u=t.state.condVisParams.getIn([a,"mint"],!1);if(t.setState(function(e){return{condVisParams:e.condVisParams.update(function(e){return e.update(a,function(e){return void 0!==n&&(e=e.set("fieldPath",n)),void 0!==i&&(e=e.set("operator",i)),void 0!==o&&(e=e.set("value",o)),void 0!==r&&(e=e.set("value2",r)),void 0!==s&&(e=e.set("value3",s)),d&&(e=e.set("mint",!1)),e}).filter(function(e){return!e.mint}).map(function(e){return e.set("open",!1)})})}}),d){var c=t.props,f=c.dispatch,m=c.stores.uiNode.selectedNodeNativeId;f(u?b.condVisParamAdded({nodeId:m,fieldPath:n,operator:i,value:o,value2:r,value3:s,fieldType:l}):b.condVisParamChanged({nodeId:m,index:a,operator:i,value:o,value2:r,value3:s,fieldType:l,fieldPath:n}))}}),t}return(0,u.default)(CondVisSettings,e),(0,o.default)(CondVisSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&(0,m.is)(e.stores.abstractNode,t.stores.abstractNode)&&(0,m.is)(e.stores.bindingContext,t.stores.bindingContext)||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getNode(e);if(t){var a=e.stores,n=a.bindingContext,l=a.collection,i=n.contextCollectionId,o=l.collections,r=(0,T.getAllCollections)({collections:o,contextCollectionId:i}),s=(0,T.getBindingCollectionId)(n),d=s?E.parseQuery({json:t.getIn(["data","dyn","condition","class","false",_.CONDITION_INVISIBLE_CLASS],(0,m.Map)()).toJS().fields,collectionId:s,allCollections:r}):(0,m.List)();this.setState({collectionId:s,condVisParams:d})}}},{key:"getNode",value:function(e){return e=e||this.props,N.getAbstractNode(e.stores.abstractNode,e.stores.uiNode.selectedNodeNativeId)}},{key:"getPrimaryFieldOptionSlug",value:function(){var e=this.state.collectionId,t=this.props.stores,a=t.collection,n=t.bindingContext,l=(0,I.getCollection)(e,a,n),i=l?l.fields:(0,m.List)();if(i&&(0,A.getFieldBySlug)(l,"name"))return"name";var o=i&&i.find(function(e){return"PlainText"===e.get("type")})||i.first();return o?o.get("slug"):null}},{key:"render",value:function(){var e=this,t=this.props,a=t.stores,n=t.actions,l=t.dispatch,i=this.state,o=i.collectionId,r=i.condVisParams;return f.default.createElement(g.default,{className:"cond-vis-settings custom",name:"cond-vis",title:"Conditional Visibility",settingsSectionFlags:a.external.settingsSectionFlags,toggleSettingsSection:n.external.toggleSettingsSection,"data-automation-id":"conditional-visibility-settings","aria-label":"Conditional Visibility"},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:"kit-field conditions"},f.default.createElement("div",{className:"kit-label"},f.default.createElement("span",null,"Conditions:")),f.default.createElement("div",{className:"button-group"},f.default.createElement("div",{className:"kit-button add-part","data-automation-id":"add-condition-button",onClick:this.onAddClick},f.default.createElement("i",{className:"icon-main common-add"})))),f.default.createElement("div",{id:"cond-vis-parameter-list","data-automation-id":"condition-param-list",className:"kit-list-wrapper kit-field cond-vis-param"},f.default.createElement(p.default,{items:r,hasItems:r.some(function(e){return!e.mint})},function(t,i){return f.default.createElement(h.default,{key:i,itemData:t,index:i,open:t.open,onOpen:e.onOpen,onClose:e.onClose,onCommit:e.onCommit,childProps:{stores:a,actions:n,collectionId:o,allParams:r,dispatch:l,type:"condition"},Item:S.default,Panel:v.default})}))))}}]),CondVisSettings}(f.default.Component);t.default=x},5706:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(5707)),f=function(e){function DynStyleSettings(){return(0,l.default)(this,DynStyleSettings),(0,o.default)(this,(0,r.default)(DynStyleSettings).apply(this,arguments))}return(0,s.default)(DynStyleSettings,e),(0,i.default)(DynStyleSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch,l=e.permanentlyDismissedNotes,i=t.bindingContext.inSearchContext;return d.default.createElement(u.default,{className:"dynlist-settings custom",name:"dynstyle",title:"".concat(i?"Search":"Dynamic"," Style Settings"),settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement("div",{className:"kit-panel"},d.default.createElement(c.default,{stores:t,inSearchContext:i,dispatch:n,permanentlyDismissedNotes:l})))}}]),DynStyleSettings}(d.default.Component);t.default=f},5707:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(684)),c=n(a(1050)),f=a(347),m=a(364),g=a(701),p=function(e){function DynStyleSettingsShared(){return(0,l.default)(this,DynStyleSettingsShared),(0,o.default)(this,(0,r.default)(DynStyleSettingsShared).apply(this,arguments))}return(0,s.default)(DynStyleSettingsShared,e),(0,i.default)(DynStyleSettingsShared,[{key:"getNode",value:function(){return(0,f.getAbstractNode)(this.props.stores.abstractNode,this.props.stores.uiNode.selectedNodeNativeId)}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.inSearchContext,n=e.dispatch,l=e.permanentlyDismissedNotes,i=this.getNode();if(!i)return null;var o=i&&"img"===(0,g.__DEPRECATED__getTag)(i),r=i&&"image"===i.getIn(["data","search","bind","style","background-image",0,"slug"]),s=i&&(0,m.isInsideRepeaterListItem)(i)(t.abstractNode.root)||a;return d.default.createElement("div",{className:"dyn-style-settings-shared","data-automation-id":"dyn-style-settings"},s||o?null:d.default.createElement(u.default,{prop:"style",styleProp:"color",checkboxLabel:"Get Text Color from",stores:t,dispatch:n,node:i}),d.default.createElement(u.default,{prop:"style",styleProp:"background-image",checkboxLabel:"Get BG Image from",warningText:"This overrides all background images and gradients.",warningFaq:{link:"https://university.webflow.com/article/image-field?utm_source=settings-panel",text:"Learn More"},stores:t,dispatch:n,node:i}),s?null:d.default.createElement(u.default,{prop:"style",styleProp:"background-color",checkboxLabel:"Get BG Color from",stores:t,dispatch:n,node:i}),s?null:d.default.createElement(u.default,{prop:"style",styleProp:"border-color",checkboxLabel:"Get Border Color from",stores:t,dispatch:n,node:i}),r?d.default.createElement(c.default,{type:"image",dispatch:n,permanentlyDismissedNotes:l}):null)}}]),DynStyleSettingsShared}(d.default.Component);t.default=p},5708:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(2084)),f=function(e){function RadioSettings(){return(0,l.default)(this,RadioSettings),(0,o.default)(this,(0,r.default)(RadioSettings).apply(this,arguments))}return(0,s.default)(RadioSettings,e),(0,i.default)(RadioSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return d.default.createElement(u.default,{className:"radio-settings",name:"radio",title:"Radio Button Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},d.default.createElement("div",{className:"kit-panel"},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n})))}}]),RadioSettings}(d.default.Component);t.default=f},5709:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=n(a(395)),o=n(a(2083)),r=function(e){var t=e.stores,a=e.stores,n=a.abstractNode,r=a.uiNode,s=e.actions,d=e.dispatch;return l.default.createElement(i.default,{className:"checkbox-settings",name:"checkbox",title:"Checkbox Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:s.external.toggleSettingsSection},l.default.createElement(o.default,{stores:{abstractNode:n,uiNode:r},dispatch:d}))};r.displayName="CheckboxSettings";var s=r;t.default=s},5710:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TabsSettingsState=t.Tab=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=l(a(331)),g=l(a(376)),p=l(a(326)),h=l(a(395)),v=l(a(426)),S=l(a(686)),E=l(a(633)),N=l(a(818)),C=l(a(1401)),b=l(a(5711)),y=n(a(346)),I=n(a(341)),k=n(a(347)),T=n(a(5712)),A=[0],_=m.default.Record({id:"",open:!1});t.Tab=_;var x=m.default.Record({tabs:m.default.List(),current:null,easing:"ease",fadeIn:0,fadeOut:1});t.TabsSettingsState=x;var P=function(e){function TabsSettings(){var e,t;(0,i.default)(this,TabsSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(TabsSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onAddClick",t.onAddClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onOpen",t.onOpen.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onClose",t.onClose.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onCommit",t.onCommit.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onSelectClick",t.onSelectClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onEditClick",t.onEditClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onRemoveClick",t.onRemoveClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onEasingChange",t.onEasingChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onFadeInChange",t.onFadeInChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onFadeOutChange",t.onFadeOutChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{tabsSettingsState:new x}),t}return(0,u.default)(TabsSettings,e),(0,o.default)(TabsSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&e.stores.abstractNode===t.stores.abstractNode||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){var t=this;e=e||this.props;var a,n,l=this.getTabsNode(e);if(l){var i=this.state.tabsSettingsState,o=(a=[new _({id:""})],(n=t.getTabsMenuNode(e))&&n.children.forEach(function(e){var t=e.getIn(["data","attr","data-w-tab"]);t&&a.push(new _({id:t}))}),m.default.List(a)),r=l.getIn(["data","tabs","current"],""),s=i.set("tabs",o).set("current",r).set("easing",l.getIn(["data","tabs","easing"],"ease")).set("fadeIn",l.getIn(["data","tabs","fadeIn"],300)).set("fadeOut",l.getIn(["data","tabs","fadeOut"],100));this.setState({tabsSettingsState:s})}}},{key:"getTabsNode",value:function(e){var t=(e=e||this.props).stores.uiNode.selectedNodeNativeId,a=k.getAbstractNode(e.stores.abstractNode,t),n=e.stores.abstractNode.root;return y.closestNode(n,a,function(e){return I.isTabsWrapper(e)})}},{key:"getTabsMenuNode",value:function(e){return e=e||this.props,this.getTabsNode(e).children.find(function(e){return I.isTabsMenu(e)})||null}},{key:"getTabsContentNode",value:function(){return this.getTabsNode().children.find(function(e){return I.isTabsContent(e)})||null}},{key:"onAddClick",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.getTabsContentNode()&&this.getTabsMenuNode()&&this.props.dispatch(T.tabsTabAdded({nodeId:e}))}},{key:"onOpen",value:function(e){var t=this.state.tabsSettingsState.setIn(["tabs",e,"open"],!0);this.setState({tabsSettingsState:t})}},{key:"onClose",value:function(){var e=this.state.tabsSettingsState.update("tabs",function(e){return e.map(function(e){return e.set("open",!1)})});this.setState({tabsSettingsState:e})}},{key:"onCommit",value:function(e){var t=e.index,a=e.id,n=e.commit,l=this.state.tabsSettingsState,i=l.getIn(["tabs",t,"id"],null),o=l.update("tabs",function(e){return e.update(t,function(e){return void 0!==a&&(e=e.set("id",a)),e}).map(function(e){return e.set("open",!1)})});if(this.setState({tabsSettingsState:o}),n){var r=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsTabRenamed({nodeId:r,oldId:i,newId:a}))}}},{key:"onSelectClick",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsCurrentChanged({nodeId:t,id:e}))}},{key:"onEditClick",value:function(e){var t=this.state.tabsSettingsState.update("tabs",function(t){return t.map(function(t){return t.id===e?t.set("open",!0):t})});this.setState({tabsSettingsState:t})}},{key:"onRemoveClick",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsTabRemoved({nodeId:t,id:e,styleBlockState:this.props.stores.styleBlock}))}},{key:"onEasingChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsEasingChanged({nodeId:t,easing:e}))}},{key:"onFadeInChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsFadeInChanged({nodeId:t,fadeIn:e}))}},{key:"onFadeOutChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsFadeOutChanged({nodeId:t,fadeOut:e}))}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch,l=this.state.tabsSettingsState,i=l.tabs,o=l.current,r=l.easing,s=l.fadeIn,d=l.fadeOut;return f.default.createElement(h.default,{className:"tabs-settings",name:"tabs",title:"Tabs Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:"kit-field tab-list"},f.default.createElement("div",{className:"kit-label"},"Set active tab"),f.default.createElement("div",{className:"kit-button add-list pull-right relative",onClick:this.onAddClick},f.default.createElement("i",null))),f.default.createElement(R,{tabs:i,current:o,onSelectClick:this.onSelectClick,onEditClick:this.onEditClick,onRemoveClick:this.onRemoveClick,onOpen:this.onOpen,onClose:this.onClose,onCommit:this.onCommit,stores:t,actions:a,dispatch:n}),f.default.createElement(C.default,{value:r,label:"Easing",onChange:this.onEasingChange}),f.default.createElement("div",{className:"column-2"},f.default.createElement("div",{className:"kit-field fade-in-duration"},f.default.createElement(v.default,{text:"Fade in"}),f.default.createElement(S.default,{value:s,minValue:0,unit:"ms",units:["ms"],ticks:!1,selectedNodeNativeId:t.uiNode.selectedNodeNativeId,onChange:this.onFadeInChange,onUnitChange:p.default.noop,onValueUnitChange:p.default.noop})),f.default.createElement("div",{className:"kit-field fade-out-duration"},f.default.createElement(v.default,{text:"Fade out"}),f.default.createElement(S.default,{value:d,minValue:0,unit:"ms",units:["ms"],ticks:!1,selectedNodeNativeId:t.uiNode.selectedNodeNativeId,onChange:this.onFadeOutChange,onUnitChange:p.default.noop,onValueUnitChange:p.default.noop})))))}}]),TabsSettings}(f.default.Component);t.default=P;var R=function(e){function TabList(){var e,t;(0,i.default)(this,TabList);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(TabList)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onSortEnd",t.onSortEnd.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"renderItem",function(e){var a=e.item,n=e.index,l=e.Item,i=e.Item_Handle,o=t.props,r=o.stores,s=o.actions,d=o.current,u=o.onOpen,c=o.onClose,m=o.onCommit,g=o.onSelectClick,p=o.onEditClick,h=o.onRemoveClick;return f.default.createElement(N.default,{key:a.id,itemData:a,index:n,open:a.open,onOpen:u,onClose:c,onCommit:m,stores:r,childProps:{onSelectClick:g,onEditClick:p,onRemoveClick:h,onClose:c,stores:r,actions:s,current:d,Item:l,Item_Handle:i},Item:D,Panel:b.default})}),t}return(0,u.default)(TabList,e),(0,o.default)(TabList,[{key:"onSortEnd",value:function(e){var t=e.startIndex,a=e.endIndex;if(e.commit){var n=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.tabsTabDragged({nodeId:n,startIndex:t,endIndex:a}))}}},{key:"render",value:function(){var e=this.props.tabs;return f.default.createElement("div",{className:"kit-list-wrapper"},f.default.createElement(E.default,{className:"kit-list2",styleDragOffset:!0,onSortEnd:this.onSortEnd,items:e,invalidTargetIndexes:A,getItemKey:O,renderItem:this.renderItem}))}}]),TabList}(f.default.Component),D=function(e){function TabItem(){var e,t;(0,i.default)(this,TabItem);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(TabItem)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onClick",t.onClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onEditClick",t.onEditClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onRemoveClick",t.onRemoveClick.bind((0,d.default)(t))),t}return(0,u.default)(TabItem,e),(0,o.default)(TabItem,[{key:"isReal",value:function(){var e=this.props.item.id;return Boolean(e)}},{key:"onClick",value:function(e){var t=this.props,a=t.item;(0,t.onSelectClick)(a.id),e.preventDefault(),e.stopPropagation()}},{key:"onEditClick",value:function(e){var t=this.props,a=t.item,n=t.onEditClick;n(a.id),e.preventDefault(),e.stopPropagation()}},{key:"onRemoveClick",value:function(e){var t=this.props,a=t.item,n=t.onRemoveClick;n(a.id),e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.item,a=e.current,n=e.Item,l=e.Item_Handle,i=t.id,o=this.isReal(),r=(0,g.default)("kit-list2-item flat grey radioed tab clearfix ",{active:i===a}),s=(0,g.default)("kit-list2-item-wrap grey",{active:i===a});return f.default.createElement(n,{className:r,onClick:this.onClick},f.default.createElement("div",{className:s,key:"wrap"},i?f.default.createElement(l,{className:"kit-drag-handle"}):null,f.default.createElement("div",{className:"kit-list-radio sprite-mid"},f.default.createElement("i",null)),o?f.default.createElement("a",{className:"edit sprite-mid",onClick:this.onEditClick},f.default.createElement("i",null)):null,o?f.default.createElement("a",{className:"trash sprite-mid",onClick:this.onRemoveClick},f.default.createElement("i",null)):null,f.default.createElement("div",{className:"label one-line-text"},f.default.createElement("span",{className:"name"},i||"None"))))}}]),TabItem}(f.default.Component),O=function(e){return e.id}},5711:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(326)),f=n(a(407)),m=n(a(320)),g=n(a(376)),p=n(a(744)),h=n(a(426)),v=n(a(449)),S=n(a(594)),E=a(366),N=function(e){function TabNamePanel(){var e,t;(0,l.default)(this,TabNamePanel);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(TabNamePanel)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"onIdChange",t.onIdChange.bind((0,s.default)(t))),(0,u.default)((0,s.default)(t),"onSave",t.onSave.bind((0,s.default)(t))),(0,u.default)((0,s.default)(t),"onClose",t.onClose.bind((0,s.default)(t))),(0,u.default)((0,s.default)(t),"state",{id:"",nameTaken:!1}),t}return(0,d.default)(TabNamePanel,e),(0,i.default)(TabNamePanel,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshTab()}},{key:"componentDidMount",value:function(){this.focusInput()}},{key:"componentDidUpdate",value:function(e,t){c.default.isEqual(t,this.state)||this.props.refreshPanel()}},{key:"focusInput",value:function(){(0,f.default)(this.nameTextBox).find("input").trigger("focus").trigger("select")}},{key:"refreshTab",value:function(e){var t=(e=e||this.props).item.id,a={};t!==this.state.id&&(a.id=t),Object.keys(a).length>0&&this.setState(a)}},{key:"isValid",value:function(){var e=this.state,t=e.id,a=e.nameTaken;return Boolean(t)&&!a}},{key:"getInputClasses",value:function(){return(0,g.default)({invalid:!this.isValid()})}},{key:"getButtonClasses",value:function(){return(0,g.default)(["kit-button","has-text save"],{disabled:!this.isValid()})}},{key:"onIdChange",value:function(e){var t=this.props,a=t.item,n=t.stores,l=e!==a.id&&(0,E.tabNameTaken)(e,n.abstractNode,n.uiNode);this.setState({id:e,nameTaken:l})}},{key:"onSave",value:function(){var e=this.state.id;if(this.isValid()){var t=this.props,a=t.index;(0,t.onCommit)({index:a,id:e,commit:!0})}}},{key:"onClose",value:function(){var e=this.props,t=e.index;(0,e.onCommit)({index:t,commit:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.id,n=t.nameTaken,l=m.default.createElement(p.default,null,m.default.createElement("div",{className:"tab-name-panel attribute-panel settings-panel visible"},m.default.createElement("div",{className:"inner"},m.default.createElement("div",{className:"kit-panel"},m.default.createElement("div",{className:"kit-field name"},m.default.createElement(h.default,{text:"Name"}),m.default.createElement(v.default,{tabIndex:1,value:a,className:this.getInputClasses(),onChange:this.onIdChange,onEnter:this.onSave,ref:function(t){e.nameTextBox=t},autofocus:!0}),n?m.default.createElement("div",{className:"taken"},"This name is already taken."):null),m.default.createElement("div",{className:this.getButtonClasses(),tabIndex:2,onClick:this.onSave},"Save")))));return m.default.createElement(S.default,{content:l,open:this.props.open,arrowSize:0,title:"Rename Tab",handleOpen:this.onClose,showMask:!0},this.props.children)}}]),TabNamePanel}(m.default.Component);t.default=N},5712:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tabsTabDragged=t.tabsFadeOutChanged=t.tabsFadeInChanged=t.tabsEasingChanged=t.tabsCurrentChanged=t.tabsTabRenamed=t.tabsTabRemoved=t.tabsTabAdded=void 0;var n=a(357),l=a(333),i=(0,n.createAction)(l.TABS_TAB_ADDED);t.tabsTabAdded=i;var o=(0,n.createAction)(l.TABS_TAB_REMOVED);t.tabsTabRemoved=o;var r=(0,n.createAction)(l.TABS_TAB_RENAMED);t.tabsTabRenamed=r;var s=(0,n.createAction)(l.TABS_CURRENT_CHANGED);t.tabsCurrentChanged=s;var d=(0,n.createAction)(l.TABS_EASING_CHANGED);t.tabsEasingChanged=d;var u=(0,n.createAction)(l.TABS_FADE_IN_CHANGED);t.tabsFadeInChanged=u;var c=(0,n.createAction)(l.TABS_FADE_OUT_CHANGED);t.tabsFadeOutChanged=c;var f=(0,n.createAction)(l.TABS_TAB_DRAGGED);t.tabsTabDragged=f},5713:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=l(a(331)),g=l(a(376)),p=l(a(326)),h=l(a(395)),v=l(a(426)),S=l(a(686)),E=l(a(694)),N=l(a(685)),C=l(a(506)),b=l(a(1401)),y=a(347),I=n(a(364)),k=n(a(542)),T=n(a(1816)),A=a(366),_=a(530),x=a(380),P=a(368),R={menuOpen:!1,links:0,menuType:"default",easing:"ease",easing2:"ease",duration:void 0,docHeight:!1,noScroll:!1,collapse:"medium"},D=m.default.Record(R),O=[{value:"default",label:"Drop Down"},{value:"over-right",label:"Over Right"},{value:"over-left",label:"Over Left"}],F={all:"Always appear",medium:"Tablet and below",small:"Phone (L) and below",tiny:"Phone (P) and below",none:"None"},w={all:["main","medium","small","tiny"],medium:["medium","small","tiny"],small:["small","tiny"],tiny:["tiny"],none:["none"]},M={all:0,medium:1,small:2,tiny:3,none:4},L=["all","medium","small","tiny","none"],U=function(e){function NavbarSettings(){var e,t;(0,i.default)(this,NavbarSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(NavbarSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onToggleMenuOpen",t.onToggleMenuOpen.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAddLink",t.onAddLink.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onMenuTypeChange",t.onMenuTypeChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onEasingChange",t.onEasingChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onEasing2Change",t.onEasing2Change.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onDurationChange",t.onDurationChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleDocHeight",t.onToggleDocHeight.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleNoScroll",t.onToggleNoScroll.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onCollapseChange",t.onCollapseChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"on_CollapseChange",t.on_CollapseChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"on_CollapseStart",t.on_CollapseStart.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"on_CollapseEnd",t.on_CollapseEnd.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{navbarSettingsState:D(),startCollapse:null}),t}return(0,u.default)(NavbarSettings,e),(0,o.default)(NavbarSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&m.default.is(e.stores.abstractNode,t.stores.abstractNode)||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getNavbarNode(e);if(t){var a=this.state.navbarSettingsState.set("menuType",t.getIn(["data","navbar","animation"],"default")).set("easing",t.getIn(["data","navbar","easing"],"ease")).set("easing2",t.getIn(["data","navbar","easing2"],"ease")).set("duration",t.getIn(["data","navbar","duration"])).set("docHeight",t.getIn(["data","navbar","docHeight"],!1)).set("noScroll",t.getIn(["data","navbar","noScroll"],!1)).set("collapse",t.getIn(["data","navbar","collapse"],"medium")).set("menuOpen",t.getIn(["data","temp","navbar","isOpen"],!1));this.setState({navbarSettingsState:a})}}},{key:"getNavbarNode",value:function(e){var t=(e=e||this.props).stores,a=t.abstractNode,n=t.uiNode.selectedNodeNativeId,l=(0,y.getAbstractNode)(a,n);if(!l)return null;var i=I.closestNavbarNode(l,a.root);return i?(0,y.getAbstractNode)(e.stores.abstractNode,i.id):null}},{key:"getMenuButtonClasses",value:function(){var e=this.state.navbarSettingsState.menuOpen;return(0,g.default)(["kit-button","has-text","open-menu"],{active:e})}},{key:"getCollapseLabel",value:function(){var e=this.state.navbarSettingsState.collapse;return F[e]}},{key:"getCollapseButtonClass",value:function(e){var t=this.state.navbarSettingsState.collapse,a=-1!==w[t].indexOf(e);return(0,g.default)(["sprite-mid",e],{active:a})}},{key:"onToggleMenuOpen",value:function(){var e=this.props.stores,t=e.styleBlock,a=e.uiNode,n=e.abstractNode,l=a.selectedNodeNativeId,i=t.getOrderedBreakpointIds();(0,_.navbarMenuToggled)({abstractNodeState:n,nodeId:l,mediaQueryList:i})}},{key:"onAddLink",value:function(){var e=this,t=this.props.stores,a=this.state.navbarSettingsState,n=t.styleBlock,l=t.external,i=t.uiNode,o=t.abstractNode,r=i.selectedNodeNativeId,s=l.mediaQuery,d=a.menuOpen,u=a.collapse,c=(0,y.maybeGetAbstractNode)(o,r).chain(I.maybeClosestNavbarNode(o.root)).chain(function(e){return(0,A.createNavbarLink)(e,(0,P.generateGuid)())});if((0,x.maybe)(void 0)(function(t){e.props.dispatch(T.navbarLinkAdded({nodeId:r,linkNode:t,uiNodeState:i}))})(c),!d){var f=n.getOrderedBreakpointIds();k.shouldSwitchMediaQuery({collapse:u,mediaQuery:s,mediaQueryList:f})||(0,_.navbarMenuToggled)({abstractNodeState:o,nodeId:r,mediaQueryList:f})}}},{key:"onMenuTypeChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.navbarMenuTypeChanged({nodeId:t,menuType:e}))}},{key:"onEasingChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.navbarEasingOpenChanged({nodeId:t,easing:e}))}},{key:"onEasing2Change",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.navbarEasingCloseChanged({nodeId:t,easing2:e}))}},{key:"onDurationChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.navbarDurationChanged({nodeId:t,duration:e}))}},{key:"onToggleDocHeight",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.navbarDocHeightToggled({nodeId:e}))}},{key:"onToggleNoScroll",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.navbarNoScrollToggled({nodeId:e}))}},{key:"onCollapseChange",value:function(e){var t=e.target.value,a=void 0===t?"none":t,n=this.props.stores,l=n.styleBlock,i=n.external,o=n.uiNode.selectedNodeNativeId,r=i.mediaQuery,s=l.getOrderedBreakpointIds();this.props.dispatch(T.navbarCollapseChanged({nodeId:o,collapse:a,mediaQuery:r,mediaQueryList:s}))}},{key:"on_CollapseChange",value:function(e){var t=L[e],a=this.props.stores,n=a.styleBlock,l=a.external,i=a.uiNode.selectedNodeNativeId,o=l.mediaQuery,r=n.getOrderedBreakpointIds();this.props.dispatch(T.navbarCollapseChanged({nodeId:i,collapse:t,mediaQuery:o,mediaQueryList:r}))}},{key:"on_CollapseStart",value:function(){var e=this.state.navbarSettingsState.collapse;this.setState({startCollapse:e})}},{key:"on_CollapseEnd",value:function(e){if(e){var t=this.state.navbarSettingsState.collapse,a=this.props.stores,n=a.styleBlock,l=a.external,i=a.uiNode.selectedNodeNativeId,o=l.mediaQuery,r=n.getOrderedBreakpointIds();this.props.dispatch(T.navbarCollapseChanged({nodeId:i,collapse:t,mediaQuery:o,mediaQueryList:r})),this.setState({startCollapse:null})}else this.refreshAttributes()}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=this.state.navbarSettingsState,l=n.menuType,i=n.easing,o=n.easing2,r=n.duration,s=n.docHeight,d=n.noScroll,u=n.collapse,c=M[u],m=this.getCollapseLabel();return f.default.createElement(h.default,{className:"navbar-settings",name:"navbar",title:"Navbar Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:"column-2"},f.default.createElement("div",{className:this.getMenuButtonClasses(),title:"Open Menu",onClick:this.onToggleMenuOpen},f.default.createElement("i",{className:"hamburger"}),f.default.createElement("span",null,"Open Menu")),f.default.createElement("div",{className:"kit-button has-text add-slide",title:"Add Link",onClick:this.onAddLink},f.default.createElement("i",null),f.default.createElement("span",null,"Add Link"))),f.default.createElement("div",{className:"kit-divider anim"}),f.default.createElement("div",{className:"kit-field anim-type"},f.default.createElement(v.default,{text:"Menu type"}),f.default.createElement(N.default,{value:l,onCommit:this.onMenuTypeChange},O.map(function(e){return f.default.createElement("option",{value:e.value,key:e.value},e.label)}))),f.default.createElement(b.default,{label:"Easing open",value:i,onChange:this.onEasingChange}),f.default.createElement(b.default,{label:"Easing close",value:o,onChange:this.onEasing2Change}),f.default.createElement("div",{className:"kit-field anim-duration"},f.default.createElement(v.default,{text:"Duration"}),f.default.createElement(S.default,{value:r,selectedNodeNativeId:t.uiNode.selectedNodeNativeId,units:["ms"],unit:"ms",minValue:0,increment:100,onChange:this.onDurationChange,onUnitChange:p.default.noop,onValueUnitChange:p.default.noop})),f.default.createElement("div",{className:"kit-checkbox-group kit-inset-box"},f.default.createElement(C.default,{className:"docHeight",checked:s,onClick:this.onToggleDocHeight},"Menu fills page height"),f.default.createElement(C.default,{className:"noScroll",checked:d,onClick:this.onToggleNoScroll},"Disable scroll offset when fixed")),f.default.createElement("div",{className:"kit-title collapse-on"},"Menu icon for: ",f.default.createElement("span",null,m)),f.default.createElement("div",{className:"buttons collapse-icons clearfix"},f.default.createElement("div",{className:this.getCollapseButtonClass("main"),title:"All Devices",value:"all",onClick:this.onCollapseChange},f.default.createElement("i",null)),f.default.createElement("div",{className:this.getCollapseButtonClass("medium"),title:"Tablet",value:"medium",onClick:this.onCollapseChange},f.default.createElement("i",null)),f.default.createElement("div",{className:this.getCollapseButtonClass("small"),title:"Phone Landscape",value:"small",onClick:this.onCollapseChange},f.default.createElement("i",null)),f.default.createElement("div",{className:this.getCollapseButtonClass("tiny"),title:"Phone Portrait",value:"tiny",onClick:this.onCollapseChange},f.default.createElement("i",null)),f.default.createElement("div",{className:this.getCollapseButtonClass("none"),title:"None",value:"none",onClick:this.onCollapseChange},f.default.createElement("i",null))),f.default.createElement("div",{className:"collapse-slider"},f.default.createElement(E.default,{value:c,onChange:this.on_CollapseChange,onStart:this.on_CollapseStart,onEnd:this.on_CollapseEnd,minValue:0,maxValue:4,step:1}))))}}]),NavbarSettings}(f.default.Component);t.default=U},5714:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=l(a(331)),g=l(a(376)),p=l(a(326)),h=n(a(355)),v=l(a(395)),S=l(a(426)),E=l(a(686)),N=l(a(506)),C=n(a(530)),b=n(a(364)),y=n(a(347)),I=a(341),k=a(346),T=n(a(1817)),A=n(a(380)),_=l(a(1364)),x=a(340),P=a(368),R=m.default.Record({delay:0,hover:!1,open:!1}),D=function(e){function DropdownSettings(){var e,t;(0,i.default)(this,DropdownSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(DropdownSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onToggleOpen",t.onToggleOpen.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAddLink",t.onAddLink.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onDelayChange",t.onDelayChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onHoverChange",t.onHoverChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{dropdownSettingsState:R()}),t}return(0,u.default)(DropdownSettings,e),(0,o.default)(DropdownSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&m.default.is(e.stores.abstractNode,t.stores.abstractNode)||this.refreshAttributes(e)}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getDropdownNode(e);if(t){var a=this.state.dropdownSettingsState.set("delay",t.getIn(["data","dropdown","delay"])).set("hover",t.getIn(["data","dropdown","hover"],!1)).set("open",t.getIn(["data","temp","dropdown","isOpen"],!1));this.setState({dropdownSettingsState:a})}}},{key:"getOpenMenuClasses",value:function(){var e=this.state.dropdownSettingsState.open;return(0,g.default)(["kit-button","has-text","open-menu"],{active:e})}},{key:"getDropdownNode",value:function(e){var t=(e=e||this.props).stores,a=t.abstractNode,n=t.uiNode.selectedNodeNativeId,l=y.getAbstractNode(a,n),i=b.closestDropdownNode(l,a.root);return i?y.getAbstractNode(e.stores.abstractNode,i.id):null}},{key:"onToggleOpen",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;C.dropdownMenuToggled({nodeId:e})}},{key:"onAddLink",value:function(){var e=this,t=this.props.stores,a=t.abstractNode,n=t.uiNode,l=n.selectedNodeNativeId,i=this.state.dropdownSettingsState.open,o=y.maybeGetAbstractNode(a,l).chain(b.maybeClosestDropdownNode(a.root)).chain((0,k.maybeFind)(I.isDropdownList)).map(function(e){var t=(0,k.reduceTree)(e,function(e,t){return(0,I.isDropdownLink)(t)?e.concat(t.getIn(["children",0,"data","value"])):e},[]);return(0,x.toAbstractNode)(_.default.create({},[(0,x.Text)(h.increment(t,"Link"))]))((0,P.generateGuid)())});A.maybe(void 0)(function(t){e.props.dispatch(T.dropdownLinkAdded({nodeId:l,linkNode:t,uiNodeState:n}))})(o),i||C.dropdownMenuToggled({nodeId:l})}},{key:"onDelayChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.dropdownDelayChanged({nodeId:t,delay:e}))}},{key:"onHoverChange",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(T.dropdownHoverToggled({nodeId:e}))}},{key:"render",value:function(){var e=this.props.stores,t=this.state.dropdownSettingsState,a=t.delay,n=t.hover;return f.default.createElement(v.default,{className:"navbar-settings dropdown-settings",name:"navbar",title:"Dropdown Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:"column-2"},f.default.createElement("div",{className:this.getOpenMenuClasses(),onClick:this.onToggleOpen},f.default.createElement("i",{className:"hamburger"}),f.default.createElement("span",null,"Open Menu")),f.default.createElement("div",{className:"kit-button has-text add-slide",onClick:this.onAddLink},f.default.createElement("i",null),f.default.createElement("span",null,"Add Link"))),f.default.createElement("div",{className:"kit-divider anim"}),f.default.createElement("div",{className:"kit-field anim-duration"},f.default.createElement(S.default,{text:"Close Delay"}),f.default.createElement(E.default,{value:a,unit:"ms",units:["ms"],increment:100,minValue:0,selectedNodeNativeId:e.uiNode.selectedNodeNativeId,onChange:this.onDelayChange,onUnitChange:p.default.noop,onValueUnitChange:p.default.noop})),f.default.createElement("div",{className:"kit-checkbox-group kit-inset-box dropdown-opts"},f.default.createElement("div",{className:"kit-field hover"},f.default.createElement(N.default,{checked:n,onClick:this.onHoverChange},"Open menu on hover")))))}}]),DropdownSettings}(f.default.Component);t.default=D},5715:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(321)),m=l(a(320)),g=l(a(331)),p=l(a(326)),h=l(a(395)),v=l(a(426)),S=l(a(686)),E=l(a(685)),N=l(a(506)),C=l(a(1401)),b=a(446),y=a(347),I=a(346),k=n(a(364)),T=n(a(542)),A=n(a(5716)),_=a(368),x=a(341),P=m.default.createElement("div",{className:"kit-button quick-select"},m.default.createElement("i",{key:"hamburger",className:"hamburger"}),",",m.default.createElement("i",{key:"expand",className:"expand"})),R=function(e){var t=e.value,a=e.onChange,n=e.options;return m.default.createElement(b.EnhancedDropdown,{button:P,handleChange:a,value:t,width:120,maxHeight:400},n.map(function(e){return m.default.createElement(b.Option,(0,f.default)({key:e.value},e))}))},D=g.default.Record({animation:"slide",easing:"ease",duration:void 0,infinite:!0,disableSwipe:!1,autoplay:!1,delay:void 0,autoMax:void 0,hideArrows:!1,navRound:!0,navNumbers:!1,navShadow:!1,navInvert:!1,navSpacing:0}),O=[{value:"slide",label:"Slide"},{value:"cross",label:"Cross Fade"},{value:"outin",label:"Fade Out - In"},{value:"fade",label:"Fade Over"},{value:"over",label:"Slide Over"}],F=function(e){function SliderSettings(){var e,t;(0,i.default)(this,SliderSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(SliderSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onAddSlideClick",t.onAddSlideClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onPrevSlideClick",t.onPrevSlideClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onNextSlideClick",t.onNextSlideClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onQuickSelectClick",t.onQuickSelectClick.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAnimationChange",t.onAnimationChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onEasingChange",t.onEasingChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onDurationChange",t.onDurationChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleInfinite",t.onToggleInfinite.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleDisableSwipe",t.onToggleDisableSwipe.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleAutoplay",t.onToggleAutoplay.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onDelayChange",t.onDelayChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onAutoMaxChange",t.onAutoMaxChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleHideArrows",t.onToggleHideArrows.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleNavRound",t.onToggleNavRound.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleNavNumbers",t.onToggleNavNumbers.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleNavShadow",t.onToggleNavShadow.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onToggleNavInvert",t.onToggleNavInvert.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"onNavSpacingChange",t.onNavSpacingChange.bind((0,d.default)(t))),(0,c.default)((0,d.default)(t),"state",{sliderSettingsState:new D}),t}return(0,u.default)(SliderSettings,e),(0,o.default)(SliderSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refreshAttributes()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNode.selectedNodeNativeId===t.stores.uiNode.selectedNodeNativeId&&g.default.is(e.stores.abstractNode,t.stores.abstractNode)||this.refreshAttributes(e)}},{key:"componentDidUpdate",value:function(){if(this.newSlideAdded){var e=this.getSliderNode(),t=this.nativeId(e),a=T.getWidgetData("slider",t);T.triggerWidgetConfig("slider",t,{select:a.pages}),this.newSlideAdded=!1}}},{key:"refreshAttributes",value:function(e){e=e||this.props;var t=this.getSliderNode(e);if(t){var a=this.state.sliderSettingsState.set("animation",t.getIn(["data","slider","animation"],"slide")).set("easing",t.getIn(["data","slider","easing"],"ease")).set("duration",t.getIn(["data","slider","duration"],500)).set("infinite",t.getIn(["data","slider","infinite"],!0)).set("disableSwipe",t.getIn(["data","slider","disableSwipe"],!1)).set("autoplay",t.getIn(["data","slider","autoplay"],!1)).set("delay",t.getIn(["data","slider","delay"]),400).set("autoMax",t.getIn(["data","slider","autoMax"]),0).set("hideArrows",t.getIn(["data","slider","hideArrows"],!1)).set("navRound",t.getIn(["data","slider","navRound"],!1)).set("navNumbers",t.getIn(["data","slider","navNumbers"],!1)).set("navShadow",t.getIn(["data","slider","navShadow"],!1)).set("navInvert",t.getIn(["data","slider","navInvert"],!1)).set("navSpacing",t.getIn(["data","slider","navSpacing"],3));this.setState({sliderSettingsState:a})}}},{key:"nativeId",value:function(e){var t=this.props.stores.abstractNode;return(0,y.generateNativeIdFromAbstractNode)(t,e)}},{key:"getSliderNode",value:function(e){var t=(e=e||this.props).stores,a=t.abstractNode,n=t.uiNode.selectedNodeNativeId,l=(0,y.getAbstractNode)(a,n);return k.closestSliderNode(l,a.root)}},{key:"getMaskNode",value:function(){var e=this.props.stores,t=e.abstractNode,a=e.uiNode.selectedNodeNativeId,n=(0,y.getAbstractNode)(t,a),l=k.closestSliderNode(n,t.root);return(0,I.find)(l,x.isSliderMask)}},{key:"onAddSlideClick",value:function(){var e=this.props.stores.uiNode,t=e.selectedNodeNativeId;this.props.dispatch(A.sliderSlideAdded({nodeId:t,slideId:(0,_.generateGuid)(),uiNodeState:e})),this.newSlideAdded=!0}},{key:"enqueueSlideSelection",value:function(e,t){var a=this;this.enqueuedTimer&&clearTimeout(this.enqueuedTimer),this.enqueuedTimer=setTimeout(function(){a.props.dispatch(A.sliderSlideSelected({slideId:e.id}))},t.config.duration)}},{key:"onPrevSlideClick",value:function(){var e=this.getSliderNode(),t=this.nativeId(e),a=this.getMaskNode(),n=T.getWidgetData("slider",t),l=0===n.index?n.pages-1:n.index-1,i=a.children.get(l);T.triggerWidgetConfig("slider",t,{select:"prev"}),this.enqueueSlideSelection(i,n)}},{key:"onNextSlideClick",value:function(){var e=this.getSliderNode(),t=this.nativeId(e),a=this.getMaskNode(),n=T.getWidgetData("slider",t),l=n.index+1<n.pages?n.index+1:0,i=a.children.get(l);T.triggerWidgetConfig("slider",t,{select:"next"}),this.enqueueSlideSelection(i,n)}},{key:"onQuickSelectClick",value:function(e){var t=this.getMaskNode();if(t){var a=t.children.get(e);if(a){var n=this.getSliderNode();T.triggerWidgetConfig("slider",this.nativeId(n),{select:e}),this.props.dispatch(A.sliderSlideSelected({slideId:a.id}))}}}},{key:"onAnimationChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderAnimationChanged({nodeId:t,animation:e}))}},{key:"onEasingChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderEasingChanged({nodeId:t,easing:e}))}},{key:"onDurationChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderDurationChanged({nodeId:t,duration:e}))}},{key:"onToggleInfinite",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderInfiniteToggled({nodeId:e}))}},{key:"onToggleDisableSwipe",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderDisableSwipeToggled({nodeId:e}))}},{key:"onToggleAutoplay",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderAutoplayToggled({nodeId:e}))}},{key:"onDelayChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderDelayChanged({nodeId:t,delay:e}))}},{key:"onAutoMaxChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderAutoMaxChanged({nodeId:t,autoMax:e}))}},{key:"onToggleHideArrows",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderHideArrowsToggled({nodeId:e}))}},{key:"onToggleNavRound",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderNavRoundToggled({nodeId:e}))}},{key:"onToggleNavNumbers",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderNavNumbersToggled({nodeId:e}))}},{key:"onToggleNavShadow",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderNavShadowToggled({nodeId:e}))}},{key:"onToggleNavInvert",value:function(){var e=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderNavInvertToggled({nodeId:e}))}},{key:"onNavSpacingChange",value:function(e){var t=this.props.stores.uiNode.selectedNodeNativeId;this.props.dispatch(A.sliderNavSpacingChanged({nodeId:t,navSpacing:e}))}},{key:"render",value:function(){var e=this.props.stores,t=this.state.sliderSettingsState,a=t.animation,n=t.easing,l=t.duration,i=t.infinite,o=t.disableSwipe,r=t.autoplay,s=t.delay,d=t.autoMax,u=t.hideArrows,c=t.navRound,f=t.navNumbers,g=t.navShadow,b=t.navInvert,y=t.navSpacing,I=this.getSliderNode();if(!I)return null;var k=T.getWidgetData("slider",this.nativeId(I));return m.default.createElement(h.default,{className:"slider-settings custom",name:"slider",title:"Slider Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},m.default.createElement("div",{className:"kit-panel"},m.default.createElement("div",{className:"slider-buttons"},m.default.createElement("div",{className:"kit-button has-text add-slide",onClick:this.onAddSlideClick},m.default.createElement("i",null),m.default.createElement("span",null,"Add Slide")),m.default.createElement("div",null),m.default.createElement("div",{className:"kit-button left-arrow",onClick:this.onPrevSlideClick},m.default.createElement("i",null)),m.default.createElement("div",{className:"kit-button right-arrow",onClick:this.onNextSlideClick},m.default.createElement("i",null)),m.default.createElement(R,{onChange:this.onQuickSelectClick,value:k.index,options:k.anchors?k.anchors.map(function(e,t){return{value:t,label:"Slide ".concat(t+1)}}):[]})),m.default.createElement("div",{className:"kit-divider anim"}),m.default.createElement("div",{className:"kit-field anim-type"},m.default.createElement(v.default,{text:"Animation"}),m.default.createElement(E.default,{value:a,onCommit:this.onAnimationChange},O.map(function(e){return m.default.createElement("option",{value:e.value,key:e.value},e.label)}))),m.default.createElement(C.default,{value:n,label:"Easing",onChange:this.onEasingChange}),m.default.createElement("div",{className:"kit-field anim-duration"},m.default.createElement(v.default,{text:"Duration"}),m.default.createElement(S.default,{value:l,unit:"ms",units:["ms"],minValue:0,increment:100,selectedNodeNativeId:e.uiNode.selectedNodeNativeId,onChange:this.onDurationChange,onValueUnitChange:this.onDurationChange,onUnitChange:p.default.noop})),m.default.createElement("div",{className:"kit-checkbox-group kit-inset-box slider-opts"},m.default.createElement("div",{className:"kit-field infinite-scroll"},m.default.createElement(N.default,{checked:i,disabled:"slide"!==a,onClick:this.onToggleInfinite},"Infinite repeat slides")),m.default.createElement("div",{className:"kit-field disable-swipe"},m.default.createElement(N.default,{checked:o,onClick:this.onToggleDisableSwipe},"Disable swipe gestures")),m.default.createElement("div",{className:"kit-field autoplay"},m.default.createElement(N.default,{checked:r,onClick:this.onToggleAutoplay},"Auto-play slides")),r?m.default.createElement("div",{className:"kit-field anim-delay"},m.default.createElement(v.default,{text:"Timer delay"}),m.default.createElement(S.default,{value:s,unit:"ms",units:["ms"],minValue:0,increment:100,selectedNodeNativeId:e.uiNode.selectedNodeNativeId,onChange:this.onDelayChange,onValueUnitChange:this.onDelayChange,onUnitChange:p.default.noop})):null,r?m.default.createElement("div",{className:"kit-field anim-auto-max"},m.default.createElement(v.default,{text:"Stop after"}),m.default.createElement(S.default,{value:d,minValue:0,selectedNodeNativeId:e.uiNode.selectedNodeNativeId,onChange:this.onAutoMaxChange,onValueUnitChange:this.onAutoMaxChange,onUnitChange:p.default.noop})):null),m.default.createElement("div",{className:"kit-title"},"Arrows"),m.default.createElement("div",{className:"kit-checkbox-group kit-inset-box arrow-style"},m.default.createElement(N.default,{className:"hideArrows",checked:u,onClick:this.onToggleHideArrows},"Hide at each end")),m.default.createElement("div",{className:"kit-title"},"Slide Nav"),m.default.createElement("div",{className:"kit-checkbox-group kit-inset-box nav-style"},m.default.createElement(N.default,{checked:c,onClick:this.onToggleNavRound},"Rounded"),m.default.createElement(N.default,{checked:f,onClick:this.onToggleNavNumbers},"Number labels"),m.default.createElement(N.default,{checked:g,onClick:this.onToggleNavShadow},"Shadow"),m.default.createElement(N.default,{checked:b,onClick:this.onToggleNavInvert},"Invert colors"),m.default.createElement("div",{className:"kit-field nav-margin"},m.default.createElement(v.default,{text:"Spacing"}),m.default.createElement(S.default,{value:y,unit:"px",units:["px"],minValue:0,selectedNodeNativeId:e.uiNode.selectedNodeNativeId,onChange:this.onNavSpacingChange,onValueUnitChange:this.onNavSpacingChange,onUnitChange:p.default.noop})))))}}]),SliderSettings}(m.default.Component);t.default=F},5716:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliderSlideSelected=t.sliderSlideAdded=t.sliderNavSpacingChanged=t.sliderNavInvertToggled=t.sliderNavShadowToggled=t.sliderNavNumbersToggled=t.sliderNavRoundToggled=t.sliderHideArrowsToggled=t.sliderAutoMaxChanged=t.sliderDelayChanged=t.sliderAutoplayToggled=t.sliderDisableSwipeToggled=t.sliderInfiniteToggled=t.sliderEasingChanged=t.sliderAnimationChanged=t.sliderDurationChanged=void 0;var n=a(357),l=a(333),i=(0,n.createAction)(l.SLIDER_DURATION_CHANGED);t.sliderDurationChanged=i;var o=(0,n.createAction)(l.SLIDER_ANIMATION_CHANGED);t.sliderAnimationChanged=o;var r=(0,n.createAction)(l.SLIDER_EASING_CHANGED);t.sliderEasingChanged=r;var s=(0,n.createAction)(l.SLIDER_INFINITE_TOGGLED);t.sliderInfiniteToggled=s;var d=(0,n.createAction)(l.SLIDER_DISABLE_SWIPE_TOGGLED);t.sliderDisableSwipeToggled=d;var u=(0,n.createAction)(l.SLIDER_AUTOPLAY_TOGGLED);t.sliderAutoplayToggled=u;var c=(0,n.createAction)(l.SLIDER_DELAY_CHANGED);t.sliderDelayChanged=c;var f=(0,n.createAction)(l.SLIDER_AUTO_MAX_CHANGED);t.sliderAutoMaxChanged=f;var m=(0,n.createAction)(l.SLIDER_HIDE_ARROWS_TOGGLED);t.sliderHideArrowsToggled=m;var g=(0,n.createAction)(l.SLIDER_NAV_ROUND_TOGGLED);t.sliderNavRoundToggled=g;var p=(0,n.createAction)(l.SLIDER_NAV_NUMBERS_TOGGLED);t.sliderNavNumbersToggled=p;var h=(0,n.createAction)(l.SLIDER_NAV_SHADOW_TOGGLED);t.sliderNavShadowToggled=h;var v=(0,n.createAction)(l.SLIDER_NAV_INVERT_TOGGLED);t.sliderNavInvertToggled=v;var S=(0,n.createAction)(l.SLIDER_NAV_SPACING_CHANGED);t.sliderNavSpacingChanged=S;var E=(0,n.createAction)(l.SLIDER_SLIDE_ADDED);t.sliderSlideAdded=E;var N=(0,n.createAction)(l.SLIDER_SLIDE_SELECTED);t.sliderSlideSelected=N},5717:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(2085)),f=function(e){function GPlusSettings(){return(0,l.default)(this,GPlusSettings),(0,o.default)(this,(0,r.default)(GPlusSettings).apply(this,arguments))}return(0,s.default)(GPlusSettings,e),(0,i.default)(GPlusSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return d.default.createElement(u.default,{className:"gplus-settings custom",name:"gplus",title:"Google+ Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n}))}}]),GPlusSettings}(d.default.Component);t.default=f},5718:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(320)),f=n(a(376)),m=n(a(395)),g=function(e){function EmbedSettings(){var e,t;(0,l.default)(this,EmbedSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(EmbedSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"onOpenClick",t.onOpenClick.bind((0,s.default)(t))),t}return(0,d.default)(EmbedSettings,e),(0,i.default)(EmbedSettings,[{key:"onOpenClick",value:function(){this.props.actions.embedEditor.showEmbedEditor()}},{key:"render",value:function(){var e=this.props,t=e.abstractNode,a=e.stores,n=e.actions,l=t.data.get("insideRTE");return c.default.createElement(m.default,{className:"embed-settings",name:"embed",title:"Embed Settings",settingsSectionFlags:a.external.settingsSectionFlags,toggleSettingsSection:n.external.toggleSettingsSection},c.default.createElement("button",{className:(0,f.default)({"kit-button":!0,"has-text":!0,disabled:l}),onClick:this.onOpenClick},c.default.createElement("span",null,"Open Code Editor"),c.default.createElement("i",{className:"icon-main new-tab"})))}}]),EmbedSettings}(c.default.Component);t.default=g},5719:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(2089)),f=function(e){function SearchFormSettings(){return(0,l.default)(this,SearchFormSettings),(0,o.default)(this,(0,r.default)(SearchFormSettings).apply(this,arguments))}return(0,s.default)(SearchFormSettings,e),(0,i.default)(SearchFormSettings,[{key:"render",value:function(){return d.default.createElement(u.default,{name:"search-form",title:"Search Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection,"data-automation-id":"search-settings","aria-label":"Search"},d.default.createElement(c.default,this.props))}}]),SearchFormSettings}(d.default.Component);t.default=f},5720:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=a(359),g=n(a(347)),p=a(364),h=l(a(395)),v=l(a(506)),S=l(a(426)),E=l(a(5721)),N=l(a(632)),C=l(a(5722)),b=l(a(5723)),y=l(a(5724)),I=n(a(5725)),k=a(369),T=a(445),A=a(526),_=["temp","state"],x=["temp","searchPreviewQuery"],P=["search","resultsLength"],R=["search","snippetLength"],D=["search","highlightingEnabled"],O=function(e){function SearchResultSettings(){var e,t;(0,i.default)(this,SearchResultSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(SearchResultSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"handlePreviewQueryChange",function(e){var a=t.props,n=a.dispatch,l=a.stores;n(I.searchResultSettingsPreviewQueryChanged({uiNodeState:l.uiNode,query:e}))}),(0,c.default)((0,d.default)(t),"handleUiStateChange",function(e){var a=t.props,n=a.dispatch,l=a.stores;n(I.searchResultSettingsUiStateChanged({uiState:e,uiNodeState:l.uiNode}))}),(0,c.default)((0,d.default)(t),"handleResultsLengthChange",function(e){var a=t.props,n=a.dispatch,l=a.stores;n(I.searchResultSettingsLengthChanged({length:e,uiNodeState:l.uiNode}))}),(0,c.default)((0,d.default)(t),"handleSnippetLengthChange",function(e){var a=t.props,n=a.dispatch,l=a.stores;n(I.searchResultSettingsSnippetLengthChanged({length:e,uiNodeState:l.uiNode}))}),(0,c.default)((0,d.default)(t),"handleHighlightingEnabledChange",function(){var e=t.props,a=e.dispatch,n=e.stores;a(I.searchResultSettingsHighlihgtingToggled({uiNodeState:n.uiNode}))}),(0,c.default)((0,d.default)(t),"openSearchSettingsPanel",function(){var e=t.props.dispatch;t.props.stores.betaFeature.nextGenPanels?e((0,m.panelOpened)(k.SEARCH_PANEL)):(e((0,T.selectLeftSidebarSetting)({settingName:"search"})),e((0,m.panelOpened)(k.SITE_SETTINGS_PANEL)))}),t}return(0,u.default)(SearchResultSettings,e),(0,o.default)(SearchResultSettings,[{key:"getSelectedNode",value:function(){var e=this.props.stores,t=g.getAbstractNode(e.abstractNode,e.uiNode.selectedNodeNativeId);return(0,p.closestSearchResultWrapper)(t,e.abstractNode.root)}},{key:"getData",value:function(){return this.getSelectedNode().get("data")}},{key:"render",value:function(){var e=this.props.isIndexed,t=this.getData(),a=this.props.stores.siteData,n=a.shortName,l=a.allowSiteSearch,i="Previewing sample results. "+(l?"Publish your project to create your first index and start viewing real results.":"Add CMS or Business Hosting to unlock full search functionality."),o=l?"If your results look inaccurate, go the Search Settings panel to start a site indexing.":"Previewing sample results.";return f.default.createElement(h.default,{className:"bem-SearchResultSettings",name:"search-result",title:"Search Result Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},f.default.createElement("div",{className:"kit-panel"},f.default.createElement("div",{className:"kit-field bem-SearchResultSettings_PreviewResultsField"},f.default.createElement("div",null,f.default.createElement("div",{className:"kit-label bem-SearchResultSettings_PreviewResultsLabel"},"Preview results",f.default.createElement(b.default,{content:o,noArrow:!0}))),f.default.createElement(E.default,{className:"bem-SearchResultSettings_PreviewResultsTextBox",placeholder:"Search…",value:t.getIn(x,""),maxLength:256,onChange:this.handlePreviewQueryChange})),e&&l?null:f.default.createElement(y.default,{allowSiteSearch:l,shortName:n,urlRef:"search_result_settings",openSearchSettingsPanel:this.openSearchSettingsPanel},i),f.default.createElement("div",{className:"kit-divider"}),f.default.createElement("div",{className:"kit-field"},f.default.createElement(N.default,{className:"bem-SearchResultSettings_RadioButtons",buttonClass:"has-text bem-SearchResultSettings_RadioButton",value:t.getIn(_,"default"),onChange:this.handleUiStateChange,choices:[{value:"default",label:"Default"},{value:"empty",label:"No Results"}],tooltipDir:"none"})),f.default.createElement("div",{className:"kit-field"},f.default.createElement(S.default,{text:"Results length"}),f.default.createElement(C.default,{placeholder:A.RESULTS_LENGTH_DEFAULT,minValue:A.RESULTS_LENGTH_MIN,maxValue:A.RESULTS_LENGTH_MAX,value:t.getIn(P,A.RESULTS_LENGTH_DEFAULT),stores:this.props.stores,onChange:this.handleResultsLengthChange,throttle:500})),f.default.createElement("div",{className:"kit-field"},f.default.createElement(S.default,{text:"Snippet length"}),f.default.createElement(C.default,{placeholder:A.SNIPPET_LENGTH_DEFAULT,minValue:A.SNIPPET_LENGTH_MIN,maxValue:A.SNIPPET_LENGTH_MAX,step:10,value:t.getIn(R,A.SNIPPET_LENGTH_DEFAULT),stores:this.props.stores,onChange:this.handleSnippetLengthChange,throttle:500})),f.default.createElement("div",{className:"kit-inset-box"},f.default.createElement(v.default,{checked:t.getIn(D,A.HIGHLIGHTING_ENABLED_DEFAULT),onClick:this.handleHighlightingEnabledChange},"Highlight search terms in snippets"))))}}]),SearchResultSettings}(f.default.Component);t.default=O},5721:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(320)),f=n(a(449)),m=function(e){function KitTextBoxStateful(e){var t;return(0,l.default)(this,KitTextBoxStateful),t=(0,o.default)(this,(0,r.default)(KitTextBoxStateful).call(this,e)),(0,u.default)((0,s.default)(t),"onChangeInternal",function(e){t.setState({value:e})}),(0,u.default)((0,s.default)(t),"onChangeExternal",function(){t.props.onChange(t.state.value)}),t.state={value:e.value},t}return(0,d.default)(KitTextBoxStateful,e),(0,i.default)(KitTextBoxStateful,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.value;t!==this.props.value&&this.setState({value:t})}},{key:"render",value:function(){return c.default.createElement(f.default,{value:this.state.value,onChange:this.onChangeInternal,onEnter:this.onChangeExternal,onBlur:this.onChangeExternal,className:this.props.className,placeholder:this.props.placeholder,tabIndex:this.props.tabIndex,onFocus:this.props.onFocus,disabled:this.props.disabled})}}]),KitTextBoxStateful}(c.default.Component);t.default=m},5722:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(320)),f=n(a(694)),m=n(a(686)),g=a(326),p=function(e){function UnitSliderAndBoxStateful(e){var t;return(0,l.default)(this,UnitSliderAndBoxStateful),t=(0,o.default)(this,(0,r.default)(UnitSliderAndBoxStateful).call(this,e)),(0,u.default)((0,s.default)(t),"updateStateValue",function(e){t.setState({value:e}),t.onChange(e)}),t.state={value:e.value},t.setOnChange(e.onChange,e.throttle),t}return(0,d.default)(UnitSliderAndBoxStateful,e),(0,i.default)(UnitSliderAndBoxStateful,[{key:"setOnChange",value:function(e,t){this.onChange=t?(0,g.throttle)(e,t):e}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.onChange===this.props.onChange&&e.throttle===this.props.throttle||this.setOnChange(e.onChange,e.throttle),e.value!==this.state.value&&this.setState({value:e.value})}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.minValue!==e.minValue||this.props.maxValue!==e.maxValue||this.props.step!==e.step||this.props.value!==e.value||this.props.onChange!==e.onChange||this.state.value!==t.value}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(f.default,{minValue:this.props.minValue,maxValue:this.props.maxValue,step:this.props.step,value:this.state.value,onChange:this.updateStateValue}),c.default.createElement("div",{style:{float:"right"}},c.default.createElement(m.default,{small:!0,value:this.state.value,placeholder:this.props.placeholder,minValue:this.props.minValue,maxValue:this.props.maxValue,selectedNodeNativeId:this.props.stores.uiNode.selectedNodeNativeId,onChange:this.updateStateValue})))}}]),UnitSliderAndBoxStateful}(c.default.Component);t.default=p,(0,u.default)(p,"defaultProps",{minValue:0,maxValue:1,step:1,factor:1,throttle:0,placeholder:""})},5723:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=n(a(343)),o=n(a(500)),r=n(a(1193)),s=l.default.createElement(i.default,{_name:"Help_Icon"},l.default.createElement(r.default,null));t.default=function(e){var t=e.content,a=e.label,n=e.noArrow,r=e.style;return l.default.createElement(o.default,{content:t,noArrow:n},l.default.createElement(i.default,{_name:"Help",style:r},s,a&&l.default.createElement(i.default,{_name:"Help_Label"},a)))}},5724:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(320)),f=a(349),m=a(372),g=a(402),p={cursor:"pointer"},h=function(e){function SearchBetaNote(){var e,t;(0,l.default)(this,SearchBetaNote);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(SearchBetaNote)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"handleAddHostingClick",function(){var e=t.props,a=e.allowSiteSearch,n=e.openSearchSettingsPanel,l=e.shortName,i=e.urlRef;if(a)n();else{var o="".concat("https://webflow.com","/dashboard/sites/").concat(l,"/hosting?ref=").concat(i,"&cta=search");f.window.open(o)}}),t}return(0,d.default)(SearchBetaNote,e),(0,i.default)(SearchBetaNote,[{key:"render",value:function(){var e=this.props.allowSiteSearch?"Go to Search Settings":"Add Hosting";return c.default.createElement(m.__DEPRECATED__SigmaNote,{marginTop:2,control:c.default.createElement(g.Link,{style:p,onClick:this.handleAddHostingClick},e),content:this.props.children})}}]),SearchBetaNote}(c.default.Component);t.default=h},5725:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchResultSettingsUiStateChanged=t.searchResultSettingsPreviewQueryChanged=t.searchResultSettingsHighlihgtingToggled=t.searchResultSettingsSnippetLengthChanged=t.searchResultSettingsLengthChanged=void 0;var n=a(357),l=a(333),i=(0,n.createAction)(l.SEARCH_RESULT_SETTINGS_LENGTH_CHANGED);t.searchResultSettingsLengthChanged=i;var o=(0,n.createAction)(l.SEARCH_RESULT_SETTINGS_SNIPPET_LENGTH_CHANGED);t.searchResultSettingsSnippetLengthChanged=o;var r=(0,n.createAction)(l.SEARCH_RESULT_SETTINGS_HIGHLIHGTING_TOGGLED);t.searchResultSettingsHighlihgtingToggled=r;var s=(0,n.createAction)(l.SEARCH_RESULT_SETTINGS_PREVIEW_QUERY_CHANGED);t.searchResultSettingsPreviewQueryChanged=s;var d=(0,n.createAction)(l.SEARCH_RESULT_SETTINGS_UI_STATE_CHANGED);t.searchResultSettingsUiStateChanged=d},5726:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(2086)),f=function(e){function BackgroundVideoSettings(){return(0,l.default)(this,BackgroundVideoSettings),(0,o.default)(this,(0,r.default)(BackgroundVideoSettings).apply(this,arguments))}return(0,s.default)(BackgroundVideoSettings,e),(0,i.default)(BackgroundVideoSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return d.default.createElement(u.default,{className:"background-video-settings",name:"background-video",title:"Background Video Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n}))}}]),BackgroundVideoSettings}(d.default.Component);t.default=f},5727:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=l(a(331)),g=l(a(395)),p=l(a(506)),h=n(a(341)),v=n(a(347)),S=n(a(2166)),E=function(e){function ContributorSettings(){var e,t;(0,i.default)(this,ContributorSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(ContributorSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"onEditableClick",t.onEditableClick.bind((0,d.default)(t))),t}return(0,u.default)(ContributorSettings,e),(0,o.default)(ContributorSettings,[{key:"shouldComponentUpdate",value:function(e){var t=this.props;return e.stores.uiNode.selectedNodeNativeId!==t.stores.uiNode.selectedNodeNativeId||!m.default.is(e.stores.external.settingsSectionFlags,t.stores.external.settingsSectionFlags)||!m.default.is(e.stores.abstractNode,t.stores.abstractNode)}},{key:"getNode",value:function(){return v.getAbstractNode(this.props.stores.abstractNode,this.props.stores.uiNode.selectedNodeNativeId)}},{key:"isEditable",value:function(){var e=this.getNode();return Boolean(e)&&h.isContributorEditingEnabled(this.props.stores.abstractNode,e)}},{key:"onEditableClick",value:function(){var e=this.props,t=e.stores,a=e.dispatch,n=t.uiNode;a(S.contributorEditableToggled({uiNodeState:n}))}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions;return f.default.createElement(g.default,{className:"contributor-settings custom",name:"contributor",title:"Editor Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},f.default.createElement("div",{className:"switch"},f.default.createElement(p.default,{checked:this.isEditable(),onClick:this.onEditableClick},"Collaborators can edit this element")))}}]),ContributorSettings}(f.default.Component);t.default=E},5728:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(320)),f=a(331),m=a(359),g=a(369),p=a(372),h=a(402),v=n(a(395)),S=n(a(506)),E=n(a(370)),N=n(a(345)),C=n(a(5729)),b=a(330),y=a(423),I=a(341),k=a(347),T=a(389),A=a(1283),_="SEARCH_EXCLUDE_NOTE",x=(0,b.styled)(S.default)({display:"flex",alignItems:"center"}),P=(0,b.styledDiv)(function(e){return{position:"absolute",height:22,width:22,left:22+e.theme.gutters.base/2,display:"inline-block"}}),R=(0,b.styled)(C.default)({height:"100%",width:"100%"}),D=(0,b.styledDiv)(function(e){var t=e.theme.gutters;return{marginLeft:22+t.base/2,paddingRight:t.normal}}),O=(0,b.styled)("span")(function(e){var t=e.theme,a=t.colors;return{cursor:"pointer",borderBottomStyle:"solid",borderBottomWidth:t.control.borderWidth,borderBottomColor:a.foregroundDim}},{hover:function(e){var t=e.theme.colors;return{color:t.foregroundVivid,borderBottomColor:t.foregroundVivid}}}),F={cursor:"pointer"},w=function(e){function SearchIndexableNodeSettings(){var e,t;(0,l.default)(this,SearchIndexableNodeSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(SearchIndexableNodeSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"onIndexableClick",function(){(0,t.props.dispatch)((0,A.searchSettingsExcludeToggled)({uiNodeState:t.props.stores.uiNode}))}),(0,u.default)((0,s.default)(t),"openPageManager",function(){var e=t.props,a=e.actions,n=e.dispatch,l=e.currentPageId;(0,a.pageManager.openSettings)(l,"search"),n((0,m.panelOpened)(g.PAGES_PANEL))}),(0,u.default)((0,s.default)(t),"dismiss",function(){t.props.dispatch((0,y.dismissNote)({id:_}))}),t}return(0,d.default)(SearchIndexableNodeSettings,e),(0,i.default)(SearchIndexableNodeSettings,[{key:"shouldComponentUpdate",value:function(e){var t=this.props;return e.stores.uiNode.selectedNodeNativeId!==t.stores.uiNode.selectedNodeNativeId||!(0,f.is)(e.stores.external.settingsSectionFlags,t.stores.external.settingsSectionFlags)||!(0,f.is)(e.stores.abstractNode,t.stores.abstractNode)||e.currentPageId!==t.currentPageId||e.permanentlyDismissedNotes!==t.permanentlyDismissedNotes||!(0,f.is)(e.stores.page,t.stores.page)}},{key:"getNode",value:function(){return(0,k.getAbstractNode)(this.props.stores.abstractNode,this.props.stores.uiNode.selectedNodeNativeId)}},{key:"isPageExcluded",value:function(){var e=(0,T.getPage)(this.props.currentPageId,this.props.stores.page);return e&&e.searchExclude}},{key:"isAncestorExcluded",value:function(){var e=this.props.stores.abstractNode.getIn(["root"],null);if(!e)return!1;var t=this.getNode();return Boolean(t)&&(0,I.hasAncestorExcludedFromSearch)(e,t)}},{key:"isExcluded",value:function(){var e=this.getNode();return Boolean(e)&&(0,I.isExcludedFromSearch)(e)}},{key:"render",value:function(){var e,t=this.props,a=t.stores,n=t.label,l=t.currentPageId,i=t.permanentlyDismissedNotes,o=this.isExcluded(),r=this.isAncestorExcluded(),s=this.isPageExcluded(),d=s||r;s?e="This content has been excluded in its Page settings.":r&&(e="This content has been excluded in a parent element’s settings.");var u=c.default.createElement(x,{checked:s||r||o,onClick:this.onIndexableClick,disabled:d},c.default.createElement(P,null,c.default.createElement(R,null)),c.default.createElement(D,null,"Exclude ","".concat(n,"’s")," content from site search results"));e&&(u=c.default.createElement(E.default,{alternate:!0,copy:!0,panel:!0,placement:"bottom",arrowSize:0,content:e},c.default.createElement("div",null,u)));var f=a.bindingContextState.pageCollectionId,m=Boolean(f),g=m&&a.collectionState.collections.getIn([f,"singularName"],"this"),S=(0,T.getPages)(a.page).getIn([l,"name"]),C=i.has(_);return c.default.createElement(v.default,{title:"Search Index Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection,"data-automation-id":"search-index-settings","aria-label":"Search Index"},u,C||s?null:c.default.createElement(p.__DEPRECATED__SigmaNote,{marginTop:2,control:c.default.createElement(h.Link,{style:F,onClick:this.dismiss},"Ok, got it"),content:c.default.createElement(c.default.Fragment,null,"To exclude"," ",m?"all pages in your ".concat(g," Collection"):"the whole ".concat(S," page"),", go to its"," ",c.default.createElement(N.default,null,c.default.createElement(O,{onClick:this.openPageManager},m?"Collection ":"","Page settings")),".")}))}}]),SearchIndexableNodeSettings}(c.default.Component);t.default=w},5729:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"SearchExclude","aria-hidden":!0,focusable:!1,width:20*t,height:20*t,viewBox:"0 0 20 20",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("defs",null,n("path",{id:"wf-svg-SearchExclude-a",d:"M11.03 6.975a5.58 5.58 0 01-.9 1.918l3.79 3.788-1.24 1.24-3.787-3.79A5.6 5.6 0 115.203.016a5.5 5.5 0 00-.195 1.78 3.85 3.85 0 104.233 5.06 5.51 5.51 0 001.79.12z"})),n("g",{fill:"currentColor",fillRule:"evenodd"},n("use",{fillRule:"nonzero",xlinkHref:"#wf-svg-SearchExclude-a",opacity:".5",transform:"translate(4 4)"}),n("path",{d:"M14.5 1C16.984 1 19 3.016 19 5.5S16.984 10 14.5 10A4.502 4.502 0 0110 5.5C10 3.016 12.016 1 14.5 1zM17 6V5h-5v1h5z"})))},e.exports.displayName="Svg(SearchExclude)"},5730:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormSettingsState=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=l(a(331)),g=l(a(395)),p=l(a(2087)),h=n(a(346)),v=n(a(364)),S=m.default.Record({method:""});t.FormSettingsState=S;var E=function(e){function PasswordPageFormSettings(){var e,t;(0,i.default)(this,PasswordPageFormSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(PasswordPageFormSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"state",{formSettingsState:new S,redirectUrl:"",actionUrl:""}),t}return(0,u.default)(PasswordPageFormSettings,e),(0,o.default)(PasswordPageFormSettings,[{key:"UNSAFE_componentWillMount",value:function(){this.refresh()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;e.stores.uiNodeState.selectedNodeNativeId===t.stores.uiNodeState.selectedNodeNativeId&&m.default.is(e.stores.abstractNode,t.stores.abstractNode)||this.refresh(e)}},{key:"refresh",value:function(e){e=e||this.props;var t=this.getFormNode(e);if(t){var a=t.getIn(["data","form","redirect"]),n=t.getIn(["data","attr","action"]),l=this.state.formSettingsState.set("method",t.getIn(["data","attr","method"],""));this.setState({formSettingsState:l,redirectUrl:a,actionUrl:n})}}},{key:"getFormNode",value:function(e){var t=(e||this.props).stores,a=t.abstractNode.root,n=t.uiNodeState.selectedNodeNativeId;return v.getFormProxyNode(h.findTreeNode(a,n),a)}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return f.default.createElement(g.default,{className:"form-settings",name:"form",title:"Password Form Settings",settingsSectionFlags:this.props.stores.external.settingsSectionFlags,toggleSettingsSection:this.props.actions.external.toggleSettingsSection},f.default.createElement("div",{className:"kit-panel"},f.default.createElement(p.default,{stores:t,actions:a,dispatch:n})))}}]),PasswordPageFormSettings}(f.default.Component);t.default=E},5731:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(395)),c=n(a(2088)),f=function(e){function PasswordPageFormInputSettings(){return(0,l.default)(this,PasswordPageFormInputSettings),(0,o.default)(this,(0,r.default)(PasswordPageFormInputSettings).apply(this,arguments))}return(0,s.default)(PasswordPageFormInputSettings,e),(0,i.default)(PasswordPageFormInputSettings,[{key:"render",value:function(){var e=this.props,t=e.stores,a=e.actions,n=e.dispatch;return d.default.createElement(u.default,{className:"input-settings",name:"input",title:"Password Input Settings",settingsSectionFlags:t.external.settingsSectionFlags,toggleSettingsSection:a.external.toggleSettingsSection},d.default.createElement(c.default,{stores:t,actions:a,dispatch:n}))}}]),PasswordPageFormInputSettings}(d.default.Component);t.default=f},5732:function(e,t,a){"use strict";var n=a(124),l=a(322);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(a(323)),r=n(a(324)),s=n(a(328)),d=n(a(327)),u=n(a(332)),c=n(a(329)),f=n(a(325)),m=l(a(320)),g=a(330),p=n(a(395)),h=n(a(626)),v=n(a(371)),S=n(a(345)),E=n(a(463)),N=n(a(924)),C=n(a(5733)),b=n(a(5734)),y=n(a(2252)),I=n(a(5735)),k=a(471),T=a(558),A=a(472),_=n(a(912)),x=n(a(487)),P=n(a(370)),R=l(a(406)),D=n(a(933)),O=n(a(5736)),F=a(634),w=a(418),M=a(341),L=a(635),U=a(381),B=a(356),V={ms:{step:50,max:1e3,min:0}},G=(i={},(0,f.default)(i,B.CART_STATES.DEFAULT,"Default"),(0,f.default)(i,B.CART_STATES.EMPTY,"Empty"),(0,f.default)(i,B.CART_STATES.ERROR,"Error"),i),H=(0,g.styledDiv)(function(e){var t=e.theme,a=t.gutters,n=t.colors;return{marginTop:a.x12,marginBottom:a.x12,background:n.backgroundDeep,pointerEvents:"none",height:1,width:"100%"}}),q=(0,g.styledDiv)(function(e){return{marginBottom:e.theme.gutters.base+4}}),W=Object.keys(B.CART_STATES),Q=function(e){function CommerceCartWrapperSettings(){var e,t;(0,o.default)(this,CommerceCartWrapperSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(CommerceCartWrapperSettings)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"updateOpenState",function(){var e=(0,L.getCartOpenState)({uiNodeState:t.props.uiNodeState,abstractNodeState:t.props.abstractNodeState});t.props.dispatch((0,F.cartOpenStateUpdated)({selectedNodeNativeId:t.props.uiNodeState.selectedNodeNativeId,openState:!e}))}),(0,f.default)((0,u.default)(t),"updatePreviewState",function(e){return function(){t.props.dispatch((0,F.cartPreviewStateUpdated)({uiNodeState:t.props.uiNodeState,previewState:e}))}}),(0,f.default)((0,u.default)(t),"updateCartType",function(e){return function(){t.props.dispatch((0,F.cartTypeUpdated)({cartType:e})),t.props.dispatch((0,w.ix2UiUpdateConditionalDefaults)({nodeType:M.isCommerceCartWrapper}))}}),(0,f.default)((0,u.default)(t),"updateCartTypeDropdownOnOpen",function(e){return function(){t.props.dispatch((0,F.cartTypeDropdownOnOpenUpdated)({openOn:e}))}}),(0,f.default)((0,u.default)(t),"toggleCartProductAddedState",function(){t.props.dispatch((0,F.cartProductAddToggled)({uiNodeState:t.props.uiNodeState}))}),(0,f.default)((0,u.default)(t),"updatePreviewCartItemCountState",function(e){t.props.dispatch((0,F.cartPreviewItemCountStateUpdated)({uiNodeState:t.props.uiNodeState,previewItems:Math.ceil(e)}))}),(0,f.default)((0,u.default)(t),"updateEasingType",function(e){t.props.dispatch((0,F.cartAnimationEasingUpdated)({easingType:e}))}),(0,f.default)((0,u.default)(t),"updateDuration",function(e){null!=e&&t.props.dispatch((0,F.cartAnimationDurationUpdated)({duration:e.value}))}),t}return(0,c.default)(CommerceCartWrapperSettings,e),(0,r.default)(CommerceCartWrapperSettings,[{key:"render",value:function(){var e=this,t=this.props,a=t.uiNodeState,n=t.collectionState,l=t.abstractNodeState,i=t.settingsSectionFlags,o=t.toggleSettingsSection,r=(0,L.getCartOpenState)({uiNodeState:a,abstractNodeState:l}),s=(0,L.getCartProductAddedState)({uiNodeState:a,abstractNodeState:l}),d=(0,L.getCartTypeState)({uiNodeState:a,abstractNodeState:l}),u=(0,L.getCartAnimationEasingTypeState)({uiNodeState:a,abstractNodeState:l}),c=(0,L.getCartAnimationDurationState)({uiNodeState:a,abstractNodeState:l}),f=(0,L.getCartTypeDropdownOnOpenState)({uiNodeState:a,abstractNodeState:l}),g=(0,L.getPreviewCartItemCountState)({uiNodeState:a,abstractNodeState:l}),F=(0,U.getProductsItemCount)(n),w={none:{step:1,max:Math.min(F,20),min:F?1:0}},M=F?(0,L.getCartPreviewState)({uiNodeState:a,abstractNodeState:l}):B.CART_STATES.EMPTY;return m.default.createElement(p.default,{name:"Cart",title:"Cart Wrapper Settings",settingsSectionFlags:i,toggleSettingsSection:o},m.default.createElement(S.default,null,m.default.createElement(v.default,{selected:r,onClick:this.updateOpenState,"data-automation-id":"cart-toggle-button"},m.default.createElement(N.default,null)," Open cart")),m.default.createElement(H,null),m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(1)]},m.default.createElement(D.default,null,"Cart type:"),m.default.createElement(h.default,null,m.default.createElement(S.default,null,m.default.createElement(v.default,{selected:d===B.CART_TYPES.MODAL,onClick:this.updateCartType(B.CART_TYPES.MODAL),"data-automation-id":"cart-type-modal-button"},m.default.createElement(P.default,{content:"Modal",primary:!0},m.default.createElement(S.default,null,m.default.createElement("div",null,m.default.createElement(y.default,null)))))),m.default.createElement(S.default,null,m.default.createElement(v.default,{selected:d===B.CART_TYPES.LEFT_SIDEBAR,onClick:this.updateCartType(B.CART_TYPES.LEFT_SIDEBAR),"data-automation-id":"cart-type-left-sidebar-button"},m.default.createElement(P.default,{content:"Sidebar-left",primary:!0},m.default.createElement(S.default,null,m.default.createElement("div",null,m.default.createElement(C.default,null)))))),m.default.createElement(S.default,null,m.default.createElement(v.default,{selected:d===B.CART_TYPES.RIGHT_SIDEBAR,onClick:this.updateCartType(B.CART_TYPES.RIGHT_SIDEBAR),"data-automation-id":"cart-type-right-sidebar-button"},m.default.createElement(P.default,{content:"Sidebar-right",primary:!0},m.default.createElement(S.default,null,m.default.createElement("div",null,m.default.createElement(I.default,null)))))),m.default.createElement(S.default,null,m.default.createElement(v.default,{selected:d.includes("Dropdown"),onClick:d!==B.CART_TYPES.LEFT_DROPDOWN?this.updateCartType(B.CART_TYPES.RIGHT_DROPDOWN):null,"data-automation-id":"cart-type-dropdown-button"},m.default.createElement(P.default,{content:"Dropdown",primary:!0},m.default.createElement(S.default,null,m.default.createElement("div",null,m.default.createElement(b.default,null))))))))),d===B.CART_TYPES.LEFT_DROPDOWN||d===B.CART_TYPES.RIGHT_DROPDOWN?m.default.createElement(m.Fragment,null,m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(1)]},m.default.createElement(D.default,null,"Align:"),m.default.createElement(h.default,null,m.default.createElement(S.default,{segmentGrow:null},m.default.createElement(v.default,{selected:d===B.CART_TYPES.LEFT_DROPDOWN,onClick:this.updateCartType(B.CART_TYPES.LEFT_DROPDOWN),"data-automation-id":"cart-type-dropdown-left-align-button"},"Left")),m.default.createElement(S.default,{segmentGrow:null},m.default.createElement(v.default,{selected:d===B.CART_TYPES.RIGHT_DROPDOWN,onClick:this.updateCartType(B.CART_TYPES.RIGHT_DROPDOWN),"data-automation-id":"cart-type-dropdown-right-align-button"},"Right"))))),m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(1)]},m.default.createElement(D.default,null,"Open on:"),m.default.createElement(h.default,null,m.default.createElement(S.default,{segmentGrow:null},m.default.createElement(v.default,{selected:f===B.CART_TYPE_DROPDOWN_ON_OPEN.CLICK,onClick:this.updateCartTypeDropdownOnOpen(B.CART_TYPE_DROPDOWN_ON_OPEN.CLICK),"data-automation-id":"cart-type-dropdown-open-click-button"},"Click")),m.default.createElement(S.default,{segmentGrow:null},m.default.createElement(v.default,{selected:f===B.CART_TYPE_DROPDOWN_ON_OPEN.HOVER,onClick:this.updateCartTypeDropdownOnOpen(B.CART_TYPE_DROPDOWN_ON_OPEN.HOVER),"data-automation-id":"cart-type-dropdown-open-hover-button"},"Hover")))))):null,m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(1)]},m.default.createElement(D.default,null,"Easing:"),m.default.createElement(O.default,{value:u,onChange:this.updateEasingType}))),m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(2),(0,R.fr)(1)]},m.default.createElement(k.StylePanelLabel,null,"Duration:"),m.default.createElement(T.StylePanelSlider,{value:{unit:"ms",value:c},min:V.ms.min,max:V.ms.max,step:V.ms.step,onChange:this.updateDuration,dataAutomationIdKnob:"cart-animation-duration-slider"}),m.default.createElement(A.StylePanelUnitInput,{value:{unit:"ms",value:c},ranges:V,onChange:this.updateDuration,withMagic:!1,dataAutomationIdInput:"cart-animation-duration-input"}))),m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(1)]},m.default.createElement("div",null)," ",m.default.createElement("div",null,m.default.createElement(E.default,{checked:s,onClick:this.toggleCartProductAddedState,label:"Open when product is added"})))),m.default.createElement(H,null),m.default.createElement(q,null,m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(1)]},m.default.createElement(D.default,null,"State:"),m.default.createElement(h.default,null,W.map(function(t){return m.default.createElement(S.default,{key:t,segmentGrow:null},m.default.createElement(v.default,{selected:M===t,onClick:e.updatePreviewState(t),"data-automation-id":B.CART_STATES_AUTOMATION[t],disabled:t!==B.CART_STATES.EMPTY&&!F},G[t]))})))),M===B.CART_STATES.EMPTY?null:m.default.createElement(R.default,{columns:[(0,R.gu)(14),(0,R.fr)(2),(0,R.fr)(1)]},m.default.createElement(D.default,null,"Preview:"),m.default.createElement(_.default,{value:g,min:w.none.min,max:w.none.max,step:w.none.step,onChange:this.updatePreviewCartItemCountState,dataAutomationIdKnob:"cart-preview-slider"}),m.default.createElement(x.default,{onChange:this.updatePreviewCartItemCountState,value:g,min:w.none.min,max:w.none.max,step:w.none.step,dataAutomationIdInput:"cart-preview-input"})))}}]),CommerceCartWrapperSettings}(m.default.Component);t.default=Q},5733:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"CartSidebarLeft","aria-hidden":!0,focusable:!1,width:17*t,height:14*t,viewBox:"0 0 17 14",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("g",{fill:"currentColor",fillRule:"evenodd"},n("path",{opacity:".4",d:"M8 0h9v14H8z"}),n("path",{d:"M0 0h6v14H0z"})))},e.exports.displayName="Svg(CartSidebarLeft)"},5734:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"CartDropdown","aria-hidden":!0,focusable:!1,width:15*t,height:12*t,viewBox:"0 0 15 12",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("path",{d:"M0 0h15v12H0zm3.5 4l4 5 4-5z",fill:"currentColor",fillRule:"evenodd"}))},e.exports.displayName="Svg(CartDropdown)"},5735:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"CartSidebarRight","aria-hidden":!0,focusable:!1,width:17*t,height:14*t,viewBox:"0 0 17 14",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("g",{fill:"currentColor",fillRule:"evenodd"},n("path",{opacity:".4",d:"M0 0h9v14H0z"}),n("path",{d:"M11 0h6v14h-6z"})))},e.exports.displayName="Svg(CartSidebarRight)"},5736:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(329)),d=n(a(320)),u=n(a(919)),c=[{value:"ease",label:"Ease"},{value:"ease-in",label:"Ease In"},{value:"ease-out",label:"Ease Out"},{value:"ease-in-out",label:"Ease In Out"},{value:"linear",label:"Linear"},{value:"ease-in-quad",label:"Ease In Quad"},{value:"ease-in-cubic",label:"Ease In Cubic"},{value:"ease-in-quart",label:"Ease In Quart"},{value:"ease-in-quint",label:"Ease In Quint"},{value:"ease-in-sine",label:"Ease In Sine"},{value:"ease-in-expo",label:"Ease In Expo"},{value:"ease-in-circ",label:"Ease In Circ"},{value:"ease-in-back",label:"Ease In Back"},{value:"ease-out-quad",label:"Ease Out Quad"},{value:"ease-out-cubic",label:"Ease Out Cubic"},{value:"ease-out-quart",label:"Ease Out Quart"},{value:"ease-out-quint",label:"Ease Out Quint"},{value:"ease-out-sine",label:"Ease Out Sine"},{value:"ease-out-expo",label:"Ease Out Expo"},{value:"ease-out-circ",label:"Ease Out Circ"},{value:"ease-out-back",label:"Ease Out Back"},{value:"ease-in-out-quad",label:"Ease In Out Quad"},{value:"ease-in-out-cubic",label:"Ease In Out Cubic"},{value:"ease-in-out-quart",label:"Ease In Out Quart"},{value:"ease-in-out-quint",label:"Ease In Out Quint"},{value:"ease-in-out-sine",label:"Ease In Out Sine"},{value:"ease-in-out-expo",label:"Ease In Out Expo"},{value:"ease-in-out-circ",label:"Ease In Out Circ"},{value:"ease-in-out-back",label:"Ease In Out Back"}],f=function(e){function EasingMenuFancy(){return(0,l.default)(this,EasingMenuFancy),(0,o.default)(this,(0,r.default)(EasingMenuFancy).apply(this,arguments))}return(0,s.default)(EasingMenuFancy,e),(0,i.default)(EasingMenuFancy,[{key:"render",value:function(){return d.default.createElement(u.default,{value:this.props.value,onChange:this.props.onChange},c.map(function(e){return d.default.createElement("option",{value:e.value,label:e.label,key:e.value},e.label)}))}}]),EasingMenuFancy}(d.default.Component);t.default=f},5737:function(e,t,a){"use strict";var n=a(124),l=a(322);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(a(323)),r=n(a(324)),s=n(a(328)),d=n(a(327)),u=n(a(332)),c=n(a(329)),f=n(a(325)),m=n(a(320)),g=n(a(5738)),p=a(330),h=l(a(406)),v=n(a(933)),S=n(a(626)),E=n(a(371)),N=n(a(345)),C=a(356),b=a(635),y=a(346),I=a(634),k=a(347),T=a(341),A=(0,p.styledDiv)(function(e){return{marginTop:e.theme.gutters.base+4}}),_=Object.keys(C.SHIPPING_METHODS_STATES),x=(i={},(0,f.default)(i,C.SHIPPING_METHODS_STATES.DEFAULT,"Default"),(0,f.default)(i,C.SHIPPING_METHODS_STATES.EMPTY,"Empty"),i),P=function(e){function CommerceShippingMethodsSettings(){var e,t;(0,o.default)(this,CommerceShippingMethodsSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,s.default)(this,(e=(0,d.default)(CommerceShippingMethodsSettings)).call.apply(e,[this].concat(n))),(0,f.default)((0,u.default)(t),"updateShippingMethodState",function(e,a){return function(){var n=t.props.uiNodeState;a?t.props.dispatch((0,I.paypalCheckoutShippingMethodsUpdated)({uiNodeState:n,shippingMethodState:e})):t.props.dispatch((0,I.checkoutShippingMethodsUpdated)({uiNodeState:n,shippingMethodState:e}))}}),t}return(0,c.default)(CommerceShippingMethodsSettings,e),(0,r.default)(CommerceShippingMethodsSettings,[{key:"render",value:function(){var e=this,t=this.props,a=t.uiNodeState,n=t.abstractNodeState,l=(0,y.isInside)(T.isCommercePaypalCheckoutFormContainer)(n.root)((0,k.getAbstractNode)(n,a.selectedNodeNativeId)),i=l?(0,b.getPaypalCheckoutShippingMethodsState)({uiNodeState:a,abstractNodeState:n}):(0,b.getShippingMethodsState)({uiNodeState:a,abstractNodeState:n});return m.default.createElement(g.default,this.props,m.default.createElement(A,null,m.default.createElement(h.default,{columns:[(0,h.gu)(14),(0,h.fr)(1)]},m.default.createElement(v.default,null,"State:"),m.default.createElement(S.default,null,_.map(function(t){return m.default.createElement(N.default,{key:t,segmentGrow:null},m.default.createElement(E.default,{selected:i===t,onClick:e.updateShippingMethodState(t,l)},x[t]))})))))}}]),CommerceShippingMethodsSettings}(m.default.Component);t.default=P},5738:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(329)),u=l(a(320)),c=l(a(395)),f=l(a(371)),m=l(a(933)),g=l(a(1006)),p=n(a(406)),h=function(e){function CommerceShippingMethodSettings(){return(0,i.default)(this,CommerceShippingMethodSettings),(0,r.default)(this,(0,s.default)(CommerceShippingMethodSettings).apply(this,arguments))}return(0,d.default)(CommerceShippingMethodSettings,e),(0,o.default)(CommerceShippingMethodSettings,[{key:"render",value:function(){var e=this.props,t=e.settingsSectionFlags,a=e.toggleSettingsSection,n=e.title,l=void 0===n?"Shipping Method List Settings":n,i=e.collectionName,o=void 0===i?"Shipping Methods":i,r=e.children;return u.default.createElement(c.default,{name:"commerceShippingMethodsSettings",title:l,settingsSectionFlags:t,toggleSettingsSection:a},u.default.createElement(p.default,{columns:[(0,p.gu)(14),(0,p.fr)(1)]},u.default.createElement(m.default,null,"Source:"),u.default.createElement(f.default,{dynamic:!0,style:{justifyContent:"space-between"}},u.default.createElement("div",null,o),u.default.createElement(g.default,null))),r)}}]),CommerceShippingMethodSettings}(u.default.Component);t.default=h},5739:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(320)),f=n(a(395)),m=n(a(463)),g=a(635),p=a(634),h=function(e){function CommerceCartButtonItemCountSettings(){var e,t;(0,l.default)(this,CommerceCartButtonItemCountSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(CommerceCartButtonItemCountSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"toggleHideEmptyCartState",function(){t.props.dispatch((0,p.hideCartWhenEmptyToggled)({uiNodeState:t.props.uiNodeState}))}),t}return(0,d.default)(CommerceCartButtonItemCountSettings,e),(0,i.default)(CommerceCartButtonItemCountSettings,[{key:"render",value:function(){var e=this.props,t=e.settingsSectionFlags,a=e.toggleSettingsSection,n=e.uiNodeState,l=e.abstractNodeState,i=(0,g.getHideEmptyCartState)({uiNodeState:n,abstractNodeState:l});return c.default.createElement(f.default,{name:"CommerceCartButtonItemCountSettings",title:"Cart Quantity Settings",settingsSectionFlags:t,toggleSettingsSection:a},c.default.createElement(m.default,{checked:i,onClick:this.toggleHideEmptyCartState,label:"Hide when cart is empty",dataAutomationId:"cart-hide-when-empty-checkbox"}))}}]),CommerceCartButtonItemCountSettings}(c.default.Component);t.default=h},5740:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(320)),f=n(a(1053)),m=n(a(752)),g=n(a(5741)),p=a(330),h=n(a(345)),v=a(635),S=a(634),E=n(a(395)),N=function(e){var t=e.on,a=e.onClick,n=e.dataAutomationId;return c.default.createElement(h.default,null,c.default.createElement(m.default,{on:t,onClick:a,"data-automation-id":n,size:14,length:22}))},C=(0,p.styledDiv)({display:"flex"}),b=(0,p.styled)(g.default)(function(e){return{marginRight:e.theme.gutters.narrow}}),y=c.default.createElement(C,null,c.default.createElement(b,null)," Cart Quantity"),I=(0,p.styled)(f.default)(function(e){return{borderRadius:e.theme.control.borderRadius}}),k=function(e){function CommerceCartButtonSettings(){var e,t;(0,l.default)(this,CommerceCartButtonSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(CommerceCartButtonSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"toggleCartCountState",function(){t.props.dispatch((0,S.cartCountToggled)({uiNodeState:t.props.uiNodeState}))}),t}return(0,d.default)(CommerceCartButtonSettings,e),(0,i.default)(CommerceCartButtonSettings,[{key:"render",value:function(){var e=this.props,t=e.settingsSectionFlags,a=e.toggleSettingsSection,n=e.uiNodeState,l=e.abstractNodeState,i=(0,v.isCartCountHidden)({uiNodeState:n,abstractNodeState:l});return c.default.createElement(E.default,{name:"CommerceCartButtonSettings",title:"Cart Button Settings",settingsSectionFlags:t,toggleSettingsSection:a},c.default.createElement(I,{label:y,extra:c.default.createElement(N,{on:!i,onClick:this.toggleCartCountState,dataAutomationId:"cart-item-count-toggle"})}))}}]),CommerceCartButtonSettings}(c.default.Component);t.default=k},5741:function(e,t,a){"use strict";var n=a(320).createElement;e.exports=function(e){var t=e.scale||1;return n("svg",{"data-icon":"ElementTextInput","aria-hidden":!0,focusable:!1,width:12*t,height:12*t,viewBox:"0 0 12 12",y:null!=e.y?e.y:null,x:null!=e.x?e.x:null,className:"bem-Svg"+(e.className?" "+e.className:""),style:Object.assign({display:"block",transform:"translate(0,0)"},e.style)},n("path",{fill:"currentColor",d:"M10 2v8H2V2h8m1-1H1v10h10V1z"}),n("path",{fill:"currentColor",d:"M4 3H3v6h1V3",opacity:".35"}))},e.exports.displayName="Svg(ElementTextInput)"},5742:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(329)),u=l(a(320)),c=l(a(395)),f=l(a(371)),m=l(a(933)),g=l(a(1006)),p=n(a(406)),h=function(e){function CommerceLockedDynlistSettings(){return(0,i.default)(this,CommerceLockedDynlistSettings),(0,r.default)(this,(0,s.default)(CommerceLockedDynlistSettings).apply(this,arguments))}return(0,d.default)(CommerceLockedDynlistSettings,e),(0,o.default)(CommerceLockedDynlistSettings,[{key:"render",value:function(){var e=this.props,t=e.settingsSectionFlags,a=e.toggleSettingsSection,n=e.title,l=void 0===n?"Cart List Settings":n,i=e.collectionName,o=void 0===i?"Products":i,r=e.children;return u.default.createElement(c.default,{name:"commerceCartListSettings",title:l,settingsSectionFlags:t,toggleSettingsSection:a},u.default.createElement(p.default,{columns:[(0,p.gu)(14),(0,p.fr)(1)]},u.default.createElement(m.default,null,"Source:"),u.default.createElement(f.default,{dynamic:!0,style:{justifyContent:"space-between"}},u.default.createElement("div",null,o),u.default.createElement(g.default,null))),r)}}]),CommerceLockedDynlistSettings}(u.default.Component);t.default=h},5743:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(320)),f=n(a(395)),m=n(a(371)),g=n(a(345)),p=n(a(924)),h=a(634),v=a(635),S=function(e){function CommerceCheckoutFormContainerSettings(){var e,t;(0,l.default)(this,CommerceCheckoutFormContainerSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(CommerceCheckoutFormContainerSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"updateBillingAddressToggleState",function(){var e=(0,v.getBillingAddressToggleState)({uiNodeState:t.props.uiNodeState,abstractNodeState:t.props.abstractNodeState});t.props.dispatch((0,h.billingAddressToggleStateUpdated)({uiNodeState:t.props.uiNodeState,billingAddressToggleState:!e}))}),t}return(0,d.default)(CommerceCheckoutFormContainerSettings,e),(0,i.default)(CommerceCheckoutFormContainerSettings,[{key:"render",value:function(){var e=this.props,t=e.uiNodeState,a=e.abstractNodeState,n=e.settingsSectionFlags,l=e.toggleSettingsSection,i=(0,v.getBillingAddressToggleState)({uiNodeState:t,abstractNodeState:a});return c.default.createElement(f.default,{name:"Checkout",title:"Payment Info Settings",settingsSectionFlags:n,toggleSettingsSection:l},c.default.createElement(g.default,null,c.default.createElement(m.default,{"data-automation-id":"show-billing-address",selected:i,onClick:this.updateBillingAddressToggleState},c.default.createElement(p.default,null),i?"Hide Billing Address":"Show Billing Address")))}}]),CommerceCheckoutFormContainerSettings}(c.default.Component);t.default=S},5744:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(323)),o=l(a(324)),r=l(a(328)),s=l(a(327)),d=l(a(332)),u=l(a(329)),c=l(a(325)),f=l(a(320)),m=a(334),g=l(a(395)),p=l(a(599)),h=n(a(406)),v=l(a(933)),S=a(635),E=a(381),N=a(634),C=function(e){function CommerceOrderItemsSettings(){var e,t;(0,i.default)(this,CommerceOrderItemsSettings);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return t=(0,r.default)(this,(e=(0,s.default)(CommerceOrderItemsSettings)).call.apply(e,[this].concat(n))),(0,c.default)((0,d.default)(t),"updatePreviewOrderItemCountState",function(e){t.props.dispatch((0,N.orderPreviewItemCountStateUpdated)({selectedNodeNativeId:t.props.selectedNodeNativeId,previewItems:e}))}),t}return(0,u.default)(CommerceOrderItemsSettings,e),(0,o.default)(CommerceOrderItemsSettings,[{key:"render",value:function(){var e=this.props,t=e.selectedNodeNativeId,a=e.abstractNodeState,n=e.collectionState,l=e.settingsSectionFlags,i=e.toggleSettingsSection,o=(0,S.getPreviewOrderItemCountState)({selectedNodeNativeId:t,abstractNodeState:a}),r=(0,E.getProductsItemCount)(n),s={none:{step:1,max:Math.min(r,20),min:r?1:0}};return f.default.createElement(g.default,{name:"Order Items",title:"Order Items Settings",settingsSectionFlags:l,toggleSettingsSection:i},f.default.createElement(h.default,{columns:[(0,h.gu)(14),(0,h.fr)(1)]},f.default.createElement(v.default,null,"Preview:"),f.default.createElement(p.default,{spacerLeftOfSlider:!1,value:o,length:100,units:m.emptyArray,ranges:s,onValueChange:this.updatePreviewOrderItemCountState,onInputValueChange:this.updatePreviewOrderItemCountState,dataAutomationIdInput:"order-items-preview-input",dataAutomationIdKnob:"order-items-preview-slider"})))}}]),CommerceOrderItemsSettings}(f.default.Component);t.default=C},5745:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(320)),f=a(330),m=a(359),g=n(a(395)),p=n(a(5746)),h=a(348),v=a(372),S=a(383),E=a(402),N=a(634),C=a(635),b=a(445),y=a(356),I=a(369),k=[{label:"None",key:y.QUICK_CHECKOUT_STATES.NONE},{label:"Apple Pay",key:y.QUICK_CHECKOUT_STATES.APPLE_PAY,subtext:"Visible on Safari"},{label:"Pay with browser",key:y.QUICK_CHECKOUT_STATES.PAY_NOW,subtext:"Visible on Chrome and Edge"}],T=(0,f.styledDiv)(function(e){return{marginTop:e.theme.gutters.base+4}}),A=function(e){function CommerceQuickCheckoutActionsSettings(){var e,t;(0,l.default)(this,CommerceQuickCheckoutActionsSettings);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(CommerceQuickCheckoutActionsSettings)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"updatePreviewState",function(e){return function(){t.props.dispatch((0,N.quickCheckoutPreviewStateUpdated)({uiNodeState:t.props.uiNodeState,previewState:e}))}}),(0,u.default)((0,s.default)(t),"dispatchSidebarActions",function(){var e=t.props,a=e.dispatch,n=e.uiState,l=n.settingsPanelSetting,i=n.commercePanelSetting;"commerce"!==l&&a((0,b.selectLeftSidebarSetting)({settingName:"commerce"})),"payment"!==i&&a((0,b.commerceSettingsPanelSelected)({settingName:"payment"}))}),(0,u.default)((0,s.default)(t),"navigateToPaymentSettings",function(){t.props.betaFeatures.nextGenPanels?t.props.dispatch((0,m.panelOpened)(I.COMMERCE_SETTINGS_PANEL)):t.props.dispatch((0,m.panelOpened)(I.SITE_SETTINGS_PANEL)),t.dispatchSidebarActions()}),t}return(0,d.default)(CommerceQuickCheckoutActionsSettings,e),(0,i.default)(CommerceQuickCheckoutActionsSettings,[{key:"render",value:function(){var e=this.props,t=e.uiNodeState,a=e.abstractNodeState,n=e.commerceState,l=e.settingsSectionFlags,i=e.toggleSettingsSection,o=n.settings.quickCheckoutEnabled,r=(0,C.getQuickCheckoutPreviewState)({uiNodeState:t,abstractNodeState:a,quickCheckoutEnabled:o});return c.default.createElement(g.default,{name:"Web Payments",title:"Web Payments Settings",settingsSectionFlags:l,toggleSettingsSection:i,"data-automation-id":"commerce-quick-checkout-actions-settings"},c.default.createElement(h.FinePrint,null,"Preview:"),c.default.createElement(T,null,c.default.createElement(p.default,{items:k,selectedKey:r,onSelectItem:this.updatePreviewState})),!o&&c.default.createElement(T,null,c.default.createElement(v.__DEPRECATED__SigmaNote,{sizing:"large",intent:"warning",control:c.default.createElement(E.Link,{onClick:this.navigateToPaymentSettings},"Enable Web Payments"),content:c.default.createElement(S.Text,null,"Web Payments are disabled and will not be visible on your published site.")})))}}]),CommerceQuickCheckoutActionsSettings}(c.default.Component);t.default=A},5746:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=a(330),o=n(a(345)),r=a(348),s=(0,i.styledDiv)(function(e){var t=e.theme,a=t.colors,n=t.gutters,l=e.selected,i=l?3:1;return{height:n.x12,width:n.x12,flexShrink:0,border:"".concat(i,"px solid ").concat(a.borderDeep),marginTop:n.x4/2,marginRight:n.x8,borderRadius:"100%",backgroundColor:l?a.foreground:a.backgroundDeep}}),d=(0,i.styledDiv)({width:224}),u=(0,i.styledDiv)(function(e){var t=e.theme,a=t.colors,n=t.gutters,l=t.control,i=e.first,o=e.last,r=e.selected,s=i?l.borderRadius:0,d=o?l.borderRadius:0;return{display:"flex",alignItems:"flex-start",position:"relative",marginTop:-1*l.borderWidth,backgroundColor:a.backgroundDeepAlt,padding:n.x8,borderStyle:"solid",borderWidth:l.borderWidth,borderRadius:"".concat(s,"px ").concat(s,"px ").concat(d,"px ").concat(d,"px"),borderColor:r?a.accent:a.borderDeep,zIndex:r?2:1,cursor:"default"}},{hover:function(e){return{backgroundColor:e.theme.colors.backgroundDeep}}}),c=function(e){var t=e.label,a=e.subtext,n=e.selected,i=e.onSelect,d=e.first,c=e.last;return l.default.createElement(o.default,null,l.default.createElement(u,{first:d,last:c,selected:n,onClick:i},l.default.createElement(s,{selected:n}),l.default.createElement("div",null,l.default.createElement(r.FinePrint,null,t),a&&l.default.createElement(r.FinePrint,{dim:!0},a))))},f=function(e){var t=e.items,a=e.selectedKey,n=e.onSelectItem;return l.default.createElement(d,null,t.map(function(e,i){return l.default.createElement(c,{key:e.key,label:e.label,subtext:e.subtext,selected:a===e.key,first:0===i,last:i===t.length-1,onSelect:n(e.key)})}))};t.default=f},5747:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=n(a(395)),o=n(a(5748)),r=function(e){var t=e.settingsSectionFlags,a=e.toggleSettingsSection,n=e.showPageCount,r=e.toggleShowPageCount;return l.default.createElement(i.default,{name:"PaginationSettings",title:"Pagination Settings",settingsSectionFlags:t,toggleSettingsSection:a},l.default.createElement(o.default,{showPageCount:n,toggleShowPageCount:r}))};t.default=r},5748:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(320)),i=a(330),o=a(351),r=a(348),s=n(a(752)),d=a(335),u=(0,i.styled)(o.FlexRow)(function(e){var t=e.theme,a=t.colors,n=t.gutters,l=t.control;return{alignItems:"center",background:a.backgroundDeepAlt,border:"".concat(l.borderWidth,"px solid ").concat(a.backgroundDeep),height:7*n.x4,padding:n.normal,borderRadius:l.borderRadius}}),c=(0,i.styled)(r.FinePrint)({flexGrow:1}),f=function(e){var t=e.showPageCount,a=e.toggleShowPageCount,n=(0,i.useTheme)().gutters;return l.default.createElement(u,null,l.default.createElement(d.PluginIcon,{icon:[(0,d.pluginName)("Basic"),(0,d.iconName)("Text")],style:{marginRight:n.normal}}),l.default.createElement(c,null,"Show page count"),l.default.createElement(s.default,{onClick:a,size:16,length:26,on:t}))};t.default=f},5749:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildPaginationSettingsProps=void 0;var n=a(341),l=a(364),i=a(333),o=a(337),r=a(346);t.buildPaginationSettingsProps=function(e){var t=e.selectedNode,a=e.abstractNodeState,l=e.dispatch,i=e.settingsSectionFlags,o=e.toggleSettingsSection;return(0,n.isPagination)(t)||(0,n.isPaginationPrevious)(t)||(0,n.isPaginationNext)(t)||(0,n.isPaginationCount)(t)?s(i)(o)(t)(a)(l):null};var s=(0,o.weakMemo)(function(e){return(0,o.weakMemo)(function(t){return(0,o.weakMemo)(function(a){return(0,o.weakMemo)(function(i){return(0,o.weakMemo)(function(o){var s=(0,l.closestDynamoWrapper)(a,i.root)&&(0,r.closestNode)(i.root,a,n.isPagination);if(s){var c=(0,r.contains)(n.isPaginationCount)(s),f=c?u(o):d(o);return{settingsSectionFlags:e,toggleSettingsSection:t,showPageCount:c,toggleShowPageCount:f}}return null})})})})}),d=(0,o.weakMemo)(function(e){return function(){return e({type:i.PAGINATION_COUNT_SHOWN})}}),u=(0,o.weakMemo)(function(e){return function(){return e({type:i.PAGINATION_COUNT_HIDDEN})}})},5750:function(e,t,a){"use strict";var n=a(322),l=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(a(125)),o=l(a(126)),r=l(a(336)),s=l(a(321)),d=n(a(320)),u=a(326),c=a(334),f=a(330),m=a(355),g=a(399),p=a(350),h=a(746),v=l(a(395)),S=n(a(533)),E=a(414),N=a(335),C=a(1321),b=a(442),y=a(387),I=a(2096),k=a(1322),T=a(368),A=a(348),_=l(a(491)),x=l(a(370)),P=a(2100),R=a(874),D=d.useCallback,O=d.useState,F=d.useMemo,w={gridColumn:"span 2"},M=function(e){return e.ExternalStore.settingsSectionFlags},L=[c.emptyArray,c.emptyArray],U=(0,f.styledDiv)(function(e){var t=e.theme,a=t.gutters,n=t.typography;return(0,s.default)({marginTop:a.x4},n.finePrint,{lineHeight:"".concat(n.finePrint.lineHeight,"px")})}),B=function(){var e={padding:3*(0,f.useTheme)().gutters.x4,borderWidth:0};return d.createElement(_.default,{style:e,header:"No override fields",subheader:d.createElement(U,null,"To create a field, select an element within the symbol and click “Link to field” (or click + above).")})},V=(0,f.styled)("span")(function(e){var t=e.theme.gutters;return(0,s.default)({},g.unselectable,g.oneLineText,{marginRight:t.x4})}),G=(0,f.styled)(A.FinePrint)(function(e){return{color:e.theme.colors.warning}}),H=(0,f.styledDiv)(function(e){return{display:"inline-flex",alignItems:"center",maxWidth:41*e.theme.gutters.x4}}),q=function(e){var t=e.isLinked,a=e.label;return d.createElement(x.default,{alternate:!0,content:a},d.createElement(H,null,d.createElement(V,null,a),!t&&d.createElement(G,null,"(unlinked)")))},W={gridColumn:"3/-2"},Q=(0,f.styledDiv)(function(e){var t=e.theme.gutters;return{display:"grid",gridGap:t.x4,alignItems:"center",gridTemplateColumns:"1fr ".concat(6*t.x4,"px")}}),j=d.memo(function(){var e=(0,N.usePlugins)(),t=(0,p.useDispatch)(),a=O(null),n=(0,r.default)(a,2),l=n[0],s=n[1],g=(0,f.useTheme)().gutters,_=(0,p.use__UNSAFE__actionCreators)().ExternalActionCreators.toggleSettingsSection,x=(0,p.useDesignerSelector)(I.selectLiveSelectedNode),U=(0,p.useDesignerSelector)(M),V=x?(0,y.getSymbolRootDataType)(x):null,G=F(function(){if(!V)return L;var t=(0,u.get)(V,["fields","sym","fields","overrides"]);if(!t||"Record"!==t.type)return L;for(var a=[],n=[],l=0,i=Object.keys(t.fields);l<i.length;l++){var o=i[l],r=t.fields[o],s=(0,N.getLabel)(r,c.emptyArray),f=(0,R.getDataTypeIcon)(r,e.getDataTypeByName);a.push({id:o,label:s,icon:d.createElement(N.PluginIcon,{icon:f}),item:r}),n.push(s)}return[a,n]},[V]),H=(0,r.default)(G,2),j=H[0],K=H[1],z=D(function(){var e=(0,o.default)(i.default.mark(function _callee(e){var a,n;return i.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(x){l.next=2;break}return l.abrupt("return");case 2:if(!((a=(0,k.findAllReferencesToField)(x,e)).length>0)){l.next=10;break}return n="Deleting this override field will unlink ".concat(a.length," reference").concat(1===a.length?"":"s"," to it."),l.next=7,(0,b.confirm)({content:d.createElement("span",{"data-automation-id":"symbol-override-ref-unlinked-warning"},n),iconType:"warning",title:"Delete override field?",submit:{label:"Delete override field",intent:"danger"},cancel:{label:"Cancel",intent:"default"}});case 7:if("cancel"!==l.sent.type){l.next=10;break}return l.abrupt("return");case 10:t((0,h.symbolRootFieldDeleted)({id:e,bound:a.length>0}));case 11:case"end":return l.stop()}},_callee)}));return function(t){return e.apply(this,arguments)}}(),[t,x]),Y=j.map(function(e){return e.label}),X=F(function(){return function(e){var a=e.id,n=e.label,i=e.icon,o=e.item,r=function(){t((0,h.symbolRootFieldHovered)({id:n}))},u=function(){t((0,h.symbolRootFieldHovered)({id:null}))};return d.createElement(E.Popover,{key:a,onChange:function(e){return s(e.open?a:null)},state:a===l?E.OPENED_STATE:E.CLOSED_STATE,renderPopoverContent:function(e){var n=e.viewport;return d.createElement(C.DataTypeFieldEditor,{style:{width:n.width},fieldLabels:Y,value:o,fieldId:a,onChange:function(e){t((0,h.symbolRootFieldChanged)({id:a,newField:e}))}})},showArrow:!1},function(e){var t=e.openPopover,l=e.Anchor;return d.createElement(l,null,d.createElement(S.PropertyListItem,{key:a,id:a,"data-automation-id":"PropertyListItem-".concat(n),labelStyle:W,style:{paddingRight:g.x4},label:d.createElement(q,{label:n,isLinked:o.system&&!o.system.isUnlinked}),onClick:j.length?t:void 0,onMouseOver:r,onMouseOut:u,icon:i}))})}},[t,Y,j.length,g.x4,l]);return d.createElement(v.default,{"data-automation-id":"symbol-master-settings",name:"symbol-root",title:"Symbol Master",settingsSectionFlags:U,toggleSettingsSection:_},d.createElement(Q,{gridTemplateColumns:"1fr 24px",alignItems:"center",gridGap:1},d.createElement(A.FinePrint,{"data-automation-id":"PropertyListLabel"},"Override Fields"),d.createElement(S.PropertyListAddButton,{tooltip:"Add override field","data-automation-id":"PropertyListAddButton",onClick:function(){var e=(0,m.increment)(K,"Text"),a=(0,T.generateGuid)();t((0,h.symbolRootFieldAdded)({id:a,name:e})),s(a)}}),d.createElement(S.default,{style:w,"data-automation-id":"SymbolFieldsPropertyList",sortable:!1,disabled:0===j.length,deletable:!0,onItemDeleted:z,items:j,renderNone:B,renderItem:X}),d.createElement(P.SymbolFTUNote,{style:{gridColumn:"span 2 / auto"},trigger:0===j.length?"symbol-master-empty-state":"symbol-master-not-empty-state"})))});t.default=j},694:function(e,t,a){"use strict";var n=a(124);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(323)),i=n(a(324)),o=n(a(328)),r=n(a(327)),s=n(a(332)),d=n(a(329)),u=n(a(325)),c=n(a(320)),f=n(a(1056)),m=a(349),g=n(a(407)),p=m.window.document,h=function(e){function UnitSlider(){var e,t;(0,l.default)(this,UnitSlider);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=(0,o.default)(this,(e=(0,r.default)(UnitSlider)).call.apply(e,[this].concat(n))),(0,u.default)((0,s.default)(t),"state",{changing:!1}),(0,u.default)((0,s.default)(t),"setDomNode",function(e){t.node=e}),(0,u.default)((0,s.default)(t),"onMousedown",function(e){var a=(0,s.default)(t),n=t.trackNode(),l=n.offset().left,i=n.width();function computeValue(e){var t=a.props.minValue+Math.min(Math.max((e.clientX-l)/i,0),1)*(a.props.maxValue-a.props.minValue);return a.preciseValue(t)}function update(e){if("-"!==a.props.unit&&"function"==typeof a.props.onValueUnitChange)a.props.onValueUnitChange(computeValue(e),a.props.unit);else{var t=computeValue(e);a.props.onChange(t)}}function stop(e){e.preventDefault(),e.stopPropagation()}function mousemove(e){update(e),stop(e)}function mouseup(e){update(e),a.tweakState.apply(),stop(e)}function cleanup(){o.off("mousemove",mousemove),o.off("mouseup",mouseup),a.tweakState=null,a.setState({changing:!1})}t.tweakState&&t.tweakState.cancel(),t.tweakState={startValue:t.props.value,apply:function(){a.props.onEnd&&a.props.onEnd(!0),cleanup()},cancel:function(){a.props.onEnd&&a.props.onEnd(!1),cleanup()}};var o=(0,g.default)(p);o.on("mousemove",mousemove),o.on("mouseup",mouseup),t.setState({changing:!0}),a.props.onStart&&a.props.onStart(),update(e)}),t}return(0,d.default)(UnitSlider,e),(0,i.default)(UnitSlider,[{key:"UNSAFE_componentWillMount",value:function(){this.tweakState=null}},{key:"componentWillUnmount",value:function(){this.tweakState&&this.tweakState.cancel()}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.value!==e.value||this.state!==t}},{key:"preciseValue",value:function(e){var t=1/this.props.factor;if("precision"in this.props){var a=this.precisionFactor();return Math.round(e*t*a)/t/a}return Math.round(e*t)/t}},{key:"precisionFactor",value:function(){return Math.pow(10,void 0!==this.props.precision?this.props.precision:0)}},{key:"nubbinStyle",value:function(){var e=Number(null!=this.props.value?this.props.value:this.props.placeholder),t=this.props,a=t.minValue,n=t.maxValue;return isNaN(e)?{}:{left:100*Math.min(Math.max((e-a)/(n-a),0),1)+"%"}}},{key:"$domNode",value:function(){return(0,g.default)(this.node)}},{key:"trackNode",value:function(){return this.$domNode().find("> .track")}},{key:"nubbinNode",value:function(){return this.$domNode().find("> .nubbin")}},{key:"render",value:function(){return c.default.createElement("div",{ref:this.setDomNode,className:"kit-unit-slider kit-input-control",onMouseDown:this.props.disabled?null:this.onMousedown},c.default.createElement("div",{className:"track","data-automation-id":this.props.trackAutomationId}),c.default.createElement("span",{className:"nubbin",style:this.nubbinStyle(),tabIndex:"0","data-automation-id":this.props.nubbinAutomationId}),this.state.changing?c.default.createElement(f.default,{to:"#drag-ghost"},c.default.createElement("div",{className:"drag-ghost pointer"})):null)}}]),UnitSlider}(c.default.Component);t.default=h,(0,u.default)(h,"defaultProps",{minValue:0,maxValue:1,step:1,factor:1})},933:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(348),l=(0,a(330).styled)(n.FinePrint)(function(e){return{marginRight:e.theme.gutters.normal,color:"rgb(217, 217, 217)",whiteSpace:"nowrap",textAlign:"right"}});t.default=l}}]);
//# sourceMappingURL=designer.e5c545c7fde7828957e2.chunk.js.map